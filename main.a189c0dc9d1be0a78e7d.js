(self.webpackChunksecurisk=self.webpackChunksecurisk||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},3018:(t,e,n)=>{"use strict";n.d(e,{deG:()=>rn,tb:()=>Tc,AFp:()=>_c,ip1:()=>yc,CZH:()=>vc,hGG:()=>yu,z2F:()=>au,sBO:()=>wa,Sil:()=>Nc,_Vd:()=>zs,EJc:()=>xc,SBq:()=>Ks,qLn:()=>Sr,vpe:()=>Ja,gxx:()=>uo,tBr:()=>En,XFs:()=>I,OlP:()=>nn,zs3:()=>Eo,ZZ4:()=>pa,aQg:()=>ma,soG:()=>Oc,YKP:()=>Ia,v3s:()=>uu,h0i:()=>Aa,PXZ:()=>nu,R0b:()=>jc,FiY:()=>On,Lbi:()=>Sc,g9A:()=>Cc,Qsj:()=>Ys,FYo:()=>Js,JOm:()=>Or,Tiy:()=>ta,q3G:()=>gr,tp0:()=>xn,EAV:()=>du,Rgc:()=>Oa,dDg:()=>zc,DyG:()=>on,q4F:()=>na,GfV:()=>ea,s_b:()=>Da,ifc:()=>F,eFA:()=>ru,G48:()=>tu,Gpc:()=>g,f3M:()=>Cn,X6Q:()=>Xc,_c5:()=>gu,VLi:()=>Qc,c2e:()=>Ec,zSh:()=>ho,wAp:()=>Is,vHH:()=>v,EiD:()=>fr,mCW:()=>Wn,qzn:()=>Un,JVY:()=>Vn,pB0:()=>zn,eBb:()=>Zn,L6k:()=>Bn,LAX:()=>Gn,cg1:()=>Ps,Tjo:()=>pu,kL8:()=>ks,yhl:()=>qn,dqk:()=>B,sIi:()=>Ro,CqO:()=>Xo,QGY:()=>Jo,F4k:()=>Yo,RDi:()=>Ot,AaK:()=>d,z3N:()=>jn,qOj:()=>xo,TTD:()=>bt,_Bn:()=>Bs,xp6:()=>fi,uIk:()=>jo,ekj:()=>ps,Suo:()=>hc,Xpm:()=>X,lG2:()=>st,Yz7:()=>C,cJS:()=>S,oAB:()=>rt,Yjl:()=>at,Y36:()=>Vo,_UZ:()=>Ho,GkF:()=>Ko,BQk:()=>Qo,ynx:()=>$o,qZA:()=>zo,TgZ:()=>Go,EpF:()=>Wo,n5z:()=>Je,Ikx:()=>Ss,LFG:()=>wn,$8M:()=>Xe,NdJ:()=>ts,CRH:()=>dc,oxw:()=>os,Hsn:()=>cs,F$t:()=>as,Q6J:()=>Bo,s9C:()=>us,MGl:()=>ls,DdM:()=>Qa,VKq:()=>Ka,iGM:()=>uc,CHM:()=>Gt,oJD:()=>mr,LSH:()=>yr,kYT:()=>it,Udp:()=>fs,WFA:()=>es,d8E:()=>Ts,YNc:()=>qo,W1O:()=>mc,_uU:()=>bs,Oqu:()=>ws,hij:()=>Cs,Gf:()=>lc});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(2441),c=n(1307);function u(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${b(t)} found${n}`)}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return E(t,x)||E(t,k)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(A))?t[P]:null}const x=l({"\u0275prov":l}),P=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var I=(()=>((I=I||{})[I.Default=0]="Default",I[I.Host=1]="Host",I[I.Self=2]="Self",I[I.SkipSelf=4]="SkipSelf",I[I.Optional=8]="Optional",I))();let M;function D(t){const e=M;return M=t,e}function R(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function N(t){return{toString:t}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const j="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,B=j||V||U||q,Z={},G=[],z=l({"\u0275cmp":l}),H=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),K=l({"\u0275loc":l}),W=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let Y=0;function X(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Y++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[H]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function rt(t){return N(()=>{const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(nt[t.id]=t.type),e})}function it(t,e){return N(()=>{const n=ut(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function ot(t,e){if(null==t)return Z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=X;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[z]||null}function ut(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(W)?t[W]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Ct}function Ct(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new _t(c&&c.currentValue,e,s===Z),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}let Et;function Ot(t){Et=t}function xt(){return void 0!==Et?Et:"undefined"!=typeof document?document:void 0}function Pt(t){return!!t.listen}bt.ngInherit=!0;const kt={createRenderer:(t,e)=>xt()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function It(t,e){return At(e[t])}function Mt(t,e){return At(e[t.index])}function Dt(t,e){return t.data[e]}function Rt(t,e){const n=e[t];return dt(n)?n:n[0]}function Nt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function jt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return qt.bindingsEnabled}function Bt(){return qt.lFrame.lView}function Zt(){return qt.lFrame.tView}function Gt(t){return qt.lFrame.contextLView=t,t[8]}function zt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return qt.lFrame.currentTNode}function $t(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Qt(){return qt.lFrame.isParent}function Kt(){qt.lFrame.isParent=!1}function Wt(){return qt.isInCheckNoChangesMode}function Jt(t){qt.isInCheckNoChangesMode=t}function Yt(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xt(){return qt.lFrame.bindingIndex++}function te(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){qt.lFrame.currentDirectiveIndex=t}function ne(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function re(){return qt.lFrame.currentQueryIndex}function ie(t){qt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function se(t,e,n){if(n&I.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&I.Host||(r=oe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ce(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return qt.lFrame.selectedIndex}function pe(t){qt.lFrame.selectedIndex=t}function ge(){const t=qt.lFrame;return Dt(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){be(t,e,3,n)}function ve(t,e,n,r){(3&t[2])===n&&be(t,e,n,r)}function _e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function be(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(we(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function we(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Ce=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Oe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ee(t){return 3===t||4===t||6===t}function Oe(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ke(t){return t!==Ce}function Ae(t){return 32767&t}function Ie(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function De(t){const e=Me;return Me=t,e}let Re=0;function Ne(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=je(t,e),o=t.injectorIndex;if(ke(i)){const t=Ae(i),n=Ie(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function je(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Re++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function qe(t,e,n){if(n&I.Optional)return t;w(e,"NodeInjector")}function Ve(t,e,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&I.Optional):R(e,r,n&I.Optional)}finally{D(o)}}return qe(r,e,n)}function Be(t,e,n,r=I.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!se(e,t,r))return r&I.Host?qe(i,n,r):Ve(e,n,r,i);try{const t=o(r);if(null!=t||r&I.Optional)return t;w(n)}finally{he()}}else if("number"==typeof o){let i=null,s=Fe(t,e),a=Ce,c=r&I.Host?e[16][6]:null;for((-1===s||r&I.SkipSelf)&&(a=-1===s?je(t,e):e[s+8],a!==Ce&&Ke(r,!1)?(i=e[1],s=Ae(a),e=Ie(a,e)):s=-1);-1!==s;){const t=e[1];if(Qe(o,s,t.data)){const t=ze(s,e,n,i,r,c);if(t!==Ze)return t}a=e[s+8],a!==Ce&&Ke(r,e[1].data[s+8]===c)&&Qe(o,s,e)?(i=t,s=Ae(a),e=Ie(a,e)):s=-1}}}return Ve(e,n,r,i)}const Ze={};function Ge(){return new We(zt(),Bt())}function ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=He(a,s,n,null==r?gt(a)&&Me:r!=s&&0!=(3&a.type),i&I.Host&&o===a);return null!==c?$e(e,s,c,a):Ze}function He(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&yt(t)&&t.type===n)return c}return null}function $e(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(b(o[n]));const a=De(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?D(s.injectImpl):null;se(t,r,I.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&D(c),De(a),s.resolving=!1,he()}}return i}function Qe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ke(t,e){return!(t&I.Self||t&I.Host&&e)}class We{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Je(t){return N(()=>{const e=t.prototype.constructor,n=e[W]||Ye(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||Ye(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ye(t){return y(t)?()=>{const e=Ye(m(t));return e&&e()}:vt(t)}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ee(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const tn="__parameters__";function en(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(tn)?t[tn]:Object.defineProperty(t,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),on=Function;function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),sn(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hn(t,e,n){let r=fn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=fn(t,e);if(n>=0)return t[1|n]}function fn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},gn=/\n/gm,mn="__source",yn=l({provide:String,useValue:l});let vn;function _n(t){const e=vn;return vn=t,e}function bn(t,e=I.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?R(t,void 0,e):vn.get(t,e&I.Optional?null:void 0,e)}function wn(t,e=I.Default){return(M||bn)(m(t),e)}const Cn=wn;function Sn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(wn(t,n))}else e.push(wn(r))}return e}function Tn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const En=Tn(en("Inject",t=>({token:t})),-1),On=Tn(en("Optional"),8),xn=Tn(en("SkipSelf"),4);let Pn,kn;function An(t){var e;return(null===(e=function(){if(void 0===Pn&&(Pn=null,B.trustedTypes))try{Pn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Pn}())||void 0===e?void 0:e.createHTML(t))||t}function In(t){var e;return(null===(e=function(){if(void 0===kn&&(kn=null,B.trustedTypes))try{kn=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return kn}())||void 0===e?void 0:e.createHTML(t))||t}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dn extends Mn{getTypeName(){return"HTML"}}class Rn extends Mn{getTypeName(){return"Style"}}class Nn extends Mn{getTypeName(){return"Script"}}class Ln extends Mn{getTypeName(){return"URL"}}class Fn extends Mn{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function qn(t){return t instanceof Mn&&t.getTypeName()||null}function Vn(t){return new Dn(t)}function Bn(t){return new Rn(t)}function Zn(t){return new Nn(t)}function Gn(t){return new Ln(t)}function zn(t){return new Fn(t)}class Hn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(Qn)||t.match(Kn)?t:"unsafe:"+t}function Jn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Yn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Jn("area,br,col,hr,img,wbr"),tr=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Jn("rp,rt"),nr=Yn(er,tr),rr=Yn(Xn,Yn(tr,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yn(er,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Jn("srcset"),sr=Yn(ir,or,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Jn("script,style,template");class cr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Wn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function fr(t,e){let n=null;try{dr=dr||function(t){const e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Hn(e):e}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==o);return An((new cr).sanitizeChildren(pr(n)||n))}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=(()=>((gr=gr||{})[gr.NONE=0]="NONE",gr[gr.HTML=1]="HTML",gr[gr.STYLE=2]="STYLE",gr[gr.SCRIPT=3]="SCRIPT",gr[gr.URL=4]="URL",gr[gr.RESOURCE_URL=5]="RESOURCE_URL",gr))();function mr(t){const e=vr();return e?In(e.sanitize(gr.HTML,t)||""):Un(t,"HTML")?In(jn(t)):fr(xt(),_(t))}function yr(t){const e=vr();return e?e.sanitize(gr.URL,t)||"":Un(t,"URL")?jn(t):Wn(_(t))}function vr(){const t=Bt();return t&&t[12]}function _r(t,e){t.__ngContext__=e}function br(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function wr(t){return t.ngOriginalError}function Cr(t,...e){t.error(...e)}class Sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t&&t.ngErrorLogger||Cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(wr(t)):null}_findOriginalError(t){let e=t&&wr(t);for(;e&&wr(e);)e=wr(e);return e||null}}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Er(t){return t instanceof Function?t():t}var Or=(()=>((Or=Or||{})[Or.Important=1]="Important",Or[Or.DashCase=2]="DashCase",Or))();function xr(t,e){return(void 0)(t,e)}function Pr(t){const e=t[3];return ft(e)?e[3]:e}function kr(t){return Ir(t[13])}function Ar(t){return Ir(t[4])}function Ir(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Mr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?qr(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Br(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==At(n)&&Mr(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];Wr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Dr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Rr(o,r),e>0&&(t[n-1][4]=r[4]);const s=un(t,ht+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Lr(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):At(e[t]),a=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function jr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Mt(r,n)}(t,e.parent,n)}function Ur(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function qr(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):qr(t,e,n)}function Br(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Zr(t,e,n){return Gr(t,e,n)}let Gr=function(t,e,n){return 40&t.type?Mt(t,n):null};function zr(t,e,n,r){const i=jr(t,r,e),o=e[11],s=Zr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(o,i,n[a],s,!1);else Vr(o,i,n,s,!1)}function Hr(t,e){if(null!==e){const n=e.type;if(3&n)return Mt(e,t);if(4&n)return Qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Hr(t,n);{const n=t[e.index];return ft(n)?Qr(-1,n):At(n)}}if(32&n)return xr(e,t)()||At(t[e.index]);{const n=$r(t,e);return null!==n?Array.isArray(n)?n[0]:Hr(Pr(t[16]),n):Hr(t,e.next)}}return null}function $r(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Qr(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Hr(t,r)}return e[7]}function Kr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&_r(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Kr(t,e,n.child,r,i,o,!1),Mr(e,t,i,a,o);else if(32&c){const s=xr(n,r);let c;for(;c=s();)Mr(e,t,i,c,o);Mr(e,t,i,a,o)}else 16&c?Jr(t,e,r,n,i,o):Mr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wr(t,e,n,r,i,o){Kr(n,r,t.firstChild,e,i,o,!1)}function Jr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Mr(e,t,i,a[c],o);else Kr(t,e,a,s[3],i,o,!0)}function Yr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function oi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ee(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ii(t,c,n)||""===c&&1===e.length){if(si(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,u,n)){if(si(r))return!1;s=!0}continue}const l=ai(8&r?"class":c,i,ri(t),n);if(-1===l){if(si(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,u,0)||2&r&&u!==t){if(si(r))return!1;s=!0}}}}else{if(!s&&!si(r)&&!si(c))return!1;if(s&&si(c))continue;s=!1,r=c|1&r}}return si(r)||s}function si(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ui(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||si(s)||(e+=li(o,i),i=""),r=s,o=o||!si(r);n++}return""!==i&&(e+=li(o,i)),e}const di={};function fi(t){pi(Zt(),Bt(),fe()+t,Wt())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ve(e,r,0,n)}pe(n)}function gi(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function yi(t){return 2|t}function vi(t){return(131068&t)>>2}function _i(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ie(i),n.contentQueries(2,e[o],o)}}}function Ci(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,jt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Si(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Ht(),s=Qt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return $t(o,!0),o}function Ti(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ei(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&eo(1,r,n);const i=t.template;null!==i&&Pi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&eo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const o=Wt();try{jt(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Pi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),_e(e,0)}if(function(t){for(let e=kr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=kr(t);null!==e;e=Ar(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),_e(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,o=n[++t],s=n[++t];te(o,i),s(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Qi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&eo(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),_e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{de()}}function xi(t,e,n,r){const i=e[10],o=!Wt(),s=Nt(e);try{o&&!s&&i.begin&&i.begin(),s&&Ei(t,e,r),Oi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Pi(t,e,n,r,i){const o=fe(),s=2&r;try{pe(-1),s&&e.length>lt&&pi(t,e,lt,Wt()),n(r,i)}finally{pe(o)}}function ki(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ai(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ne(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&Gi(e,n,r);const c=$e(e,t,a,n);_r(c,e),null!==s&&zi(0,a-i,c,r,0,s),o&&(Rt(n.index,e)[8]=c)}}(t,e,n,Mt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{pe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ee(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ui(r,i)}}finally{pe(-1),ee(s)}}(t,e,n))}function Ii(t,e,n=Mt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Mi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Di(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Di(t,e,n,r,i,o,s,a,c,u){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=ro(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&io(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Li(t,e,n,r,i,o,s,a){const c=Mt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(ao(t,n,u,r,i),gt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(c,r,i):Oe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Fi(t,e,n,r){let i=!1;if(Vt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ci(n,s.selectors,!1)&&(i||(i=[]),Ue(Ne(n,e),t,s.type),yt(s)?(qi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Bi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Ti(t,e,o.length,null);for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=xe(n.mergedAttrs,u.hostAttrs),Zi(t,n,e,c,u),Vi(c,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||ri(e)?null:Hi(n,i);o.push(u),s=Ni(n,c,s),a=Ni(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function ji(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function qi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Se(o,yt(i),null);t.blueprint[r]=s,n[r]=s,ji(t,e,0,r,Ti(t,n,i.hostVars,di),i)}function Gi(t,e,n){const r=Mt(e,t),i=Mi(n),o=t[10],s=Ji(t,Ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function zi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Qi(t,e){const n=Rt(e,t);if(Lt(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=kr(t);null!==n;n=Ar(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Lt(r)&&r[5]>0&&Ki(r)}}function Wi(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ei(r,n,n[8])}function Ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Xi(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw so(e,i),i}finally{r.end&&r.end()}}function to(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=br(n),i=r[1];xi(i,r,i.template,n)}}(t[8])}function eo(t,e,n){ie(0),e(t,n)}const no=(()=>Promise.resolve(null))();function ro(t){return t[7]||(t[7]=[])}function io(t){return t.cleanup||(t.cleanup=[])}function oo(t,e,n){return(null===t||yt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function so(t,e){const n=t[9],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function ao(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function co(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=f(i,t):2==o&&(r=f(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const uo=new nn("INJECTOR",-1);class lo{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const ho=new nn("Set Injector scope."),fo={},po={};let go;function mo(){return void 0===go&&(go=new lo),go}function yo(t,e=null,n=null,r){return new vo(t,n,e||mo(),r)}class vo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(uo,wo(void 0,this));const o=this.records.get(ho);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=I.Default){this.assertNotDestroyed();const r=_n(this),i=D(void 0);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof nn)&&T(t);e=n&&this.injectableDefInScope(n)?wo(_o(t),fo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?mo():this.parent).get(t,e=n&I.Optional&&e===pn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[mn]&&i.unshift(e[mn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{D(i),_n(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||G))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,wo(a,fo));const c=r.providers;if(null!=c&&!s){const e=t;an(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=So(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return Co(t)?wo(void 0,t.useValue):wo(bo(t),fo)}(t);if(So(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=wo(void 0,fo,!0),e.factory=()=>Sn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===fo&&(e.value=po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=m(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function _o(t){const e=T(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bo(t,e,n){let r;if(So(t)){const e=m(t);return vt(e)||_o(e)}if(Co(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Sn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>wn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||_o(e);r=()=>new e(...Sn(t.deps))}var i;return r}function wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Co(t){return null!==t&&"object"==typeof t&&yn in t}function So(t){return"function"==typeof t}const To=function(t,e,n){return function(t,e=null,n=null,r){const i=yo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class Eo{static create(t,e){return Array.isArray(t)?To(t,e,""):To(t.providers,t.parent,t.name||"")}}function Oo(t,e){me(br(t)[1],zt())}function xo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Po(t.inputs),e.declaredInputs=Po(t.declaredInputs),e.outputs=Po(t.outputs);const n=i.hostBindings;n&&Io(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ko(t,o),s&&Ao(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===xo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function Po(t){return t===Z?{}:t===G?[]:t}function ko(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ao(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Io(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}Eo.THROW_IF_NOT_FOUND=pn,Eo.NULL=new lo,Eo.\u0275prov=C({token:Eo,providedIn:"any",factory:()=>wn(uo)}),Eo.__NG_ELEMENT_ID__=-1;let Mo=null;function Do(){if(!Mo){const t=B.Symbol;if(t&&t.iterator)Mo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Mo=n)}}}return Mo}function Ro(t){return!!No(t)&&(Array.isArray(t)||!(t instanceof Map)&&Do()in t)}function No(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lo(t,e,n){return t[e]=n}function Fo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function jo(t,e,n,r){const i=Bt();return Fo(i,Xt(),e)&&(Zt(),function(t,e,n,r,i,o){const s=Mt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ge(),i,t,e,n,r)),jo}function Uo(t,e,n,r){return Fo(t,Xt(),n)?e+_(n)+r:di}function qo(t,e,n,r,i,o,s,a){const c=Bt(),u=Zt(),l=t+lt,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Si(e,t,4,s||null,Ft(u,a));Fi(e,n,l,Ft(u,c)),me(e,l);const h=l.tViews=Di(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];$t(h,!1);const d=c[11].createComment("");zr(u,c,d,h),_r(d,c),Ji(c,c[l]=$i(d,c,d,h)),mt(h)&&Ai(u,c,h),null!=s&&Ii(c,h,a)}function Vo(t,e=I.Default){const n=Bt();return null===n?wn(t,e):Be(zt(),n,m(t),e)}function Bo(t,e,n){const r=Bt();return Fo(r,Xt(),e)&&Li(Zt(),ge(),r,t,e,r[11],n,!1),Bo}function Zo(t,e,n,r,i){const o=i?"class":"style";ao(t,n,e.inputs[o],o,r)}function Go(t,e,n,r){const i=Bt(),o=Zt(),s=lt+t,a=i[11],c=i[s]=Dr(a,e,qt.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Si(e,t,2,i,Ft(a,o));return Fi(e,n,c,Ft(a,s)),null!==c.attrs&&co(c,c.attrs,!1),null!==c.mergedAttrs&&co(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,n,r):o.data[s];$t(u,!0);const l=u.mergedAttrs;null!==l&&Te(a,c,l);const h=u.classes;null!==h&&Xr(a,c,h);const d=u.styles;null!==d&&Yr(a,c,d),64!=(64&u.flags)&&zr(o,i,c,u),0===qt.lFrame.elementDepthCount&&_r(c,i),qt.lFrame.elementDepthCount++,mt(u)&&(Ai(o,i,u),ki(o,u,i)),null!==r&&Ii(i,u)}function zo(){let t=zt();Qt()?Kt():(t=t.parent,$t(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Zt();n.firstCreatePass&&(me(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zo(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zo(n,e,Bt(),e.stylesWithoutHost,!1)}function Ho(t,e,n,r){Go(t,e,n,r),zo()}function $o(t,e,n){const r=Bt(),i=Zt(),o=t+lt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ft(o,r),a=Si(e,t,8,"ng-container",s);return null!==s&&co(a,s,!0),Fi(e,n,a,Ft(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];$t(s,!0);const a=r[o]=r[11].createComment("");zr(i,r,a,s),_r(a,r),mt(s)&&(Ai(i,r,s),ki(i,s,r)),null!=n&&Ii(r,s)}function Qo(){let t=zt();const e=Zt();Qt()?Kt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(me(e,t),pt(t)&&e.queries.elementEnd(t))}function Ko(t,e,n){$o(t,e,n),Qo()}function Wo(){return Bt()}function Jo(t){return!!t&&"function"==typeof t.then}function Yo(t){return!!t&&"function"==typeof t.subscribe}const Xo=Yo;function ts(t,e,n,r){const i=Bt(),o=Zt(),s=zt();return ns(o,i,i[11],s,t,e,!!n,r),ts}function es(t,e){const n=zt(),r=Bt(),i=Zt();return ns(i,r,oo(ne(i.data),n,r),n,t,e,!1),es}function ns(t,e,n,r,i,o,s,a){const c=mt(r),u=t.firstCreatePass&&io(t),l=ro(e);let h=!0;if(3&r.type||a){const d=Mt(r,e),f=a?a(d):d,p=l.length,g=a?t=>a(At(t[r.index])):r.index;if(Pt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=is(r,e,0,o,!1);const t=n.listen(f,i,o);l.push(o,t),u&&u.push(i,g,p,p+1)}}else o=is(r,e,0,o,!0),f.addEventListener(i,o,s),l.push(o),u&&u.push(i,g,p,s)}else o=is(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}function rs(t,e,n,r){try{return!1!==n(r)}catch(i){return so(t,i),!1}}function is(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Yi(s);let a=rs(e,0,r,o),c=n.__ngNextListenerFn__;for(;c;)a=rs(e,0,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function os(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function ss(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ci(t,o,!0):ui(r,o))return i}else n=i}return n}function as(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ss(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function cs(t,e=0,n){const r=Bt(),i=Zt(),o=Si(i,lt+t,16,null,n||null);null===o.projection&&(o.projection=e),Kt(),64!=(64&o.flags)&&function(t,e,n){Jr(e[11],0,e,n,jr(t,n,e),Zr(n.parent||e[6],n,e))}(i,r,o)}function us(t,e,n){return ls(t,"",e,"",n),us}function ls(t,e,n,r,i){const o=Bt(),s=Uo(o,e,n,r);return s!==di&&Li(Zt(),ge(),o,t,s,o[11],i,!1),ls}function hs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?mi(o):vi(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];ds(t[a],e)&&(c=!0,t[a+1]=r?bi(n):yi(n)),a=r?mi(n):vi(n)}c&&(t[n+1]=r?yi(o):bi(o))}function ds(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fn(t,e)>=0}function fs(t,e,n){return gs(t,e,n,!1),fs}function ps(t,e){return gs(t,e,null,!0),ps}function gs(t,e,n,r){const i=Bt(),o=Zt(),s=function(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fe()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=ne(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ys(n=ms(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ms(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==vi(r))return t[mi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ms(null,t,e,n[1],r),n=ys(n,e.attrs,r),function(t,e,n,r){t[mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ys(r,t[o].hostAttrs,n);return ys(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=mi(s),c=vi(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||fn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=mi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=_i(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=_i(t[a+1],r)),a=r;else t[r+1]=gi(c,0),0===a?a=r:t[c+1]=_i(t[c+1],r),c=r;l&&(t[r+1]=yi(t[r+1])),hs(t,u,r,!0),hs(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&fn(o,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,u,t,r,o),s=gi(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==di&&Fo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];_s(1==(1&u)?vs(c,e,n,i,vi(u),s):void 0)||(_s(o)||function(t){return 2==(2&t)}(u)&&(o=vs(c,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Or.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Or.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,It(fe(),n),i,o))}(o,o.data[fe()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=d(jn(t)))),t}(e,n),r,s)}function ms(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ys(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ys(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,s,!!n||e[++o]))}return void 0===t?null:t}function vs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===di&&(l=u?G:void 0);let h=u?dn(l,r):c===r?l:void 0;if(o&&!_s(h)&&(h=dn(e,r)),_s(h)&&(a=h,s))return a;const d=t[i+1];i=s?mi(d):vi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function _s(t){return void 0!==t}function bs(t,e=""){const n=Bt(),r=Zt(),i=t+lt,o=r.firstCreatePass?Si(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);zr(r,n,s,o),$t(o,!1)}function ws(t){return Cs("",t,""),ws}function Cs(t,e,n){const r=Bt(),i=Uo(r,t,e,n);return i!==di&&function(t,e,n){const r=It(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,fe(),i),Cs}function Ss(t,e,n){const r=Bt();return Fo(r,Xt(),e)&&Li(Zt(),ge(),r,t,e,r[11],n,!0),Ss}function Ts(t,e,n){const r=Bt();if(Fo(r,Xt(),e)){const i=Zt(),o=ge();Li(i,o,r,t,e,oo(ne(i.data),o,r),n,!0)}return Ts}const Es=void 0;var Os=["en",[["a","p"],["AM","PM"],Es],[["AM","PM"],Es,Es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Es,"{1} 'at' {0}",Es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let xs={};function Ps(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=As(e);if(n)return n;const r=e.split("-")[0];if(n=As(r),n)return n;if("en"===r)return Os;throw new Error(`Missing locale data for the locale "${t}".`)}function ks(t){return Ps(t)[Is.PluralCase]}function As(t){return t in xs||(xs[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),xs[t]}var Is=(()=>((Is=Is||{})[Is.LocaleId=0]="LocaleId",Is[Is.DayPeriodsFormat=1]="DayPeriodsFormat",Is[Is.DayPeriodsStandalone=2]="DayPeriodsStandalone",Is[Is.DaysFormat=3]="DaysFormat",Is[Is.DaysStandalone=4]="DaysStandalone",Is[Is.MonthsFormat=5]="MonthsFormat",Is[Is.MonthsStandalone=6]="MonthsStandalone",Is[Is.Eras=7]="Eras",Is[Is.FirstDayOfWeek=8]="FirstDayOfWeek",Is[Is.WeekendRange=9]="WeekendRange",Is[Is.DateFormat=10]="DateFormat",Is[Is.TimeFormat=11]="TimeFormat",Is[Is.DateTimeFormat=12]="DateTimeFormat",Is[Is.NumberSymbols=13]="NumberSymbols",Is[Is.NumberFormats=14]="NumberFormats",Is[Is.CurrencyCode=15]="CurrencyCode",Is[Is.CurrencySymbol=16]="CurrencySymbol",Is[Is.CurrencyName=17]="CurrencyName",Is[Is.Currencies=18]="Currencies",Is[Is.Directionality=19]="Directionality",Is[Is.PluralCase=20]="PluralCase",Is[Is.ExtraData=21]="ExtraData",Is))();const Ms="en-US";let Ds=Ms;function Rs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ds=t.toLowerCase().replace(/_/g,"-"))}function Ns(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ns(t[o],e,n,r,i);else{const o=Zt(),s=Bt();let a=So(t)?t:m(t.provide),c=bo(t);const u=zt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(So(t)||!t.multi){const r=new Se(c,i,Vo),f=js(a,e,i?l:l+d,h);-1===f?(Ue(Ne(u,s),o,a),Ls(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=js(a,e,l+d,h),p=js(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ue(Ne(u,s),o,a);const l=function(t,e,n,r,i){const o=new Se(t,n,Vo);return o.multi=[],o.index=e,o.componentProviders=0,Fs(o,i,r&&!n),o}(i?qs:Us,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),Ls(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else Ls(o,t,f>-1?f:p,Fs(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ls(t,e,n,r){const i=So(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Fs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function js(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Us(t,e,n,r){return Vs(this.multi,[])}function qs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Vs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Vs(i,o);return o}function Vs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Bs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Zt();if(r.firstCreatePass){const i=yt(t);Ns(n,r.data,r.blueprint,i,!0),Ns(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Zs{}class Gs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class zs{}function Hs(...t){}function $s(t,e){return new Ks(Mt(t,e))}zs.NULL=new Gs;const Qs=function(){return $s(zt(),Bt())};let Ks=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Qs,t})();function Ws(t){return t instanceof Ks?t.nativeElement:t}class Js{}let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xs(),t})();const Xs=function(){const t=Bt(),e=Rt(zt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ta=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const na=new ea("12.1.5");class ra{constructor(){}supports(t){return Ro(t)}create(t){return new oa(t)}}const ia=(t,e)=>e;class oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ia}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ua(n,r,i)?e:n,s=ua(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ro(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Do()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new sa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ca),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ca),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ca{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ua(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class la{constructor(){}supports(t){return t instanceof Map||No(t)}create(){return new ha}}class ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||No(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new da(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class da{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fa(){return new pa([new ra])}let pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||fa()),deps:[[t,new xn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:fa}),t})();function ga(){return new ma([new la])}let ma=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ga()),deps:[[t,new xn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:ga}),t})();function ya(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(At(o)),ft(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ya(e[1],e,n,r)}const s=n.type;if(8&s)ya(t,e,n.child,r);else if(32&s){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=$r(e,n);if(Array.isArray(t))r.push(...t);else{const n=Pr(e[16]);ya(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class va{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ya(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),un(e,n))}this._attachedToViewContainer=!1}Lr(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Xi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class _a extends va{constructor(t){super(t),this._view=t}detectChanges(){to(this._view)}checkNoChanges(){!function(t){Jt(!0);try{to(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const ba=function(t){return function(t,e,n){if(gt(t)&&!n){const n=Rt(t.index,e);return new va(n,n)}return 47&t.type?new va(e[16],e):null}(zt(),Bt(),16==(16&t))};let wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ba,t})();const Ca=[new la],Sa=new pa([new ra]),Ta=new ma(Ca),Ea=function(){return ka(zt(),Bt())};let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ea,t})();const xa=Oa,Pa=class extends xa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ei(e,n,t),new va(n)}};function ka(t,e){return 4&t.type?new Pa(e,t,$s(t,e)):null}class Aa{}class Ia{}const Ma=function(){return ja(zt(),Bt())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ma,t})();const Ra=Da,Na=class extends Ra{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return $s(this._hostTNode,this._hostLView)}get injector(){return new We(this._hostTNode,this._hostLView)}get parentInjector(){const t=je(this._hostTNode,this._hostLView);if(ke(t)){const e=Ie(t,this._hostLView),n=Ae(t);return new We(e[1].data[n+8],e)}return new We(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=La(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Aa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Na(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],cn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Qr(i,o),a=n[11],c=Br(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Wr(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(),cn(Fa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=La(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(un(Fa(this._lContainer),e),Lr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=un(Fa(this._lContainer),e)?new va(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function La(t){return t[8]}function Fa(t){return t[8]||(t[8]=[])}function ja(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Mt(t,e);Ur(n,Br(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Ji(e,n)}return new Na(n,t,e)}const Ua={};class qa extends zs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Za(e,this.ngModule)}}function Va(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ba=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class Za extends Zs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Va(this.componentDef.inputs)}get outputs(){return Va(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ua,i);return o!==Ua||r===Ua?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Js,kt),s=i.get(ta,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Tr,clean:no,playerHandler:null,flags:0},d=Di(0,null,null,1,0,null,null,null,null,null),f=Ci(null,d,h,l,null,null,o,a,s,i);let p,g;ae(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Si(s,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(co(a,c,!0),null!==t&&(Te(i,t,c),null!==a.classes&&Xr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const u=r.createRenderer(t,e),l=Ci(n,Mi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(Ue(Ne(a,n),s,e.type),qi(s,a),Bi(a,n.length,1)),Ji(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)Te(a,u,["ng-version",na.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,u,t),e&&e.length>0&&Xr(a,u,e.join(" "))}if(g=Dt(d,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Zi(t,r,e,Ti(t,e,1,null),n));const i=$e(e,t,r.directiveStart,r);_r(i,e);const o=Mt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),ji(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ui(e,s)),s}(t,this.componentDef,f,h,[Oo]),Ei(d,f,null)}finally{de()}return new Ga(this.componentType,p,$s(g,f),f,g)}}class Ga extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new _a(r),this.componentType=t}get injector(){return new We(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const za=new Map;class Ha extends Aa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qa(this);const n=ut(t),r=t[K]||null;r&&Rs(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=yo(t,e,[{provide:Aa,useValue:this},{provide:zs,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Eo.THROW_IF_NOT_FOUND,n=I.Default){return t===Eo||t===Aa||t===uo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $a extends Ia{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,za.get(i),n),za.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ha(this.moduleType,t)}}function Qa(t,e,n){const r=Yt()+t,i=Bt();return i[r]===di?Lo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ka(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Fo(t,s,i)?Lo(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===di?void 0:n}(t,s+1)}(Bt(),Yt(),t,e,n,r)}function Wa(t){return e=>{setTimeout(t,void 0,e)}}const Ja=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,c=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),c=null===(o=e.error)||void 0===o?void 0:o.bind(e),u=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(c=Wa(c),a&&(a=Wa(a)),u&&(u=Wa(u)));const l=super.subscribe({next:a,error:c,complete:u});return t instanceof i.w&&t.add(l),l}};function Ya(){return this._results[Do()]()}class Xa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Do(),n=Xa.prototype;n[e]||(n[e]=Ya)}get changes(){return this._changes||(this._changes=new Ja)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tc{constructor(t){this.queryList=t,this.matches=null}clone(){return new tc(this.queryList)}setDirty(){this.queryList.setDirty()}}class ec{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ec(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gc(t,e).matches&&this.queries[e].setDirty()}}class nc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class rc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new rc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ic{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ic(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,oc(e,i)),this.matchTNodeWithReadOption(t,e,He(e,t,i,!1,!1))}else n===Oa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,He(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ks||r===Da||r===Oa&&4&e.type)this.addMatch(e.index,-2);else{const n=He(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function oc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function sc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?$s(t,e):4&t.type?ka(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ks?$s(e,t):n===Oa?ka(e,t):n===Da?ja(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function ac(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:sc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function cc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=ac(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&cc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];cc(n[1],n,i,r)}}}}}return r}function uc(t){const e=Bt(),n=Zt(),r=re();ie(r+1);const i=gc(n,r);if(t.dirty&&Nt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?cc(n,e,r,[]):ac(n,e,i,r);t.reset(o,Ws),t.notifyOnChanges()}return!0}return!1}function lc(t,e,n){const r=Zt();r.firstCreatePass&&(pc(r,new nc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),fc(r,Bt(),e)}function hc(t,e,n,r){const i=Zt();if(i.firstCreatePass){const o=zt();pc(i,new nc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}fc(i,Bt(),n)}function dc(){return t=Bt(),e=re(),t[19].queries[e].queryList;var t,e}function fc(t,e,n){const r=new Xa(4==(4&n));Ri(t,e,r,r.destroy),null===e[19]&&(e[19]=new ec),e[19].queries.push(new tc(r))}function pc(t,e,n){null===t.queries&&(t.queries=new rc),t.queries.track(new ic(e,n))}function gc(t,e){return t.queries.getByIndex(e)}function mc(t,e){return ka(t,e)}const yc=new nn("Application Initializer");let vc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Hs,this.reject=Hs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Jo(e))t.push(e);else if(Xo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(wn(yc,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const _c=new nn("AppId"),bc={provide:_c,useFactory:function(){return`${wc()}${wc()}${wc()}`},deps:[]};function wc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cc=new nn("Platform Initializer"),Sc=new nn("Platform ID"),Tc=new nn("appBootstrapListener");let Ec=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Oc=new nn("LocaleId"),xc=new nn("DefaultCurrencyCode");class Pc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const kc=function(t){return new $a(t)},Ac=kc,Ic=function(t){return Promise.resolve(kc(t))},Mc=function(t){const e=kc(t),n=Er(ut(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Za(n)),t},[]);return new Pc(e,n)},Dc=Mc,Rc=function(t){return Promise.resolve(Mc(t))};let Nc=(()=>{class t{constructor(){this.compileModuleSync=Ac,this.compileModuleAsync=Ic,this.compileModuleAndAllComponentsSync=Dc,this.compileModuleAndAllComponentsAsync=Rc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Lc=(()=>Promise.resolve(0))();function Fc(t){"undefined"==typeof Zone?Lc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class jc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vc(t),t.isCheckStableRunning=!0,qc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Bc(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Zc(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Bc(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Vc(t),qc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Uc,Hs,Hs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Uc={};function qc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Bc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zc(t){t._nesting--,qc(t)}class Gc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let zc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jc.assertNotInAngularZone(),Fc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(wn(jc))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),Hc=(()=>{class t{constructor(){this._applications=new Map,Wc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Wc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();class $c{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Qc(t){Wc=t}let Kc,Wc=new $c,Jc=!0,Yc=!1;function Xc(){return Yc=!0,Jc}function tu(){if(Yc)throw new Error("Cannot enable prod mode after platform setup.");Jc=!1}const eu=new nn("AllowMultipleToken");class nu{constructor(t,e){this.name=t,this.token=e}}function ru(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let o=iu();if(!o||o.injector.get(eu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ho,useValue:"platform"});!function(t){if(Kc&&!Kc.destroyed&&!Kc.injector.get(eu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Kc=t.get(ou);const e=t.get(Cc,null);e&&e.forEach(t=>t())}(Eo.create({providers:t,name:r}))}return function(t){const e=iu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function iu(){return Kc&&!Kc.destroyed?Kc:null}let ou=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Gc:("zone.js"===t?void 0:t)||new jc({enableLongStackTrace:Xc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:jc,useValue:n}];return n.run(()=>{const e=Eo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Sr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{cu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Jo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(vc);return t.runInitializers(),t.donePromise.then(()=>(Rs(i.injector.get(Oc,Ms)||Ms),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=su({},e);return function(t,e,n){const r=new $a(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(au);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(wn(Eo))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function su(t,e){return Array.isArray(e)?e.reduce(su,t):Object.assign(Object.assign({},t),e)}let au=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{jc.assertNotInAngularZone(),Fc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{jc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,h.pipe(t=>{return(0,c.x)()((e=u,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Zs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Aa),i=n.create(Eo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(zc,null),a=s&&i.injector.get(Hc);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),cu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Tc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(wn(jc),wn(Eo),wn(Sr),wn(zs),wn(vc))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function cu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uu{}class lu{}const hu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let du=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||hu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>fu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>fu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(wn(Nc),wn(lu,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function fu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const pu=function(t){return null},gu=ru(null,"core",[{provide:Sc,useValue:"unknown"},{provide:ou,deps:[Eo]},{provide:Hc,deps:[]},{provide:Ec,deps:[]}]),mu=[{provide:au,useClass:au,deps:[jc,Eo,Sr,zs,vc]},{provide:Ba,deps:[jc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:vc,useClass:vc,deps:[[new On,yc]]},{provide:Nc,useClass:Nc,deps:[]},bc,{provide:pa,useFactory:function(){return Sa},deps:[]},{provide:ma,useFactory:function(){return Ta},deps:[]},{provide:Oc,useFactory:function(t){return Rs(t=t||"undefined"!=typeof $localize&&$localize.locale||Ms),t},deps:[[new En(Oc),new On,new xn]]},{provide:xc,useValue:"USD"}];let yu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(wn(au))},t.\u0275mod=rt({type:t}),t.\u0275inj=S({providers:mu}),t})()},57:(t,e,n)=>{"use strict";n.d(e,{hO:()=>O,xv:()=>_,Dh:()=>v,HU:()=>f,GT:()=>y,sI:()=>T,on:()=>w,ss:()=>p,pX:()=>m,yq:()=>C});var r=n(7771),i=n(3637),o=n(3342),s=n(9673),a=n(309),c=n(3018),u=n(2329);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.OlP("angularfire2.app.options"),_=new c.OlP("angularfire2.app.nameOrConfig"),b=new c.GfV("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[v,c.R0b,[new c.FiY,_]]};let O=(()=>{class t{constructor(t){u.Z.registerVersion("angularfire",b.full,t.toString()),u.Z.registerVersion("angular",c.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(c.Lbi))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[E]}),t})()},9759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r,i,o=n(4762),s=n(4685),a=n(6034),c=n(300),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,c.Am)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||d))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var b=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(b);const w=b},6034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>c});var r=n(4762),i=n(4685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var c=(0,r.XA)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=(0,r.CR)(u.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>d,Am:()=>f});var o=[],s=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>u,LL:()=>C,r3:()=>E,Sg:()=>l,ne:()=>O,p$:()=>a,ZB:()=>c,m9:()=>k,z$:()=>h,jU:()=>p,ru:()=>g,d:()=>y,w1:()=>v,uI:()=>d,UG:()=>f,b$:()=>m,G6:()=>b,Mn:()=>_});var r=n(4762),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return c(void 0,t)}function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=c(t[n],e[n]));return t}var u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?S(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new w(i,a,r);return c},t}();function S(t,e){return t.replace(T,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var T=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){var n=new x(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function P(){}function k(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(9759),i="8.10.0";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},7574:(t,e,n)=>{"use strict";n.d(e,{y:()=>u});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),c=n(2494);let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>u,xQ:()=>l});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),c=n(9181);class u extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>u});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),c=n(4449);class u extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,c.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,c.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,o.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof s?t=t.concat(u(h.errors)):t.push(h)}}}if(t)throw new s(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var c;function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}a.EMPTY=((c=new a).closed=!0,c)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>c});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>c});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(7574);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),c=n(377),u=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,u.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[c.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(9773),i=n(4487);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>c});var r=n(7393),i=n(9193),o=n(5917),s=n(7574);class a{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return t=this.error,new s.y(e=>e.error(t));case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new a("N",t):a.undefinedValueNotification}static createError(t){return new a("E",void 0,t)}static createComplete(){return a.completeNotification}}function c(t,e=0){return function(n){return n.lift(new u(t,e))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(7393);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},9673:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var r=n(7574),i=n(4581),o=n(6561);class s extends r.y{constructor(t,e=0,n=i.e){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,o.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.e)}static create(t,e=0,n=i.e){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},3342:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(7393);function i(){}var o=n(9105);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(7574),i=n(5319);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},4581:(t,e,n)=>{"use strict";n.d(e,{e:()=>h,E:()=>l});let r=1;const i=Promise.resolve(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n(6465),u=n(6102);const l=new class extends u.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}),h=l},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(6465);const i=new(n(6102).v)(r.o),o=i},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),s=o},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},6561:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(9796);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),c=n(4072),u=n(1555);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,c.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,u.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},8830:(t,e,n)=>{"use strict";var r=n(3018);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return(0,r.LFG)(l)}const u=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(s).location;return new _((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w((0,r.LFG)(m),(0,r.LFG)(a))}function S(t){return t.replace(/\/index.html$/,"")}var T=(()=>((T=T||{})[T.Zero=0]="Zero",T[T.One=1]="One",T[T.Two=2]="Two",T[T.Few=3]="Few",T[T.Many=4]="Many",T[T.Other=5]="Other",T))();const E=r.kL8;class O{}let x=(()=>{class t extends O{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t_){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new I(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new I(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class I{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let N=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:O,useClass:x}]}),t})();function F(t){return"browser"===t}function j(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new q((0,r.LFG)(s),window)}),t})();class q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t_){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t_){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new B,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(G=G||document.querySelector("base"),G?G.getAttribute("href"):null);return null==e?null:function(t){Z=Z||document.createElement("a"),Z.setAttribute("href",t);const e=Z.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Z,G=null;const z=new r.OlP("TRANSITION_ID"),H=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,s,r.zs3],multi:!0}];class ${static init(){(0,r.VLi)(new $)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Q=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const K=new r.OlP("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(K),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class J{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(tt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tt))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function tt(t){o().remove(t)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new st(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(W),r.LFG(X),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends st{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends st{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ut=(()=>{class t extends J{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends J{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const gt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){B.makeCurrent(),$.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),mt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:K,useClass:ut,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:K,useClass:pt,multi:!0,deps:[s]},[],{provide:ot,useClass:ot,deps:[W,X,r.AFp]},{provide:r.FYo,useExisting:ot},{provide:Y,useExisting:X},{provide:X,useClass:X,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:W,useClass:W,deps:[K,r.R0b]},{provide:class{},useClass:Q,deps:[]},[]];let yt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:z,useExisting:r.AFp},H]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:mt,imports:[L,r.hGG]}),t})();function vt(t){return Array.isArray(t)?t:[t]}function _t(t){return null==t?"":"string"==typeof t?t:`${t}px`}function bt(t){return t instanceof r.SBq?t.nativeElement:t}"undefined"!=typeof window&&window;var wt=n(9765),Ct=n(5917),St=n(7574),Tt=n(9796),Et=n(9105),Ot=n(8002);function xt(t,e,n,r){return(0,Et.m)(n)&&(r=n,n=void 0),r?xt(t,e,n).pipe((0,Ot.U)(t=>(0,Tt.k)(t)?r(...t):r(t))):new St.y(r=>{Pt(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Pt(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Pt(t[o],e,n,r,i)}r.add(o)}var kt=n(6465),At=n(6102);new class extends At.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends kt.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),n(4581);var It=n(5319),Mt=n(7393);function Dt(t,e){return n=>n.lift(new Rt(t,e))}class Rt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Nt(t,this.compare,this.keySelector))}}class Nt extends Mt.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Lt=n(3637),Ft=n(5345);class jt{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ut(t,this.durationSelector))}}class Ut extends Ft.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=(0,Ft.ft)(n,new Ft.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var qt=n(6561),Vt=n(4869);function Bt(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Zt(t,e=Lt.P){return n=()=>function(t=0,e,n){let r=-1;return(0,qt.k)(e)?r=Number(e)<1?1:Number(e):(0,Vt.K)(e)&&(n=e),(0,Vt.K)(n)||(n=Lt.P),new St.y(e=>{const i=(0,qt.k)(t)?t:+t-n.now();return n.schedule(Bt,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new jt(n))};var n}function Gt(t,e){return function(n){return n.lift(new zt(t,e))}}class zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ht(t,this.predicate,this.thisArg))}}class Ht extends Mt.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function $t(t){return e=>e.lift(new Qt(t))}class Qt{constructor(t){this.notifier=t}call(t,e){const n=new Kt(t),r=(0,Ft.ft)(this.notifier,new Ft.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Kt extends Ft.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Wt=n(3282);function Jt(...t){return(0,Wt.J)(1)((0,Ct.of)(...t))}function Yt(...t){const e=t[t.length-1];return(0,Vt.K)(e)?(t.pop(),n=>Jt(t,n,e)):e=>Jt(t,e)}function Xt(){return t=>t.lift(new te)}class te{call(t,e){return e.subscribe(new ee(t))}}class ee extends Mt.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ne=n(4402);function re(t,e){return"function"==typeof e?n=>n.pipe(re((n,r)=>(0,ne.D)(t(n,r)).pipe((0,Ot.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ie(t))}class ie{constructor(t){this.project=t}call(t,e){return e.subscribe(new oe(t,this.project))}}class oe extends Ft.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ft.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Ft.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}n(7771);var se=n(309),ae=n(7971);let ce;n(8858);try{ce="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t_){ce=!1}let ue,le,he,de=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?F(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ce)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})(),fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function pe(t){return function(){if(null==ue&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ue=!0}))}finally{ue=ue||!1}return ue}()?t:!!t.capture}function ge(){if(null==le){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return le=!1,le;if("scrollBehavior"in document.documentElement.style)le=!0;else{const t=Element.prototype.scrollTo;le=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return le}function me(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function ye(t){return t.composedPath?t.composedPath()[0]:t.target}function ve(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const _e=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(s)}});let be=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_e,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(_e,8))},token:t,providedIn:"root"}),t})(),we=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Ce=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new wt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new St.y(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Zt(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ct.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Gt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=bt(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xt(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(de),r.LFG(s,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(de),r.LFG(s,8))},token:t,providedIn:"root"}),t})(),Se=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new wt.xQ,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Zt(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(de),r.LFG(r.R0b),r.LFG(s,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(de),r.LFG(r.R0b),r.LFG(s,8))},token:t,providedIn:"root"}),t})(),Te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[we,fe,Te],we,Te]}),t})();class Oe{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xe extends Oe{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Pe extends Oe{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ke extends Oe{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class Ae{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xe?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Pe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ke?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ie extends Ae{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Me=(()=>{class t extends Ae{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(s))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),t})(),De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var Re=n(6682);const Ne=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Le=n(9193);function Fe(t){return e=>0===t?(0,Le.c)():e.lift(new je(t))}class je{constructor(t){if(this.total=t,this.total<0)throw new Ne}call(t,e){return e.subscribe(new Ue(t,this.total))}}class Ue extends Mt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}const qe=ge();class Ve{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_t(-this._previousScrollPosition.left),t.style.top=_t(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),qe&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qe&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Be{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ze{enable(){}disable(){}attach(){}}function Ge(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function ze(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class He{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Ge(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $e=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Ze,this.close=t=>new Be(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Ve(this._viewportRuler,this._document),this.reposition=t=>new He(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ce),r.LFG(Se),r.LFG(r.R0b),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Ce),r.LFG(Se),r.LFG(r.R0b),r.LFG(s))},token:t,providedIn:"root"}),t})();class Qe{constructor(t){if(this.scrollStrategy=new Ze,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Ke{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class We{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Je=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s))},token:t,providedIn:"root"}),t})(),Ye=(()=>{class t extends Je{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s))},token:t,providedIn:"root"}),t})(),Xe=(()=>{class t extends Je{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._pointerDownListener=t=>{this._pointerDownEventTarget=ye(t)},this._clickListener=t=>{const e=ye(t),n="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;const r=this._attachedOverlays.slice();for(let i=r.length-1;i>-1;i--){const o=r[i];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e)||o.overlayElement.contains(n))break;o._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(de))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s),r.LFG(de))},token:t,providedIn:"root"}),t})(),tn=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ve()){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),ve()?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(de))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s),r.LFG(de))},token:t,providedIn:"root"}),t})();class en{constructor(t,e,n,r,i,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new wt.xQ,this._attachments=new wt.xQ,this._detachments=new wt.xQ,this._locationChanges=It.w.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new wt.xQ,this._outsidePointerEvents=new wt.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Fe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_t(this._config.width),t.height=_t(this._config.height),t.minWidth=_t(this._config.minWidth),t.minHeight=_t(this._config.minHeight),t.maxWidth=_t(this._config.maxWidth),t.maxHeight=_t(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;vt(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe($t((0,Re.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const nn="cdk-overlay-connected-position-bounding-box",rn=/([A-Za-z%]+)$/;class on{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new wt.xQ,this._resizeSubscription=It.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(nn),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=cn(e);let{x:o,y:s}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(o+=a),c&&(s+=c);let u=0-s,l=s+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=an(this._overlayRef.getConfig().minHeight),s=an(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cn(e),i=this._viewportRect,o=Math.max(t.x+r.width-i.width,0),s=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new We(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=_t(n.height),r.top=_t(n.top),r.bottom=_t(n.bottom),r.width=_t(n.width),r.left=_t(n.left),r.right=_t(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=_t(t)),i&&(r.maxWidth=_t(i))}this._lastBoundingBoxSize=n,sn(this._boundingBox.style,r)}_resetBoundingBoxStyles(){sn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();sn(n,this._getExactOverlayY(e,t,r)),sn(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=_t(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=_t(o.maxWidth):i&&(n.maxWidth="")),sn(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=_t(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=_t(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ze(t,n),isOriginOutsideView:Ge(t,n),isOverlayClipped:ze(e,n),isOverlayOutsideView:Ge(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&vt(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function sn(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function an(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(rn);return n&&"px"!==n?null:parseFloat(e)}return t||null}function cn(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class un{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new on(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Ke(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const ln="cdk-global-overlay-wrapper";class hn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ln),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(ln),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let dn=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new hn}connectedTo(t,e,n){return new un(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new on(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Se),r.LFG(s),r.LFG(de),r.LFG(tn))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Se),r.LFG(s),r.LFG(de),r.LFG(tn))},token:t,providedIn:"root"}),t})(),fn=0,pn=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Qe(t);return i.direction=i.direction||this._directionality.value,new en(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+fn++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new Ie(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($e),r.LFG(tn),r.LFG(r._Vd),r.LFG(dn),r.LFG(Ye),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(s),r.LFG(be),r.LFG(w),r.LFG(Xe))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const gn={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[pn],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[pn,gn],imports:[[we,De,Ee],Ee]}),t})();class yn extends wt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ae.N;return this._value}next(t){super.next(this._value=t)}}class vn{constructor(t){this.total=t}call(t,e){return e.subscribe(new _n(t,this.total))}}class _n extends Mt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let bn=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(t_){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Cn(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Cn(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||wn(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(de))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(de))},token:t,providedIn:"root"}),t})();function wn(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Cn(t){if(!wn(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Sn{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Fe(1)).subscribe(t)}}let Tn=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Sn(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(bn),r.LFG(r.R0b),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(bn),r.LFG(r.R0b),r.LFG(s))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const En=new r.OlP("cdk-input-modality-detector-options"),On={ignoreKeys:[18,17,224,91,16]},xn=pe({passive:!0,capture:!0});let Pn=(()=>{class t{constructor(t,e,n,r){this._platform=t,this._mostRecentTarget=null,this._modality=new yn(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ye(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(t){return 0===t.offsetX&&0===t.offsetY}(t)?"keyboard":"mouse"),this._mostRecentTarget=ye(t))},this._onTouchstart=t=>{!function(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ye(t)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},On),r),this.modalityDetected=this._modality.pipe(t=>t.lift(new vn(1))),this.modalityChanged=this.modalityDetected.pipe(Dt()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,xn),n.addEventListener("mousedown",this._onMousedown,xn),n.addEventListener("touchstart",this._onTouchstart,xn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xn),document.removeEventListener("mousedown",this._onMousedown,xn),document.removeEventListener("touchstart",this._onTouchstart,xn))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(de),r.LFG(r.R0b),r.LFG(s),r.LFG(En,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(de),r.LFG(r.R0b),r.LFG(s),r.LFG(En,8))},token:t,providedIn:"root"}),t})();const kn=new r.OlP("cdk-focus-monitor-default-options"),An=pe({passive:!0,capture:!0});let In=(()=>{class t{constructor(t,e,n,r,i){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new wt.xQ,this._rootNodeFocusAndBlurListener=t=>{const e=ye(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=bt(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,Ct.of)(null);const r=function(t){if(function(){if(null==he){const t="undefined"!=typeof document?document.head:null;he=!(!t||!t.createShadowRoot&&!t.attachShadow)}return he}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new wt.xQ,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=bt(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=bt(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),r=ye(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,An),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,An)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($t(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,An),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,An),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(de),r.LFG(Pn),r.LFG(s,8),r.LFG(kn,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(de),r.LFG(Pn),r.LFG(s,8),r.LFG(kn,8))},token:t,providedIn:"root"}),t})();const Mn="cdk-high-contrast-black-on-white",Dn="cdk-high-contrast-white-on-black",Rn="cdk-high-contrast-active";let Nn=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Rn),t.remove(Mn),t.remove(Dn),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(Rn),t.add(Mn)):2===e&&(t.add(Rn),t.add(Dn))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(de),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(de),r.LFG(s))},token:t,providedIn:"root"}),t})();const Ln=new r.GfV("12.2.13");class Fn{}const jn="*";function Un(t,e){return{type:7,name:t,definitions:e,options:{}}}function qn(t,e=null){return{type:4,styles:e,timings:t}}function Vn(t,e=null){return{type:2,steps:t,options:e}}function Bn(t){return{type:6,styles:t,offset:null}}function Zn(t,e,n){return{type:0,name:t,styles:e,options:n}}function Gn(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function zn(t){Promise.resolve(null).then(t)}class Hn{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zn(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class $n{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?zn(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Qn(){return"undefined"!=typeof window&&void 0!==window.document}function Kn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Wn(t){switch(t.length){case 0:return new Hn;case 1:return t[0];default:return new $n(t)}}function Jn(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case jn:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Yn(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Xn(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Xn(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Xn(n,"destroy",t)))}}function Xn(t,e,n){const r=n.totalTime,i=tr(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function tr(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function er(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function nr(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let rr=(t,e)=>!1,ir=(t,e)=>!1,or=(t,e,n)=>[];const sr=Kn();(sr||"undefined"!=typeof Element)&&(rr=Qn()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),ir=(()=>{if(sr||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ir}})(),or=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let ar=null,cr=!1;function ur(t){ar||(ar=("undefined"!=typeof document?document.body:null)||{},cr=!!ar.style&&"WebkitAppearance"in ar.style);let e=!0;return ar.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ar.style,!e&&cr)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ar.style),e}const lr=ir,hr=rr,dr=or;function fr(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let pr=(()=>{class t{validateStyleProperty(t){return ur(t)}matchesElement(t,e){return lr(t,e)}containsElement(t,e){return hr(t,e)}query(t,e,n){return dr(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Hn(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class gr{}gr.NOOP=new pr;const mr="ng-enter",yr="ng-leave",vr="ng-trigger",_r=".ng-trigger",br="ng-animating",wr=".ng-animating";function Cr(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sr(parseFloat(e[1]),e[2])}function Sr(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Tr(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Sr(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Sr(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Er(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Or(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Er(t,n);return n}function xr(t,e,n){return n?e+":"+n+";":""}function Pr(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=xr(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=xr(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function kr(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Fr(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Kn()&&Pr(t))}function Ar(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Fr(e);t.style[n]=""}),Kn()&&Pr(t))}function Ir(t){return Array.isArray(t)?1==t.length?t[0]:Vn(t):t}const Mr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dr(t){let e=[];if("string"==typeof t){let n;for(;n=Mr.exec(t);)e.push(n[1]);Mr.lastIndex=0}return e}function Rr(t,e,n){const r=t.toString(),i=r.replace(Mr,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Nr(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Lr=/-+([a-z0-9])/g;function Fr(t){return t.replace(Lr,(...t)=>t[1].toUpperCase())}function jr(t,e){return 0===t||0===e}function Ur(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=Vr(t,e)})}}return e}function qr(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Vr(t,e){return window.getComputedStyle(t)[e]}const Br="*";function Zr(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Hr(i,s)),"<"!=o[0]||i==Br&&s==Br||e.push(Hr(s,i))}(t,n,e)):n.push(t),n}const Gr=new Set(["true","1"]),zr=new Set(["false","0"]);function Hr(t,e){const n=Gr.has(t)||zr.has(t),r=Gr.has(e)||zr.has(e);return(i,o)=>{let s=t==Br||t==i,a=e==Br||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Gr.has(t):zr.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Gr.has(e):zr.has(e)),s&&a}}const $r=new RegExp("s*:selfs*,?","g");function Qr(t,e,n){return new Kr(t).build(e,n)}class Kr{constructor(t){this._driver=t}build(t,e){const n=new Wr(e);return this._resetContextStyleTimingState(n),qr(this,Ir(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Jr(t)){const e=t;Object.keys(e).forEach(t=>{Dr(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Nr(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=qr(this,Ir(t.animation),e);return{type:1,matchers:Zr(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Yr(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>qr(this,t,e)),options:Yr(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=qr(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Yr(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Xr(Tr(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Xr(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Tr(r,e),Xr(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Bn({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Bn(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==jn?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Jr(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Dr(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Jr(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Jr(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:qr(this,Ir(t.animation),e),options:Yr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Yr(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Yr(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace($r,"")),[t=t.replace(/@\*/g,_r).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,wr),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,er(e.collectedStyles,e.currentQuerySelector,{});const s=qr(this,Ir(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Yr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Tr(t.timings,e.errors,!0);return{type:12,animation:qr(this,Ir(t.animation),e),timings:n,options:null}}}class Wr{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Jr(t){return!Array.isArray(t)&&"object"==typeof t}function Yr(t){var e;return t?(t=Er(t)).params&&(t.params=(e=t.params)?Er(e):null):t={},t}function Xr(t,e,n){return{duration:t,delay:e,easing:n}}function ti(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class ei{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ni=new RegExp(":enter","g"),ri=new RegExp(":leave","g");function ii(t,e,n,r,i,o={},s={},a,c,u=[]){return(new oi).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class oi{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new ei;const l=new ai(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),qr(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ti(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Cr(n.duration):null,o=null!=n.delay?Cr(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),qr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=si);const t=Cr(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>qr(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Cr(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),qr(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Tr(e.params?Rr(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Cr(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=si);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),qr(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;qr(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const si={};class ai{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=si,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ci(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Cr(n.duration)),null!=n.delay&&(r.delay=Cr(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Rr(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new ai(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=si,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ui(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(ni,"."+this._enterClassName)).replace(ri,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class ci{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ci(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||jn,this._currentKeyframe[t]=jn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=jn})):Or(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Rr(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:jn),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Or(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==jn&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Nr(t.values()):[],o=e.size?Nr(e.values()):[];if(n){const t=r[0],e=Er(t);t.offset=0,e.offset=1,r=[t,e]}return ti(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class ui extends ci{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Or(t[0],!1);a.offset=0,i.push(a);const c=Or(t[0],!1);c.offset=li(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=Or(t[r],!1);s.offset=li((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return ti(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function li(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class hi{}class di extends hi{normalizePropertyName(t,e){return Fr(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(fi[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const fi=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pi(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const gi={};class mi{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||gi,d=this.buildStyles(n,s&&s.params||gi,l),f=a&&a.params||gi,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),f)},b=u?[]:ii(t,e,this.ast.animation,i,o,d,p,_,c,l);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return pi(e,this._triggerName,n,r,v,d,p,[],[],m,y,w,l);b.forEach(t=>{const n=t.element,r=er(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=er(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=Nr(g.values());return pi(e,this._triggerName,n,r,v,d,p,b,C,m,y,w)}}class yi{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},r=Er(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Rr(o,r,e));const s=this.normalizer.normalizePropertyName(t,e);o=this.normalizer.normalizeStyleValue(t,s,o,e),n[s]=o})}}),n}}class vi{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new yi(t.style,t.options&&t.options.params||{},n)}),_i(this.states,"true","1"),_i(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new mi(t,e,this.states))}),this.fallbackTransition=new mi(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function _i(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const bi=new ei;class wi{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Qr(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Jn(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=ii(this._driver,e,i,mr,yr,{},{},n,bi,r),o.forEach(t=>{const e=er(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,jn)})});const a=Wn(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=tr(e,"","","");return Yn(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Ci="ng-animate-queued",Si="ng-animate-disabled",Ti=".ng-animate-disabled",Ei=[],Oi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Pi{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Er(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const ki="void",Ai=new Pi(ki);class Ii{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ji(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=er(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=er(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ji(t,vr),ji(t,"ng-trigger-"+e),a[e]=Ai),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new Di(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(ji(t,vr),ji(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new Pi(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=Ai),c.value!==ki&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ar(t,n),kr(t,r)})}return}const u=er(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(ji(t,Ci),o.onStart(()=>{Ui(t,Ci)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,_r,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,ki,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Wn(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||Ai,a=new Pi(ki),c=new Di(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Oi||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ji(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=tr(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Yn(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Mi{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Ii(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ri(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ri(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ji(t,Si)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ui(t,Si))}removeNode(t,e,n,r){if(Ri(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ri(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,_r,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wr,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wn(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Oi,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Ti)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Ti,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ji(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Wn(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new ei,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Fi(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=mr+p++;f.set(e,n),t.forEach(t=>ji(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,_=Fi(h,Array.from(m));_.forEach((t,e)=>{const n=yr+p++;v.set(e,n),t.forEach(t=>ji(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Ui(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Ui(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>Ar(i,p.fromStyles)),e.onDestroy(()=>kr(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Ar(i,p.fromStyles)),e.onDestroy(()=>kr(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>er(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{er(C,e,[]).push(t),t.destroy()})});const T=g.filter(t=>Bi(t,a,c)),E=new Map;Li(E,this.driver,y,c,jn).forEach(t=>{Bi(t,a,c)&&T.push(t)});const O=new Map;d.forEach((t,e)=>{Li(O,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=E.get(t),n=O.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const x=[],P=[],k={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>kr(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,O,E);if(o.setRealPlayer(n),t===k)x.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Wn(e)),r.push(o)}}else Ar(e,s.fromStyles),o.onDestroy(()=>kr(e,s.toStyles)),P.push(o),u.has(e)&&r.push(o)}),P.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Wn(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Ui(t,yr),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,wr,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?qi(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==ki;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=er(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Ar(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Hn(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Vi(t,e),e}((n.get(h)||Ei).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),y=Jn(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Di(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{er(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>ji(t,br));const d=Wn(h);return d.onDestroy(()=>{u.forEach(t=>Ui(t,br)),kr(a,e.toStyles)}),l.forEach(t=>{er(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Hn(t.duration,t.delay)}}class Di{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Hn,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Yn(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){er(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ri(t){return t&&1===t.nodeType}function Ni(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Li(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Ni(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=xi,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Ni(t,o[a++])),s}function Fi(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function ji(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ui(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function qi(t,e,n){Wn(n).onDone(()=>t.processLeaveNode(e))}function Vi(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof $n?Vi(r.players,e):e.push(r)}}function Bi(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Zi{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Mi(t,e,n),this._timelineEngine=new wi(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Qr(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e,n){return new vi(t,e,n)}(r,e,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=nr(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=nr(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Gi(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Hi(e[0]),e.length>1&&(r=Hi(e[e.length-1]))):e&&(n=Hi(e)),n||r?new zi(t,n,r):null}class zi{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=zi.initialStylesByElement.get(t);r||zi.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&kr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kr(this._element,this._initialStyles),this._endStyles&&(kr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(zi.initialStylesByElement.delete(this._element),this._startStyles&&(Ar(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ar(this._element,this._endStyles),this._endStyles=null),kr(this._element,this._initialStyles),this._state=3)}}function Hi(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];$i(i)&&(e=e||{},e[i]=t[i])}return e}function $i(t){return"display"===t||"position"===t}zi.initialStylesByElement=new WeakMap;const Qi="animation",Ki="animationend";class Wi{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=no(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),eo(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),to(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ji(this._element,this._name,"paused")}resume(){Ji(this._element,this._name,"running")}setPosition(t){const e=Yi(this._element,this._name);this._position=t*this._duration,eo(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),to(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=no(t,"").split(","),r=Xi(n,e);r>=0&&(n.splice(r,1),eo(t,"",n.join(",")))}(this._element,this._name))}}function Ji(t,e,n){eo(t,"PlayState",n,Yi(t,e))}function Yi(t,e){const n=no(t,"");return n.indexOf(",")>0?Xi(n.split(","),e):Xi([n],e)}function Xi(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function to(t,e,n){n?t.removeEventListener(Ki,e):t.addEventListener(Ki,e)}function eo(t,e,n,r){const i=Qi+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function no(t,e){return t.style[Qi+e]||""}class ro{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wi(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Vr(this.element,n))})}this.currentSnapshot=t}}class io extends Hn{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=fr(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class oo{constructor(){this._count=0}validateStyleProperty(t){return ur(t)}matchesElement(t,e){return lr(t,e)}containsElement(t,e){return hr(t,e)}query(t,e,n){return dr(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>fr(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof ro),c={};jr(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ur(t,e,c));if(0==n)return new io(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=Gi(t,e),f=new ro(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class so{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Vr(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ao{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(co().toString()),this._cssKeyframesDriver=new oo}validateStyleProperty(t){return ur(t)}matchesElement(t,e){return lr(t,e)}containsElement(t,e){return hr(t,e)}query(t,e,n){return dr(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof so);jr(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=Gi(t,e=Ur(t,e=e.map(t=>Or(t,!1)),c));return new so(t,e,a,l)}}function co(){return Qn()&&Element.prototype.animate||{}}let uo=(()=>{class t extends Fn{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Vn(t):t;return fo(this._renderer,null,e,"register",[n]),new lo(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class lo extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ho(this._id,t,e||{},this._renderer)}}class ho{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return fo(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function fo(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const po="@",go="@.disabled";let mo=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new yo("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new vo(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(Zi),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class yo{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==po&&e==go?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class vo extends yo{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==po?"."==e.charAt(1)&&e==go?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==po){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=po&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let _o=(()=>{class t extends Zi{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(gr),r.LFG(hi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const bo=new r.OlP("AnimationModuleType"),wo=[{provide:Fn,useClass:uo},{provide:hi,useFactory:function(){return new di}},{provide:Zi,useClass:_o},{provide:r.FYo,useFactory:function(t,e,n){return new mo(t,e,n)},deps:[ot,Zi,r.R0b]}],Co=[{provide:gr,useFactory:function(){return"function"==typeof co()?new ao:new oo}},{provide:bo,useValue:"BrowserAnimations"},...wo],So=[{provide:gr,useClass:pr},{provide:bo,useValue:"NoopAnimations"},...wo];let To=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?So:Co}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Co,imports:[yt]}),t})();const Eo=new r.GfV("12.2.13"),Oo=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let xo,Po=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,r.X6Q)()||ve())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Eo.full!==Ln.full&&console.warn("The Angular Material version ("+Eo.full+") does not match the Angular CDK version ("+Ln.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Nn),r.LFG(Oo,8),r.LFG(s))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[we],we]}),t})();try{xo="undefined"!=typeof Intl}catch(t_){xo=!1}function ko(t){return new St.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,ne.D)(n):(0,Le.c)()).subscribe(e)})}function Ao(t,e){}class Io{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Mo={dialogContainer:Un("dialogContainer",[Zn("void, exit",Bn({opacity:0,transform:"scale(0.7)"})),Zn("enter",Bn({transform:"none"})),Gn("* => enter",qn("150ms cubic-bezier(0, 0, 0.2, 1)",Bn({transform:"none",opacity:1}))),Gn("* => void, * => exit",qn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Bn({opacity:0})))])};let Do=(()=>{class t extends Ae{constructor(t,e,n,i,o,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=o,this._focusMonitor=s,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=me(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=me())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=me();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Tn),r.Y36(r.sBO),r.Y36(s,8),r.Y36(Io),r.Y36(In))},t.\u0275dir=r.lG2({type:t,viewQuery:function(t,e){if(1&t&&r.Gf(Me,7),2&t){let t;r.iGM(t=r.CRH())&&(e._portalOutlet=t.first)}},features:[r.qOj]}),t})(),Ro=(()=>{class t extends Do{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.WFA("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Ikx("id",e._id),r.uIk("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.d8E("@dialogContainer",e._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.YNc(0,Ao,0,0,"ng-template",0)},directives:[Me],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Mo.dialogContainer]}}),t})(),No=0;class Lo{constructor(t,e,n="mat-dialog-"+No++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new wt.xQ,this._afterClosed=new wt.xQ,this._beforeClosed=new wt.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe(Gt(t=>"opened"===t.state),Fe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Gt(t=>"closed"===t.state),Fe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Gt(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),Fo(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Fo(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Gt(t=>"closing"===t.state),Fe(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Fo(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const jo=new r.OlP("MatDialogData"),Uo=new r.OlP("mat-dialog-default-options"),qo=new r.OlP("mat-dialog-scroll-strategy"),Vo={provide:qo,deps:[pn],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Bo=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new wt.xQ,this._afterOpenedAtThisLevel=new wt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=ko(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yt(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Io)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Qe({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Io,useValue:e}]}),i=new xe(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const o=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.Rgc)e.attachTemplatePortal(new Pe(t,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,e),r=e.attachComponentPortal(new xe(t,i.viewContainerRef,n));o.componentInstance=r.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(be,null,r.XFs.Optional)||o.push({provide:be,useValue:{value:t.direction,change:(0,Ct.of)()}}),r.zs3.create({parent:i||this._injector,providers:o})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(pn),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(tn),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},t.\u0275dir=r.lG2({type:t}),t})(),Zo=(()=>{class t extends Bo{constructor(t,e,n,r,i,o,s){super(t,e,r,o,s,i,Lo,Ro,jo)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(pn),r.LFG(r.zs3),r.LFG(w,8),r.LFG(Uo,8),r.LFG(qo),r.LFG(t,12),r.LFG(tn))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Go=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){Fo(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Lo,8),r.Y36(r.SBq),r.Y36(Zo))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e._onButtonClick(t)}),2&t&&r.uIk("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),t})(),zo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Zo,Vo],imports:[[mn,De,Po],Po]}),t})(),Ho=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})();function $o(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Qo(t,e,n))}}class Qo{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ko(t,this.accumulator,this.seed,this.hasSeed))}}class Ko extends Mt.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var Wo=n(57),Jo=n(2329),Yo=n(9759),Xo=n(4762),ts=n(4685),es=n(300),ns=function(t,e){return(ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function rs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var is,os="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ss=ss||{},as=os||self;function cs(){}function us(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ls(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var hs="closure_uid_"+(1e9*Math.random()>>>0),ds=0;function fs(t,e,n){return t.call.apply(t.bind,arguments)}function ps(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function gs(t,e,n){return(gs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fs:ps).apply(null,arguments)}function ms(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ys(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function vs(){this.s=this.s,this.o=this.o}var _s={};vs.prototype.s=!1,vs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,hs)&&t[hs]||(t[hs]=++ds)}(this);delete _s[t]}},vs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ws=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Cs(t){return Array.prototype.concat.apply([],arguments)}function Ss(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ts(t){return/^[\s\xa0]*$/.test(t)}var Es,Os=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xs(t,e){return-1!=t.indexOf(e)}function Ps(t,e){return t<e?-1:t>e?1:0}t:{var ks=as.navigator;if(ks){var As=ks.userAgent;if(As){Es=As;break t}}Es=""}function Is(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ms(t){var e={};for(var n in t)e[n]=t[n];return e}var Ds="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ds.length;o++)n=Ds[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ns(t){return Ns[" "](t),t}Ns[" "]=cs;var Ls,Fs,js=xs(Es,"Opera"),Us=xs(Es,"Trident")||xs(Es,"MSIE"),qs=xs(Es,"Edge"),Vs=qs||Us,Bs=xs(Es,"Gecko")&&!(xs(Es.toLowerCase(),"webkit")&&!xs(Es,"Edge"))&&!(xs(Es,"Trident")||xs(Es,"MSIE"))&&!xs(Es,"Edge"),Zs=xs(Es.toLowerCase(),"webkit")&&!xs(Es,"Edge");function Gs(){var t=as.document;return t?t.documentMode:void 0}t:{var zs="",Hs=(Fs=Es,Bs?/rv:([^\);]+)(\)|;)/.exec(Fs):qs?/Edge\/([\d\.]+)/.exec(Fs):Us?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Fs):Zs?/WebKit\/(\S+)/.exec(Fs):js?/(?:Version)[ \/]?(\S+)/.exec(Fs):void 0);if(Hs&&(zs=Hs?Hs[1]:""),Us){var $s=Gs();if(null!=$s&&$s>parseFloat(zs)){Ls=String($s);break t}}Ls=zs}var Qs={};var Ks=as.document&&Us&&(Gs()||parseInt(Ls,10))||void 0,Ws=function(){if(!as.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{as.addEventListener("test",cs,e),as.removeEventListener("test",cs,e)}catch(n){}return t}();function Js(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ys(t,e){if(Js.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bs){t:{try{Ns(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xs[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ys.Z.h.call(this)}}Js.prototype.h=function(){this.defaultPrevented=!0},ys(Ys,Js);var Xs={2:"touch",3:"pen",4:"mouse"};Ys.prototype.h=function(){Ys.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ta="closure_listenable_"+(1e6*Math.random()|0),ea=0;function na(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ea,this.ca=this.fa=!1}function ra(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ia(t){this.src=t,this.g={},this.h=0}function oa(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=bs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ra(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function sa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ia.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=sa(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new na(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var aa="closure_lm_"+(1e6*Math.random()|0),ca={};function ua(t,e,n,r,i){if(r&&r.once)return ha(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ua(t,e[o],n,r,i);return null}return n=va(n),t&&t[ta]?t.N(e,n,ls(r)?!!r.capture:!!r,i):la(t,e,n,!1,r,i)}function la(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ls(i)?!!i.capture:!!i,a=ma(t);if(a||(t[aa]=a=new ia(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ga;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ws||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ha(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ha(t,e[o],n,r,i);return null}return n=va(n),t&&t[ta]?t.O(e,n,ls(r)?!!r.capture:!!r,i):la(t,e,n,!0,r,i)}function da(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)da(t,e[o],n,r,i);else r=ls(r)?!!r.capture:!!r,n=va(n),t&&t[ta]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=sa(o=t.g[e],n,r,i))&&(ra(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=ma(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sa(e,n,r,i)),(n=-1<t?e[t]:null)&&fa(n))}function fa(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ta])oa(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ma(e))?(oa(n,t),0==n.h&&(n.src=null,e[aa]=null)):ra(t)}}}function pa(t){return t in ca?ca[t]:ca[t]="on"+t}function ga(t,e){if(t.ca)t=!0;else{e=new Ys(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&fa(t),t=n.call(r,e)}return t}function ma(t){return(t=t[aa])instanceof ia?t:null}var ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(t){return"function"==typeof t?t:(t[ya]||(t[ya]=function(e){return t.handleEvent(e)}),t[ya])}function _a(){vs.call(this),this.i=new ia(this),this.P=this,this.I=null}function ba(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Js(e,t);else if(e instanceof Js)e.target=e.target||t;else{var i=e;Rs(e=new Js(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=wa(s,r,!0,e)&&i}if(i=wa(s=e.g=t,r,!0,e)&&i,i=wa(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=wa(s=e.g=n[o],r,!1,e)&&i}function wa(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&oa(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}ys(_a,vs),_a.prototype[ta]=!0,_a.prototype.removeEventListener=function(t,e,n,r){da(this,t,e,n,r)},_a.prototype.M=function(){if(_a.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ra(n[r]);delete e.g[t],e.h--}}this.I=null},_a.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},_a.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ca=as.JSON.stringify;function Sa(){var t=Ia,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ta,Ea=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Oa.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Oa=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new xa},function(t){return t.reset()}),xa=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Pa(t){as.setTimeout(function(){throw t},0)}function ka(t,e){Ta||function(){var t=as.Promise.resolve(void 0);Ta=function(){t.then(Ma)}}(),Aa||(Ta(),Aa=!0),Ia.add(t,e)}var Aa=!1,Ia=new Ea;function Ma(){for(var t;t=Sa();){try{t.h.call(t.g)}catch(n){Pa(n)}var e=Oa;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Aa=!1}function Da(t,e){_a.call(this),this.h=t||1,this.g=e||as,this.j=gs(this.kb,this),this.l=Date.now()}function Ra(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Na(t,e,n){if("function"==typeof t)n&&(t=gs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=gs(t.handleEvent,t)}return 2147483647<Number(e)?-1:as.setTimeout(t,e||0)}function La(t){t.g=Na(function(){t.g=null,t.i&&(t.i=!1,La(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}ys(Da,_a),(is=Da.prototype).da=!1,is.S=null,is.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ba(this,"tick"),this.da&&(Ra(this),this.start()))}},is.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},is.M=function(){Da.Z.M.call(this),Ra(this),delete this.g};var Fa=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ns(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:La(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(as.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(vs);function ja(t){vs.call(this),this.h=t,this.g={}}ys(ja,vs);var Ua=[];function qa(t,e,n,r){Array.isArray(n)||(n&&(Ua[0]=n.toString()),n=Ua);for(var i=0;i<n.length;i++){var o=ua(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Va(t){Is(t.g,function(t,e){this.g.hasOwnProperty(e)&&fa(t)},t),t.g={}}function Ba(){this.g=!0}function Za(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ca(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ja.prototype.M=function(){ja.Z.M.call(this),Va(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ba.prototype.Aa=function(){this.g=!1},Ba.prototype.info=function(){};var Ga={},za=null;function Ha(){return za=za||new _a}function $a(t){Js.call(this,Ga.Ma,t)}function Qa(t){var e=Ha();ba(e,new $a(e,t))}function Ka(t,e){Js.call(this,Ga.STAT_EVENT,t),this.stat=e}function Wa(t){var e=Ha();ba(e,new Ka(e,t))}function Ja(t,e){Js.call(this,Ga.Na,t),this.size=e}function Ya(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return as.setTimeout(function(){t()},e)}Ga.Ma="serverreachability",ys($a,Js),Ga.STAT_EVENT="statevent",ys(Ka,Js),Ga.Na="timingevent",ys(Ja,Js);var Xa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ec(){}function nc(){}ec.prototype.h=null;var rc,ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oc(){Js.call(this,"d")}function sc(){Js.call(this,"c")}function ac(){}function cc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ja(this),this.P=lc,this.W=new Da(t=Vs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uc}function uc(){this.i=null,this.g="",this.h=!1}ys(oc,Js),ys(sc,Js),ys(ac,ec),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},rc=new ac;var lc=45e3,hc={},dc={};function fc(t,e,n){t.K=1,t.v=Lc(Ac(e)),t.s=n,t.U=!0,pc(t,null)}function pc(t,e){t.F=Date.now(),vc(t),t.A=Ac(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Kc(n.h,"t",r),t.C=0,n=t.l.H,t.h=new uc,t.g=Wu(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Fa(gs(t.Ia,t,t.g),t.O)),qa(t.V,t.g,"readystatechange",t.gb),e=t.H?Ms(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Qa(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function gc(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function mc(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=yc(t,n))==dc){4==e&&(t.o=4,Wa(14),i=!1),Za(t.j,t.m,null,"[Incomplete Response]");break}if(r==hc){t.o=4,Wa(15),Za(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Za(t.j,t.m,r,null),Sc(t,r)}gc(t)&&r!=dc&&r!=hc&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Wa(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bu(e),e.L=!0,Wa(11))):(Za(t.j,t.m,n,"[Invalid Chunked Response]"),Cc(t),wc(t))}function yc(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?dc:(n=Number(e.substring(n,r)),isNaN(n)?hc:(r+=1)+n>e.length?dc:(e=e.substr(r,n),t.C=r+n,e))}function vc(t){t.Y=Date.now()+t.P,_c(t,t.P)}function _c(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ya(gs(t.eb,t),e)}function bc(t){t.B&&(as.clearTimeout(t.B),t.B=null)}function wc(t){0==t.l.G||t.I||zu(t.l,t)}function Cc(t){bc(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ra(t.W),Va(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Sc(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||nu(n.i,t)))if(n.I=t.N,!t.J&&nu(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Gu(n),Du(n)}Vu(n),Wa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ya(gs(n.ab,n),6e3));if(1>=eu(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else $u(n,11)}else if((t.J||n.g==t)&&Gu(n),!Ts(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(n.K=r=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=t.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(xs(l,"spdy")||xs(l,"quic")||xs(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ru(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Nc(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=Ku(r,r.H?r.la:null,r.W),f.J){iu(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(bc(p),vc(p)),r.g=f}else qu(r);0<n.l.length&&Lu(n)}else"stop"!=o[0]&&"close"!=o[0]||$u(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?$u(n,7):Mu(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Qa(4)}catch(o){}}function Tc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(us(t)||"string"==typeof t)ws(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(us(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(us(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ec(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ec)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];xc(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)xc(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function xc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(is=cc.prototype).setTimeout=function(t){this.P=t},is.gb=function(t){t=t.target;var e=this.L;e&&3==xu(t)?e.l():this.Ia(t)},is.Ia=function(t){try{if(t==this.g)t:{var e=xu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Vs||this.g&&(this.h.h||this.g.ga()||Pu(this.g)))){this.I||4!=e||7==n||Qa(8==n||0>=r?3:2),bc(this);var i=this.g.ba();this.N=i;e:if(gc(this)){var o=Pu(this.g);t="";var s=o.length,a=4==xu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Cc(this),wc(this);var c="";break e}this.h.i=new as.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ts(u)){var h=u;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Wa(12),Cc(this),wc(this);break t}Za(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sc(this,i)}this.U?(mc(this,e,c),Vs&&this.i&&3==e&&(qa(this.V,this.W,"tick",this.fb),this.W.start())):(Za(this.j,this.m,c,null),Sc(this,c)),4==e&&Cc(this),this.i&&!this.I&&(4==e?zu(this.l,this):(this.i=!1,vc(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Wa(12)):(this.o=0,Wa(13)),Cc(this),wc(this)}}}catch(e){}},is.fb=function(){if(this.g){var t=xu(this.g),e=this.g.ga();this.C<e.length&&(bc(this),mc(this,t,e),this.i&&4!=t&&vc(this))}},is.cancel=function(){this.I=!0,Cc(this)},is.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qa(3),Wa(17)),Cc(this),this.o=2,wc(this)):_c(this,this.Y-t)},(is=Ec.prototype).R=function(){Oc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},is.T=function(){return Oc(this),this.g.concat()},is.get=function(t,e){return xc(this.h,t)?this.h[t]:e},is.set=function(t,e){xc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},is.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kc(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof kc){this.g=void 0!==e?e:t.g,Ic(this,t.j),this.s=t.s,Mc(this,t.i),Dc(this,t.m),this.l=t.l,e=t.h;var n=new zc;n.i=e.i,e.g&&(n.g=new Ec(e.g),n.h=e.h),Rc(this,n),this.o=t.o}else t&&(n=String(t).match(Pc))?(this.g=!!e,Ic(this,n[1]||"",!0),this.s=Fc(n[2]||""),Mc(this,n[3]||"",!0),Dc(this,n[4]),this.l=Fc(n[5]||"",!0),Rc(this,n[6]||"",!0),this.o=Fc(n[7]||"")):(this.g=!!e,this.h=new zc(null,this.g))}function Ac(t){return new kc(t)}function Ic(t,e,n){t.j=n?Fc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mc(t,e,n){t.i=n?Fc(e,!0):e}function Dc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Rc(t,e,n){e instanceof zc?(t.h=e,function(t,e){e&&!t.j&&(Hc(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&($c(this,e),Kc(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=jc(e,Zc)),t.h=new zc(e,t.g))}function Nc(t,e,n){t.h.set(e,n)}function Lc(t){return Nc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Uc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Uc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jc(e,qc,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(jc(e,qc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(jc(n,"/"==n.charAt(0)?Bc:Vc,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jc(n,Gc)),t.join("")};var qc=/[#\/\?@]/g,Vc=/[#\?:]/g,Bc=/[#\?]/g,Zc=/[#\?@]/g,Gc=/#/g;function zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hc(t){t.g||(t.g=new Ec,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $c(t,e){Hc(t),e=Wc(t,e),xc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,xc((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Oc(t)))}function Qc(t,e){return Hc(t),e=Wc(t,e),xc(t.g.h,e)}function Kc(t,e,n){$c(t,e),0<n.length&&(t.i=null,t.g.set(Wc(t,e),Ss(n)),t.h+=n.length)}function Wc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(is=zc.prototype).add=function(t,e){Hc(this),this.i=null,t=Wc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},is.forEach=function(t,e){Hc(this),this.g.forEach(function(n,r){ws(n,function(n){t.call(e,n,r,this)},this)},this)},is.T=function(){Hc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},is.R=function(t){Hc(this);var e=[];if("string"==typeof t)Qc(this,t)&&(e=Cs(e,this.g.get(Wc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Cs(e,t[n])}return e},is.set=function(t,e){return Hc(this),this.i=null,Qc(this,t=Wc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},is.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},is.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Jc=function(t,e){this.h=t,this.g=e};function Yc(t){this.l=t||Xc,t=as.PerformanceNavigationTiming?0<(t=as.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(as.g&&as.g.Ea&&as.g.Ea()&&as.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xc=10;function tu(t){return!!t.h||!!t.g&&t.g.size>=t.j}function eu(t){return t.h?1:t.g?t.g.size:0}function nu(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ru(t,e){t.g?t.g.add(e):t.h=e}function iu(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ou(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=rs(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ss(t.i)}function su(){}function au(){this.g=new su}function cu(t,e,n){var r=n||"";try{Tc(t,function(t,n){var i=t;ls(t)&&(i=Ca(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(mb){throw e.push(r+"type="+encodeURIComponent("_badmap")),mb}}function uu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function lu(t){this.l=t.$b||null,this.j=t.ib||!1}function hu(t,e){_a.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=du,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yc.prototype.cancel=function(){var t,e;if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=rs(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},su.prototype.stringify=function(t){return as.JSON.stringify(t,void 0)},su.prototype.parse=function(t){return as.JSON.parse(t,void 0)},ys(lu,ec),lu.prototype.g=function(){return new hu(this.l,this.j)},lu.prototype.i=function(t){return function(){return t}}({}),ys(hu,_a);var du=0;function fu(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function pu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gu(t)}function gu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(is=hu.prototype).open=function(t,e){if(this.readyState!=du)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gu(this)},is.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||as).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},is.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pu(this)),this.readyState=du},is.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gu(this)),this.g&&(this.readyState=3,gu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==as.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fu(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},is.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pu(this):gu(this),3==this.readyState&&fu(this)}},is.Ua=function(t){this.g&&(this.response=this.responseText=t,pu(this))},is.Ta=function(t){this.g&&(this.response=t,pu(this))},is.ha=function(){this.g&&pu(this)},is.setRequestHeader=function(t,e){this.v.append(t,e)},is.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},is.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mu=as.JSON.parse;function yu(t){_a.call(this),this.headers=new Ec,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vu,this.K=this.L=!1}ys(yu,_a);var vu="",_u=/^https?$/i,bu=["POST","PUT"];function wu(t){return"content-type"==t.toLowerCase()}function Cu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Su(t),Eu(t)}function Su(t){t.D||(t.D=!0,ba(t,"complete"),ba(t,"error"))}function Tu(t){if(t.h&&void 0!==ss&&(!t.C[1]||4!=xu(t)||2!=t.ba()))if(t.v&&4==xu(t))Na(t.Fa,0,t);else if(ba(t,"readystatechange"),4==xu(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Pc)[1]||null;if(!o&&as.self&&as.self.location){var s=as.self.location.protocol;o=s.substr(0,s.length-1)}i=!_u.test(o?o.toLowerCase():"")}e=i}if(e)ba(t,"complete"),ba(t,"success");else{t.m=6;try{var a=2<xu(t)?t.g.statusText:""}catch(c){a=""}t.j=a+" ["+t.ba()+"]",Su(t)}}finally{Eu(t)}}}function Eu(t,e){if(t.g){Ou(t);var n=t.g,r=t.C[0]?cs:null;t.g=null,t.C=null,e||ba(t,"ready");try{n.onreadystatechange=r}catch(mb){}}}function Ou(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(as.clearTimeout(t.A),t.A=null)}function xu(t){return t.g?t.g.readyState:0}function Pu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case vu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ku(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Is(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Nc(t,e,n))}function Au(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Iu(t){this.za=0,this.l=[],this.h=new Ba,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Au("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Au("baseRetryDelayMs",5e3,t),this.$a=Au("retryDelaySeedMs",1e4,t),this.Ya=Au("forwardChannelMaxRetries",2,t),this.ra=Au("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Yc(t&&t.concurrentRequestLimit),this.Ca=new au,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Mu(t){if(Ru(t),3==t.G){var e=t.V++,n=Ac(t.F);Nc(n,"SID",t.J),Nc(n,"RID",e),Nc(n,"TYPE","terminate"),ju(t,n),(e=new cc(t,t.h,e,void 0)).K=2,e.v=Lc(Ac(n)),n=!1,as.navigator&&as.navigator.sendBeacon&&(n=as.navigator.sendBeacon(e.v.toString(),"")),!n&&as.Image&&((new Image).src=e.v,n=!0),n||(e.g=Wu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vc(e)}Qu(t)}function Du(t){t.g&&(Bu(t),t.g.cancel(),t.g=null)}function Ru(t){Du(t),t.u&&(as.clearTimeout(t.u),t.u=null),Gu(t),t.i.cancel(),t.m&&("number"==typeof t.m&&as.clearTimeout(t.m),t.m=null)}function Nu(t,e){t.l.push(new Jc(t.Za++,e)),3==t.G&&Lu(t)}function Lu(t){tu(t.i)||t.m||(t.m=!0,ka(t.Ha,t),t.C=0)}function Fu(t,e){var n;n=e?e.m:t.V++;var r=Ac(t.F);Nc(r,"SID",t.J),Nc(r,"RID",n),Nc(r,"AID",t.U),ju(t,r),t.o&&t.s&&ku(r,t.o,t.s),n=new cc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Uu(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ru(t.i,n),fc(n,r,e)}function ju(t,e){t.j&&Tc({},function(t,n){Nc(e,n,t)})}function Uu(t,e,n){n=Math.min(t.l.length,n);var r=t.j?gs(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].h,l=i[c].g;if(0>(u-=o))o=Math.max(0,i[c].h-100),a=!1;else try{cu(l,s,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function qu(t){t.g||t.u||(t.Y=1,ka(t.Ga,t),t.A=0)}function Vu(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ya(gs(t.Ga,t),Hu(t,t.A)),t.A++,0))}function Bu(t){null!=t.B&&(as.clearTimeout(t.B),t.B=null)}function Zu(t){t.g=new cc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ac(t.oa);Nc(e,"RID","rpc"),Nc(e,"SID",t.J),Nc(e,"CI",t.N?"0":"1"),Nc(e,"AID",t.U),ju(t,e),Nc(e,"TYPE","xmlhttp"),t.o&&t.s&&ku(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Lc(Ac(e)),n.s=null,n.U=!0,pc(n,t)}function Gu(t){null!=t.v&&(as.clearTimeout(t.v),t.v=null)}function zu(t,e){var n=null;if(t.g==e){Gu(t),Bu(t),t.g=null;var r=2}else{if(!nu(t.i,e))return;n=e.D,iu(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;ba(r=Ha(),new Ja(r,n,e,i)),Lu(t)}else qu(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(eu(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ya(gs(t.Ha,t,e),Hu(t,t.C)),t.C++,0)))}(t,e)||2==r&&Vu(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$u(t,5);break;case 4:$u(t,10);break;case 3:$u(t,6);break;default:$u(t,2)}}function Hu(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function $u(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=gs(t.jb,t);n||(n=new kc("//www.google.com/images/cleardot.gif"),as.location&&"http"==as.location.protocol||Ic(n,"https"),Lc(n)),function(t,e){var n=new Ba;if(as.Image){var r=new Image;r.onload=ms(uu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ms(uu,n,r,"TestLoadImage: error",!1,e),r.onabort=ms(uu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ms(uu,n,r,"TestLoadImage: timeout",!1,e),as.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Wa(2);t.G=0,t.j&&t.j.va(e),Qu(t),Ru(t)}function Qu(t){t.G=0,t.I=-1,t.j&&(0==ou(t.i).length&&0==t.l.length||(t.i.i.length=0,Ss(t.l),t.l.length=0),t.j.ua())}function Ku(t,e,n){var r=function(t){return t instanceof kc?Ac(t):new kc(t,void 0)}(n);if(""!=r.i)e&&Mc(r,e+"."+r.i),Dc(r,r.m);else{var i=as.location;r=function(t,e,n,r){var i=new kc(null,void 0);return t&&Ic(i,t),e&&Mc(i,e),n&&Dc(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Is(t.aa,function(t,e){Nc(r,e,t)}),n=t.sa,(e=t.D)&&n&&Nc(r,e,n),Nc(r,"VER",t.ma),ju(t,r),r}function Wu(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yu(n&&t.Ba&&!t.qa?new lu({ib:!0}):t.qa)).L=t.H,e}function Ju(){}function Yu(){if(Us&&!(10<=Number(Ks)))throw Error("Environmental error: no available transport.")}function Xu(t,e){_a.call(this),this.g=new Iu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ts(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ts(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new nl(this)}function tl(t){oc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function el(){sc.call(this),this.status=1}function nl(t){this.g=t}(is=yu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rc.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:rc),this.g.onreadystatechange=gs(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Cu(this,o)}t=n||"";var i=new Ec(this.headers);r&&Tc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=wu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=as.FormData&&t instanceof as.FormData,!(0<=bs(bu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ou(this),0<this.B&&((this.K=function(t){return Us&&function(){return t=Qs,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Os(String(Ls)).split("."),n=Os("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=Ps(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Ps(0==o[2].length,0==s[2].length)||Ps(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gs(this.pa,this)):this.A=Na(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Cu(this,o)}},is.pa=function(){void 0!==ss&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ba(this,"timeout"),this.abort(8))},is.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ba(this,"complete"),ba(this,"abort"),Eu(this))},is.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eu(this,!0)),yu.Z.M.call(this)},is.Fa=function(){this.s||(this.F||this.v||this.l?Tu(this):this.cb())},is.cb=function(){Tu(this)},is.ba=function(){try{return 2<xu(this)?this.g.status:-1}catch(Fs){return-1}},is.ga=function(){try{return this.g?this.g.responseText:""}catch(Fs){return""}},is.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mu(e)}},is.Da=function(){return this.m},is.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(is=Iu.prototype).ma=8,is.G=1,is.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},is.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new cc(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Rs(n=Ms(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Uu(this,e,r),Nc(i=Ac(this.F),"RID",t),Nc(i,"CVER",22),this.D&&Nc(i,"X-HTTP-Session-Id",this.D),ju(this,i),this.o&&n&&ku(i,this.o,n),ru(this.i,e),this.Ra&&Nc(i,"TYPE","init"),this.ja?(Nc(i,"$req",r),Nc(i,"SID","null"),e.$=!0,fc(e,i,null)):fc(e,i,r),this.G=2}}else 3==this.G&&(t?Fu(this,t):0==this.l.length||tu(this.i)||Fu(this))},is.Ga=function(){if(this.u=null,Zu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ya(gs(this.bb,this),t)}},is.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wa(10),Du(this),Zu(this))},is.ab=function(){null!=this.v&&(this.v=null,Du(this),Vu(this),Wa(19))},is.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Wa(2)):(this.h.info("Failed to ping google.com"),Wa(1))},(is=Ju.prototype).xa=function(){},is.wa=function(){},is.va=function(){},is.ua=function(){},is.Oa=function(){},Yu.prototype.g=function(t,e){return new Xu(t,e)},ys(Xu,_a),Xu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ka(gs(t.hb,t,e))),Wa(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ku(t,null,t.W),Lu(t)},Xu.prototype.close=function(){Mu(this.g)},Xu.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Nu(this.g,e)}else this.v?((e={}).__data__=Ca(t),Nu(this.g,e)):Nu(this.g,t)},Xu.prototype.M=function(){this.g.j=null,delete this.j,Mu(this.g),delete this.g,Xu.Z.M.call(this)},ys(tl,oc),ys(el,sc),ys(nl,Ju),nl.prototype.xa=function(){ba(this.g,"a")},nl.prototype.wa=function(t){ba(this.g,new tl(t))},nl.prototype.va=function(t){ba(this.g,new el(t))},nl.prototype.ua=function(){ba(this.g,"b")},Yu.prototype.createWebChannel=Yu.prototype.g,Xu.prototype.send=Xu.prototype.u,Xu.prototype.open=Xu.prototype.m,Xu.prototype.close=Xu.prototype.close,Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,tc.COMPLETE="complete",nc.EventType=ic,ic.OPEN="a",ic.CLOSE="b",ic.ERROR="c",ic.MESSAGE="d",_a.prototype.listen=_a.prototype.N,yu.prototype.listenOnce=yu.prototype.O,yu.prototype.getLastError=yu.prototype.La,yu.prototype.getLastErrorCode=yu.prototype.Da,yu.prototype.getStatus=yu.prototype.ba,yu.prototype.getResponseJson=yu.prototype.Qa,yu.prototype.getResponseText=yu.prototype.ga,yu.prototype.send=yu.prototype.ea;var rl=Xa,il=tc,ol=Ga,sl=lu,al=nc,cl=yu,ul=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ul.o=-1;var ll={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Xo.ZT)(e,t),e}(Error),dl=new es.Yd("@firebase/firestore");function fl(){return dl.logLevel}function pl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dl.logLevel<=es.in.DEBUG){var r=e.map(yl);dl.debug.apply(dl,(0,Xo.ev)(["Firestore (8.10.0): "+t],r))}}function gl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dl.logLevel<=es.in.ERROR){var r=e.map(yl);dl.error.apply(dl,(0,Xo.ev)(["Firestore (8.10.0): "+t],r))}}function ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dl.logLevel<=es.in.WARN){var r=e.map(yl);dl.warn.apply(dl,(0,Xo.ev)(["Firestore (8.10.0): "+t],r))}}function yl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(mb){return t}}function vl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw gl(e),new Error(e)}function _l(t,e){t||vl()}function bl(t,e){return t}function wl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Cl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=wl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Sl(t,e){return t<e?-1:t>e?1:0}function Tl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function El(t){return t+"\0"}var Ol=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new hl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new hl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new hl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Sl(this.nanoseconds,t.nanoseconds):Sl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ol(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Pl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Al(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Il=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&vl(),void 0===n?n=t.length-e:n>t.length-e&&vl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ml=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new hl(ll.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Il),Dl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Dl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new hl(ll.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new hl(ll.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new hl(ll.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new hl(ll.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Il),Nl=function(){function t(t){this.fields=t,t.sort(Rl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Tl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ll=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Sl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ll.EMPTY_BYTE_STRING=new Ll("");var Fl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jl(t){if(_l(!!t),"string"==typeof t){var e=0,n=Fl.exec(t);if(_l(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ul(t.seconds),nanos:Ul(t.nanos)}}function Ul(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ql(t){return"string"==typeof t?Ll.fromBase64String(t):Ll.fromUint8Array(t)}function Vl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bl(t){var e=t.mapValue.fields.__previous_value__;return Vl(e)?Bl(e):e}function Zl(t){var e=jl(t.mapValue.fields.__local_write_time__.timestampValue);return new Ol(e.seconds,e.nanos)}function Gl(t){return null==t}function zl(t){return 0===t&&1/t==-1/0}function Hl(t){return"number"==typeof t&&Number.isInteger(t)&&!zl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $l=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ml.fromString(e))},t.fromName=function(e){return new t(Ml.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ml.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ml.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ml(e.slice()))},t}();function Ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vl(t)?4:10:vl()}function Kl(t,e){var n=Ql(t);if(n!==Ql(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jl(t.timestampValue),r=jl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ql(t.bytesValue).isEqual(ql(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ul(t.geoPointValue.latitude)===Ul(e.geoPointValue.latitude)&&Ul(t.geoPointValue.longitude)===Ul(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ul(t.integerValue)===Ul(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ul(t.doubleValue),r=Ul(e.doubleValue);return n===r?zl(n)===zl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],Kl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Pl(n)!==Pl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kl(n[i],r[i])))return!1;return!0}(t,e);default:return vl()}}function Wl(t,e){return void 0!==(t.values||[]).find(function(t){return Kl(t,e)})}function Jl(t,e){var n=Ql(t),r=Ql(e);if(n!==r)return Sl(n,r);switch(n){case 0:return 0;case 1:return Sl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ul(t.integerValue||t.doubleValue),r=Ul(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Yl(t.timestampValue,e.timestampValue);case 4:return Yl(Zl(t),Zl(e));case 5:return Sl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ql(t),r=ql(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Sl(n[i],r[i]);if(0!==o)return o}return Sl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Sl(Ul(t.latitude),Ul(e.latitude));return 0!==n?n:Sl(Ul(t.longitude),Ul(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Jl(n[i],r[i]);if(o)return o}return Sl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Sl(r[s],o[s]);if(0!==a)return a;var c=Jl(n[r[s]],i[o[s]]);if(0!==c)return c}return Sl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw vl()}}function Yl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Sl(t,e);var n=jl(t),r=jl(e),i=Sl(n.seconds,r.seconds);return 0!==i?i:Sl(n.nanos,r.nanos)}function Xl(t){return th(t)}function th(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=jl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ql(t.bytesValue).toBase64():"referenceValue"in t?$l.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=th(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+th(t.fields[o])}return e+"}"}(t.mapValue):vl();var e}function eh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function nh(t){return!!t&&"integerValue"in t}function rh(t){return!!t&&"arrayValue"in t}function ih(t){return!!t&&"nullValue"in t}function oh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sh(t){return!!t&&"mapValue"in t}function ah(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return kl(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=ah(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ah(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ch=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!sh(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ah(e)},t.prototype.setAll=function(t){var e=this,n=Rl.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=ah(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());sh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Kl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];sh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){kl(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(ah(this.value))},t}();function uh(t){var e=[];return kl(t.fields,function(t,n){var r=new Rl([t]);if(sh(n)){var i=uh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Nl(e)}var lh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,xl.min(),ch.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ch.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ch.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ch.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ch.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),hh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function dh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new hh(t,e,n,r,i,o,s)}function fh(t){var e=bl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Xl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Oh(e.startAt)),e.endAt&&(n+="|ub:",n+=Oh(e.endAt)),e.h=n}return e.h}function ph(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ph(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Kl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ah(t.startAt,e.startAt)&&Ah(t.endAt,e.endAt)}function gh(t){return $l.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var mh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Xo.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new yh(t,n,r):"array-contains"===n?new wh(t,r):"in"===n?new Ch(t,r):"not-in"===n?new Sh(t,r):"array-contains-any"===n?new Th(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new vh(t,n):new _h(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Jl(e,this.value)):null!==e&&Ql(this.value)===Ql(e)&&this.m(Jl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return vl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),yh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=$l.fromName(r.referenceValue),i}return(0,Xo.ZT)(e,t),e.prototype.matches=function(t){var e=$l.comparator(t.key,this.key);return this.m(e)},e}(mh),vh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=bh(0,n),r}return(0,Xo.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(mh),_h=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=bh(0,n),r}return(0,Xo.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(mh);function bh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return $l.fromName(t.referenceValue)})}var wh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Xo.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return rh(e)&&Wl(e.arrayValue,this.value)},e}(mh),Ch=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Xo.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Wl(this.value.arrayValue,e)},e}(mh),Sh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Xo.ZT)(e,t),e.prototype.matches=function(t){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Wl(this.value.arrayValue,e)},e}(mh),Th=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Xo.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!rh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Wl(e.value.arrayValue,t)})},e}(mh),Eh=function(t,e){this.position=t,this.before=e};function Oh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Xl(t)}).join(",")}var xh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ph(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?$l.comparator($l.fromName(s.referenceValue),n.key):Jl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ah(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Kl(t.position[n],e.position[n]))return!1;return!0}var Ih=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Mh(t,e,n,r,i,o,s,a){return new Ih(t,e,n,r,i,o,s,a)}function Dh(t){return new Ih(t)}function Rh(t){return!Gl(t.limit)&&"F"===t.limitType}function Nh(t){return!Gl(t.limit)&&"L"===t.limitType}function Lh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Fh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function jh(t){return null!==t.collectionGroup}function Uh(t){var e=bl(t);if(null===e.p){e.p=[];var n=Fh(e),r=Lh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new xh(n)),e.p.push(new xh(Rl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xh(Rl.keyField(),c))}}}return e.p}function qh(t){var e=bl(t);if(!e.T)if("F"===e.limitType)e.T=dh(e.path,e.collectionGroup,Uh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Uh(e);r<i.length;r++){var o=i[r];n.push(new xh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Eh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Eh(e.startAt.position,!e.startAt.before):null;e.T=dh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Vh(t,e,n){return new Ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return ph(qh(t),qh(e))&&t.limitType===e.limitType}function Zh(t){return fh(qh(t))+"|lt:"+t.limitType}function Gh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Xl(e.value);var e}).join(", ")+"]"),Gl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Oh(t.startAt)),t.endAt&&(e+=", endAt: "+Oh(t.endAt)),"Target("+e+")"}(qh(t))+"; limitType="+t.limitType+")"}function zh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):$l.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!kh(t.startAt,Uh(t),e)||t.endAt&&kh(t.endAt,Uh(t),e))}(t,e)}function Hh(t){return function(e,n){for(var r=!1,i=0,o=Uh(t);i<o.length;i++){var s=o[i],a=$h(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function $h(t,e,n){var r=t.field.isKeyField()?$l.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Jl(r,i):vl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vl()}}function Qh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function Kh(t){return{integerValue:""+t}}function Wh(t,e){return Hl(e)?Kh(e):Qh(t,e)}var Jh=function(){this._=void 0};function Yh(t,e,n){return t instanceof ed?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof nd?rd(t,e):t instanceof id?od(t,e):function(t,e){var n=td(t,e),r=ad(n)+ad(t.A);return nh(n)&&nh(t.A)?Kh(r):Qh(t.R,r)}(t,e)}function Xh(t,e,n){return t instanceof nd?rd(t,e):t instanceof id?od(t,e):n}function td(t,e){return t instanceof sd?nh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e}(Jh),nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Xo.ZT)(e,t),e}(Jh);function rd(t,e){for(var n=cd(e),r=function(t){n.some(function(e){return Kl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var id=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Xo.ZT)(e,t),e}(Jh);function od(t,e){for(var n=cd(e),r=function(t){n=n.filter(function(e){return!Kl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Xo.ZT)(e,t),e}(Jh);function ad(t){return Ul(t.integerValue||t.doubleValue)}function cd(t){return rh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ud=function(t,e){this.field=t,this.transform=e},ld=function(t,e){this.version=t,this.transformResults=e},hd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function dd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var fd=function(){};function pd(t,e,n){t instanceof _d?function(t,e,n){var r=t.value.clone(),i=Cd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof bd?function(t,e,n){if(dd(t.precondition,e)){var r=Cd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(wd(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function gd(t,e,n){t instanceof _d?function(t,e,n){if(dd(t.precondition,e)){var r=t.value.clone(),i=Sd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(vd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof bd?function(t,e,n){if(dd(t.precondition,e)){var r=Sd(t.fieldTransforms,n,e),i=e.data;i.setAll(wd(t)),i.setAll(r),e.convertToFoundDocument(vd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){dd(t.precondition,e)&&e.convertToNoDocument(xl.min())}(t,e)}function md(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=td(o.transform,s||null);null!=a&&(null==n&&(n=ch.empty()),n.set(o.field,a))}return n||null}function yd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Tl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof nd&&e instanceof nd||t instanceof id&&e instanceof id?Tl(t.elements,e.elements,Kl):t instanceof sd&&e instanceof sd?Kl(t.A,e.A):t instanceof ed&&e instanceof ed}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function vd(t){return t.isFoundDocument()?t.version:xl.min()}var _d=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Xo.ZT)(e,t),e}(fd),bd=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Xo.ZT)(e,t),e}(fd);function wd(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Cd(t,e,n){var r=new Map;_l(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Xh(s,a,n[i]))}return r}function Sd(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,c=n.data.field(s.field);r.set(s.field,Yh(a,c,e))}return r}var Td,Ed,Od=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Xo.ZT)(e,t),e}(fd),xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Xo.ZT)(e,t),e}(fd),Pd=function(t){this.count=t};function kd(t){switch(t){case ll.OK:return vl();case ll.CANCELLED:case ll.UNKNOWN:case ll.DEADLINE_EXCEEDED:case ll.RESOURCE_EXHAUSTED:case ll.INTERNAL:case ll.UNAVAILABLE:case ll.UNAUTHENTICATED:return!1;case ll.INVALID_ARGUMENT:case ll.NOT_FOUND:case ll.ALREADY_EXISTS:case ll.PERMISSION_DENIED:case ll.FAILED_PRECONDITION:case ll.ABORTED:case ll.OUT_OF_RANGE:case ll.UNIMPLEMENTED:case ll.DATA_LOSS:return!0;default:return vl()}}function Ad(t){if(void 0===t)return gl("GRPC error has no .code"),ll.UNKNOWN;switch(t){case Td.OK:return ll.OK;case Td.CANCELLED:return ll.CANCELLED;case Td.UNKNOWN:return ll.UNKNOWN;case Td.DEADLINE_EXCEEDED:return ll.DEADLINE_EXCEEDED;case Td.RESOURCE_EXHAUSTED:return ll.RESOURCE_EXHAUSTED;case Td.INTERNAL:return ll.INTERNAL;case Td.UNAVAILABLE:return ll.UNAVAILABLE;case Td.UNAUTHENTICATED:return ll.UNAUTHENTICATED;case Td.INVALID_ARGUMENT:return ll.INVALID_ARGUMENT;case Td.NOT_FOUND:return ll.NOT_FOUND;case Td.ALREADY_EXISTS:return ll.ALREADY_EXISTS;case Td.PERMISSION_DENIED:return ll.PERMISSION_DENIED;case Td.FAILED_PRECONDITION:return ll.FAILED_PRECONDITION;case Td.ABORTED:return ll.ABORTED;case Td.OUT_OF_RANGE:return ll.OUT_OF_RANGE;case Td.UNIMPLEMENTED:return ll.UNIMPLEMENTED;case Td.DATA_LOSS:return ll.DATA_LOSS;default:return vl()}}(Ed=Td||(Td={}))[Ed.OK=0]="OK",Ed[Ed.CANCELLED=1]="CANCELLED",Ed[Ed.UNKNOWN=2]="UNKNOWN",Ed[Ed.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ed[Ed.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ed[Ed.NOT_FOUND=5]="NOT_FOUND",Ed[Ed.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ed[Ed.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ed[Ed.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ed[Ed.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ed[Ed.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ed[Ed.ABORTED=10]="ABORTED",Ed[Ed.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ed[Ed.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ed[Ed.INTERNAL=13]="INTERNAL",Ed[Ed.UNAVAILABLE=14]="UNAVAILABLE",Ed[Ed.DATA_LOSS=15]="DATA_LOSS";var Id=function(){function t(t,e){this.comparator=t,this.root=e||Dd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Md(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Md(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Md(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Md(this.root,t,this.comparator,!0)},t}(),Md=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Dd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw vl();if(this.right.isRed())throw vl();var t=this.left.check();if(t!==this.right.check())throw vl();return t+(this.isRed()?0:1)},t}();Dd.EMPTY=null,Dd.RED=!0,Dd.BLACK=!1,Dd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw vl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Rd=function(){function t(t){this.comparator=t,this.data=new Id(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Nd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Nd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Nd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ld=new Id($l.comparator);function Fd(){return Ld}var jd=new Id($l.comparator);function Ud(){return jd}var qd=new Id($l.comparator);function Vd(){return qd}var Bd=new Rd($l.comparator);function Zd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Bd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Gd=new Rd(Sl);function zd(){return Gd}var Hd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(xl.min(),r,zd(),Fd(),Zd())},t}(),$d=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ll.EMPTY_BYTE_STRING,n,Zd(),Zd(),Zd())},t}(),Qd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Kd=function(t,e){this.targetId=t,this.V=e},Wd=function(t,e,n,r){void 0===n&&(n=Ll.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Jd=function(){function t(){this.S=0,this.D=tf(),this.C=Ll.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Zd(),e=Zd(),n=Zd();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:vl()}}),new $d(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=tf()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Yd=function(){function t(t){this.W=t,this.G=new Map,this.H=Fd(),this.J=Xd(),this.Y=new Rd(Sl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:vl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(gh(i))if(0===n){var o=new $l(i.path);this.tt(e,o,lh.newNoDocument(o,xl.min()))}else _l(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&gh(o.target)){var s=new $l(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,lh.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Zd();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Hd(t,n,this.Y,this.H,r);return this.H=Fd(),this.J=Xd(),this.Y=new Rd(Sl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Jd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Rd(Sl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||pl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Jd),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Xd(){return new Id($l.comparator)}function tf(){return new Id($l.comparator)}var ef={asc:"ASCENDING",desc:"DESCENDING"},nf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rf=function(t,e){this.databaseId=t,this.I=e};function of(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sf(t,e){return t.I?e.toBase64():e.toUint8Array()}function af(t,e){return of(t,e.toTimestamp())}function cf(t){return _l(!!t),xl.fromTimestamp(function(t){var e=jl(t);return new Ol(e.seconds,e.nanos)}(t))}function uf(t,e){return function(t){return new Ml(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function lf(t){var e=Ml.fromString(t);return _l(Rf(e)),e}function hf(t,e){return uf(t.databaseId,e.path)}function df(t,e){var n=lf(e);if(n.get(1)!==t.databaseId.projectId)throw new hl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new hl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $l(mf(n))}function ff(t,e){return uf(t.databaseId,e)}function pf(t){var e=lf(t);return 4===e.length?Ml.emptyPath():mf(e)}function gf(t){return new Ml(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mf(t){return _l(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function yf(t,e,n){return{name:hf(t,e),fields:n.value.mapValue.fields}}function vf(t,e,n){var r=df(t,e.name),i=cf(e.updateTime),o=new ch({mapValue:{fields:e.fields}}),s=lh.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function _f(t,e){var n;if(e instanceof _d)n={update:yf(t,e.key,e.value)};else if(e instanceof Od)n={delete:hf(t,e.key)};else if(e instanceof bd)n={update:yf(t,e.key,e.data),updateMask:Df(e.fieldMask)};else{if(!(e instanceof xd))return vl();n={verify:hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ed)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof id)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw vl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:af(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:vl()}(t,e.precondition)),n}function bf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?hd.updateTime(cf(t.updateTime)):void 0!==t.exists?hd.exists(t.exists):hd.none()}(e.currentDocument):hd.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(_l("REQUEST_TIME"===e.setToServerValue),n=new ed):"appendMissingElements"in e?n=new nd(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new id(e.removeAllFromArray.values||[]):"increment"in e?n=new sd(t,e.increment):vl();var r=Rl.fromServerFormat(e.fieldPath);return new ud(r,n)}(t,e)}):[];if(e.update){var i=df(t,e.update.name),o=new ch({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Nl((t.fieldPaths||[]).map(function(t){return Rl.fromServerFormat(t)}))}(e.updateMask);return new bd(i,o,s,n,r)}return new _d(i,o,n,r)}if(e.delete){var a=df(t,e.delete);return new Od(a,n)}if(e.verify){var c=df(t,e.verify);return new xd(c,n)}return vl()}function wf(t,e){return{documents:[ff(t,e.path)]}}function Cf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ff(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ff(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(oh(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NAN"}};if(ih(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(oh(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NAN"}};if(ih(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(t.field),op:Pf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:kf(t.field),direction:xf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Gl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ef(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ef(e.endAt)),n}function Sf(t){var e=pf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_l(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Tf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new xh(Af(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Gl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Of(n.startAt));var l=null;return n.endAt&&(l=Of(n.endAt)),Mh(e,i,a,s,c,"F",u,l)}function Tf(t){return t?void 0!==t.unaryFilter?[Mf(t)]:void 0!==t.fieldFilter?[If(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Tf(t)}).reduce(function(t,e){return t.concat(e)}):vl():[]}function Ef(t){return{before:t.before,values:t.position}}function Of(t){return new Eh(t.values||[],!!t.before)}function xf(t){return ef[t]}function Pf(t){return nf[t]}function kf(t){return{fieldPath:t.canonicalString()}}function Af(t){return Rl.fromServerFormat(t.fieldPath)}function If(t){return mh.create(Af(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return vl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Af(t.unaryFilter.field);return mh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Af(t.unaryFilter.field);return mh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Af(t.unaryFilter.field);return mh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Af(t.unaryFilter.field);return mh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return vl()}}function Df(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Rf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Nf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ff(e)),e=Lf(t.get(n),e);return Ff(e)}function Lf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ff(t){return t+"\x01\x01"}function jf(t){var e=t.length;if(_l(e>=2),2===e)return _l("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ml.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&vl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:vl()}o=s+2}return new Ml(r)}var Uf=function(t,e){this.seconds=t,this.nanoseconds=e},qf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};qf.store="owner",qf.key="owner";var Vf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vf.store="mutationQueues",Vf.keyPath="userId";var Bf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bf.store="mutations",Bf.keyPath="batchId",Bf.userMutationsIndex="userMutationsIndex",Bf.userMutationsKeyPath=["userId","batchId"];var Zf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Nf(e)]},t.key=function(t,e,n){return[t,Nf(e),n]},t}();Zf.store="documentMutations",Zf.PLACEHOLDER=new Zf;var Gf=function(t,e){this.path=t,this.readTime=e},zf=function(t,e){this.path=t,this.version=e},Hf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Hf.store="remoteDocuments",Hf.readTimeIndex="readTimeIndex",Hf.readTimeIndexPath="readTime",Hf.collectionReadTimeIndex="collectionReadTimeIndex",Hf.collectionReadTimeIndexPath=["parentPath","readTime"];var $f=function(t){this.byteSize=t};$f.store="remoteDocumentGlobal",$f.key="remoteDocumentGlobalKey";var Qf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Qf.store="targets",Qf.keyPath="targetId",Qf.queryTargetsIndexName="queryTargetsIndex",Qf.queryTargetsKeyPath=["canonicalId","targetId"];var Kf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kf.store="targetDocuments",Kf.keyPath=["targetId","path"],Kf.documentTargetsIndex="documentTargetsIndex",Kf.documentTargetsKeyPath=["path","targetId"];var Wf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wf.key="targetGlobalKey",Wf.store="targetGlobal";var Jf=function(t,e){this.collectionId=t,this.parent=e};Jf.store="collectionParents",Jf.keyPath=["collectionId","parent"];var Yf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Yf.store="clientMetadata",Yf.keyPath="clientId";var Xf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Xf.store="bundles",Xf.keyPath="bundleId";var tp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};tp.store="namedQueries",tp.keyPath="name";var ep=(0,Xo.ev)((0,Xo.ev)([],(0,Xo.ev)((0,Xo.ev)([],(0,Xo.ev)((0,Xo.ev)([],(0,Xo.ev)((0,Xo.ev)([],[Vf.store,Bf.store,Zf.store,Hf.store,Qf.store,qf.store,Wf.store,Kf.store]),[Yf.store])),[$f.store])),[Jf.store])),[Xf.store,tp.store]),np="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),ip=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},op=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&vl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),sp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ip,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new up(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=pp(e.target.error);n.ft.reject(new up(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new up(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(pl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new hp(e)},t}(),ap=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,ts.z$)())&&gl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return pl("SimpleDb","Removing database:",t),dp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,ts.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(pl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new up(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new hl(ll.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new up(t,n))},i.onupgradeneeded=function(t){pl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){pl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Xo.mG)(this,void 0,void 0,function(){var i,o,s,a,c;return(0,Xo.Jh)(this,function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,u,l;return(0,Xo.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=sp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),op.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return pl("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),cp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return dp(this.Pt.delete())},t}(),up=function(t){function e(e,n){var r=this;return(r=t.call(this,ll.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Xo.ZT)(e,t),e}(hl);function lp(t){return"IndexedDbTransactionError"===t.name}var hp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(pl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(pl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),dp(n)},t.prototype.add=function(t){return pl("SimpleDb","ADD",this.store.name,t,t),dp(this.store.add(t))},t.prototype.get=function(t){var e=this;return dp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),pl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return pl("SimpleDb","DELETE",this.store.name,t),dp(this.store.delete(t))},t.prototype.count=function(){return pl("SimpleDb","COUNT",this.store.name),dp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){pl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new op(function(n,r){e.onerror=function(t){var e=pp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new op(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new cp(i),s=e(i.primaryKey,i.value,o);if(s instanceof op){var a=s.catch(function(t){return o.done(),op.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return op.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function dp(t){return new op(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=pp(t.target.error);n(e)}})}var fp=!1;function pp(t){var e=ap._t((0,ts.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new hl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fp||(fp=!0,setTimeout(function(){throw r},0)),r}}return t}var gp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Xo.ZT)(e,t),e}(rp);function mp(t,e){var n=bl(t);return ap.It(n.Mt,e)}var yp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&pd(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&gd(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&gd(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Zd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Tl(this.mutations,t.mutations,function(t,e){return yd(t,e)})&&Tl(this.baseMutations,t.baseMutations,function(t,e){return yd(t,e)})},t}(),vp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){_l(e.mutations.length===r.length);for(var i=Vd(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),_p=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=xl.min()),void 0===o&&(o=xl.min()),void 0===s&&(s=Ll.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),bp=function(t){this.Lt=t};function wp(t,e){if(e.document)return vf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=$l.fromSegments(e.noDocument.path),r=Op(e.noDocument.readTime),i=lh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=$l.fromSegments(e.unknownDocument.path);return r=Op(e.unknownDocument.version),lh.newUnknownDocument(o,r)}return vl()}function Cp(t,e,n){var r=Sp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:hf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:of(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Hf(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Ep(e.version);return s=e.hasCommittedMutations,new Hf(null,new Gf(a,c),null,s,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=Ep(e.version);return new Hf(new zf(u,l),null,null,!0,r,i)}return vl()}function Sp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Tp(t){var e=new Ol(t[0],t[1]);return xl.fromTimestamp(e)}function Ep(t){var e=t.toTimestamp();return new Uf(e.seconds,e.nanoseconds)}function Op(t){var e=new Ol(t.seconds,t.nanoseconds);return xl.fromTimestamp(e)}function xp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return bf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return bf(t.Lt,e)}),o=Ol.fromMillis(e.localWriteTimeMs);return new yp(e.batchId,o,n,i)}function Pp(t){var e,n,r=Op(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Op(t.lastLimboFreeSnapshotVersion):xl.min();return void 0!==t.query.documents?(_l(1===(n=t.query).documents.length),e=qh(Dh(pf(n.documents[0])))):e=function(t){return qh(Sf(t))}(t.query),new _p(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ll.fromBase64String(t.resumeToken))}function kp(t,e){var n,r=Ep(e.snapshotVersion),i=Ep(e.lastLimboFreeSnapshotVersion);n=gh(e.target)?wf(t.Lt,e.target):Cf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Qf(e.targetId,fh(e.target),r,o,e.sequenceNumber,i,n)}function Ap(t){var e=Sf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Vh(e,e.limit,"L"):e}var Ip=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Mp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Op(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Mp(t).put({bundleId:(n=e).id,createTime:Ep(cf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Dp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ap(e.bundledQuery),readTime:Op(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Dp(t).put(function(t){return{name:t.name,readTime:Ep(cf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Mp(t){return mp(t,Xf.store)}function Dp(t){return mp(t,tp.store)}var Rp=function(){function t(){this.Bt=new Np}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),op.resolve()},t.prototype.getCollectionParents=function(t,e){return op.resolve(this.Bt.getEntries(e))},t}(),Np=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Rd(Ml.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Rd(Ml.comparator)).toArray()},t}(),Lp=function(){function t(){this.qt=new Np}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Nf(i)};return Fp(t).put(o)}return op.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[El(e),""],!1,!0);return Fp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(jf(o.parent))}return n})},t}();function Fp(t){return mp(t,Jf.store)}var jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Up=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function qp(t,e,n){var r=t.store(Bf.store),i=t.store(Zf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(c.next(function(){_l(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Zf.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return op.waitFor(o).next(function(){return u})}function Vp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vl();e=t.noDocument}return JSON.stringify(e).length}Up.DEFAULT_COLLECTION_PERCENTILE=10,Up.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Up.DEFAULT=new Up(41943040,Up.DEFAULT_COLLECTION_PERCENTILE,Up.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Up.DISABLED=new Up(-1,0,0);var Bp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return _l(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gp(t).$t({index:Bf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=zp(t),s=Gp(t);return s.add({}).next(function(a){_l("number"==typeof a);for(var c=new yp(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return _f(t.Lt,e)}),i=n.mutations.map(function(e){return _f(t.Lt,e)});return new Bf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new Rd(function(t,e){return Sl(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Zf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(g,Zf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=c.keys()}),op.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Gp(t).get(e).next(function(t){return t?(_l(t.userId===n.userId),xp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?op.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gp(t).$t({index:Bf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(_l(e.batchId>=r),o=xp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gp(t).$t({index:Bf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gp(t).Nt(Bf.userMutationsIndex,n).next(function(t){return t.map(function(t){return xp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Zf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return zp(t).$t({range:i},function(r,i,s){var a=r[0],c=r[2],u=jf(r[1]);if(a===n.userId&&e.path.isEqual(u))return Gp(t).get(c).next(function(t){if(!t)throw vl();_l(t.userId===n.userId),o.push(xp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Rd(Sl),i=[];return e.forEach(function(e){var o=Zf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=zp(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],c=jf(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()});i.push(a)}),op.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Zf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Rd(Sl);return zp(t).$t({range:s},function(t,e,o){var s=t[0],c=t[2],u=jf(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gp(t).get(e).next(function(t){if(null===t)throw vl();_l(t.userId===n.userId),r.push(xp(n.R,t))}))}),op.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return qp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),op.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return op.resolve();var r=IDBKeyRange.lowerBound(Zf.prefixForUser(e.userId)),i=[];return zp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=jf(t[1]);i.push(o)}else r.done()}).next(function(){_l(0===i.length)})})},t.prototype.containsKey=function(t,e){return Zp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Hp(t).get(this.userId).next(function(t){return t||new Vf(e.userId,-1,"")})},t}();function Zp(t,e,n){var r=Zf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return zp(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Gp(t){return mp(t,Bf.store)}function zp(t){return mp(t,Zf.store)}function Hp(t){return mp(t,Vf.store)}var $p=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Qp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new $p(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return xl.fromTimestamp(new Ol(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Kp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return _l(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Kp(t).$t(function(s,a){var c=Pp(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))}).next(function(){return op.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Kp(t).$t(function(t,n){var r=Pp(n);e(r)})},t.prototype.Xt=function(t){return Wp(t).get(Wf.key).next(function(t){return _l(null!==t),t})},t.prototype.Zt=function(t,e){return Wp(t).put(Wf.key,e)},t.prototype.te=function(t,e){return Kp(t).put(kp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=fh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kp(t).$t({range:r,index:Qf.queryTargetsIndexName},function(t,n,r){var o=Pp(n);ph(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Jp(t);return e.forEach(function(e){var s=Nf(e.path);i.push(o.put(new Kf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),op.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Jp(t);return op.forEach(e,function(e){var o=Nf(e.path);return op.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Jp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Jp(t),i=Zd();return r.$t({range:n,Ft:!0},function(t,e,n){var r=jf(t[1]),o=new $l(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Nf(e.path),r=IDBKeyRange.bound([n],[El(n)],!1,!0),i=0;return Jp(t).$t({index:Kf.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Kp(t).get(e).next(function(t){return t?Pp(t):null})},t}();function Kp(t){return mp(t,Qf.store)}function Wp(t){return mp(t,Wf.store)}function Jp(t){return mp(t,Kf.store)}function Yp(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){if(t.code!==ll.FAILED_PRECONDITION||t.message!==np)throw t;return pl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Xp(t,e){var n=t[1],r=e[1],i=Sl(t[0],e[0]);return 0===i?Sl(n,r):i}var tg=function(){function t(t){this.ne=t,this.buffer=new Rd(Xp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),eg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;pl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Xo.mG)(e,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return lp(e=n.sent())?(pl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Yp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),ng=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return op.resolve(ul.o);var r=new tg(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pl("LruGarbageCollector","Garbage collection skipped; disabled"),op.resolve(jp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(pl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(pl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),fl()<=es.in.DEBUG&&pl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),op.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),rg=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new ng(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return ig(t,n)},t.prototype.removeReference=function(t,e,n){return ig(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ig(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Hp(t).Ot(function(r){return Zp(t,r,e).next(function(t){return t&&(n=!0),op.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var c=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Jp(t).delete([0,Nf(s.path)])})});i.push(c)}}).next(function(){return op.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ig(t,e)},t.prototype.we=function(t,e){var n,r=Jp(t),i=ul.o;return r.$t({index:Kf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ul.o&&e(new $l(jf(n)),i),i=s,n=o):i=ul.o}).next(function(){i!==ul.o&&e(new $l(jf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ig(t,e){return Jp(t).put(function(t,e){return new Kf(0,Nf(t.path),e)}(e,t.currentSequenceNumber))}var og=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){kl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Al(this.inner)},t}(),sg=function(){function t(){this.changes=new og(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:xl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:lh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?op.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ag=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return lg(t).put(hg(e),n)},t.prototype.removeEntry=function(t,e){var n=lg(t),r=hg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return lg(t).get(hg(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return lg(t).get(hg(e)).next(function(t){return{document:n.ye(e,t),size:Vp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Fd();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Fd(),i=new Id($l.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Vp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return op.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return lg(t).$t({range:r},function(t,e,r){for(var s=$l.fromSegments(t);o&&$l.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Fd(),o=e.path.length+1,s={};if(n.isEqual(xl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=Sp(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=Hf.collectionReadTimeIndex}return lg(t).$t(s,function(t,n,s){if(t.length===o){var a=wp(r.R,n);e.path.isPrefixOf(a.key.path)?zh(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new cg(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ug(t).get($f.key).next(function(t){return _l(!!t),t})},t.prototype.me=function(t,e){return ug(t).put($f.key,e)},t.prototype.ye=function(t,e){if(e){var n=wp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(xl.min()))return n}return lh.newInvalidDocument(t)},t}(),cg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new og(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Xo.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Rd(function(t,e){return Sl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=Cp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=Vp(c);r+=u-a,n.push(e.Ie.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var l=Cp(e.Ie.R,lh.newNoDocument(o,xl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),op.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(sg);function ug(t){return mp(t,$f.store)}function lg(t){return mp(t,Hf.store)}function hg(t){return t.path.toArray()}var dg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;_l(n<r&&n>=0&&r<=11);var o=new sp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(qf.store)}(t),function(t){t.createObjectStore(Vf.store,{keyPath:Vf.keyPath}),t.createObjectStore(Bf.store,{keyPath:Bf.keyPath,autoIncrement:!0}).createIndex(Bf.userMutationsIndex,Bf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Zf.store)}(t),fg(t),function(t){t.createObjectStore(Hf.store)}(t));var s=op.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Kf.store),t.deleteObjectStore(Qf.store),t.deleteObjectStore(Wf.store)}(t),fg(t)),s=s.next(function(){return function(t){var e=t.store(Wf.store),n=new Wf(0,0,xl.min().toTimestamp(),0);return e.put(Wf.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Bf.store).Nt().next(function(n){t.deleteObjectStore(Bf.store),t.createObjectStore(Bf.store,{keyPath:Bf.keyPath,autoIncrement:!0}).createIndex(Bf.userMutationsIndex,Bf.userMutationsKeyPath,{unique:!0});var r=e.store(Bf.store),i=n.map(function(t){return r.put(t)});return op.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Yf.store,{keyPath:Yf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore($f.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Hf.store);e.createIndex(Hf.readTimeIndex,Hf.readTimeIndexPath,{unique:!1}),e.createIndex(Hf.collectionReadTimeIndex,Hf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Xf.store,{keyPath:Xf.keyPath})}(t),function(t){t.createObjectStore(tp.store,{keyPath:tp.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Hf.store).$t(function(t,n){e+=Vp(n)}).next(function(){var n=new $f(e);return t.store($f.store).put($f.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Vf.store),r=t.store(Bf.store);return n.Nt().next(function(n){return op.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Bf.userMutationsIndex,i).next(function(r){return op.forEach(r,function(r){_l(r.userId===n.userId);var i=xp(e.R,r);return qp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Kf.store),n=t.store(Hf.store);return t.store(Wf.store).get(Wf.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Ml(n),s=function(t){return[0,Nf(t)]}(o);r.push(e.get(s).next(function(n){return n?op.resolve():function(n){return e.put(new Kf(0,Nf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return op.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Jf.store,{keyPath:Jf.keyPath});var n=e.store(Jf.store),r=new Np,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Nf(i)})}};return e.store(Hf.store).$t({Ft:!0},function(t,e){var n=new Ml(t);return i(n.popLast())}).next(function(){return e.store(Zf.store).$t({Ft:!0},function(t,e){var n=jf(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Qf.store);return n.$t(function(t,r){var i=Pp(r),o=kp(e.R,i);return n.put(o)})},t}();function fg(t){t.createObjectStore(Kf.store,{keyPath:Kf.keyPath}).createIndex(Kf.documentTargetsIndex,Kf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qf.store,{keyPath:Qf.keyPath}).createIndex(Qf.queryTargetsIndexName,Qf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wf.store)}var pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gg=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new hl(ll.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rg(this,i),this.Le=n+"main",this.R=new bp(c),this.Be=new ap(this.Le,11,new dg(this.R)),this.qe=new Qp(this.referenceDelegate,this.R),this.Ut=new Lp,this.Ue=function(t,e){return new ag(t,e)}(this.R,this.Ut),this.Ke=new Ip,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&gl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new hl(ll.FAILED_PRECONDITION,pg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new ul(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Xo.mG)(e,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Xo.mG)(e,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Xo.mG)(e,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return yg(e).put(new Yf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(lp(e))return pl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return pl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return mg(t).get(qf.key).next(function(t){return op.resolve(e.tn(t))})},t.prototype.en=function(t){return yg(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=mp(t,Yf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return op.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?op.resolve(!0):mg(t).get(qf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new hl(ll.FAILED_PRECONDITION,pg);return!1}}return!(!e.networkEnabled||!e.inForeground)||yg(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&pl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t=this;return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[qf.store,Yf.store],function(e){var n=new gp(e,ul.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return yg(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Bp.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return pl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ep,function(o){return r=new gp(o,i.Ne?i.Ne.next():ul.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw gl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new hl(ll.FAILED_PRECONDITION,np);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return mg(t).get(qf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new hl(ll.FAILED_PRECONDITION,pg)})},t.prototype.Ze=function(t){var e=new qf(this.clientId,this.allowTabSynchronization,Date.now());return mg(t).put(qf.key,e)},t.yt=function(){return ap.yt()},t.prototype.Xe=function(t){var e=this,n=mg(t);return n.get(qf.key).next(function(t){return e.tn(t)?(pl("IndexedDbPersistence","Releasing primary lease."),n.delete(qf.key)):op.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(gl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,ts.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return pl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return gl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){gl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function mg(t){return mp(t,qf.store)}function yg(t){return mp(t,Yf.store)}function vg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _g=function(t,e){this.progress=t,this.wn=e},bg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return $l.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):jh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new $l(e)).next(function(t){var e=Ud();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Ud();return this.Ut.getCollectionParents(t,i).next(function(s){return op.forEach(s,function(s){var a=function(t,e){return new Ih(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u);null==l&&(l=lh.newInvalidDocument(u),r=r.insert(u,l)),gd(c,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){zh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Zd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof bd&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),wg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Zd(),i=Zd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Cg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(xl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Rh(e)||Nh(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(fl()<=es.in.DEBUG&&pl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Gh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Rd(Hh(t));return e.forEach(function(e,r){zh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return fl()<=es.in.DEBUG&&pl("QueryEngine","Using full collection scan to execute query:",Gh(e)),this.Sn.getDocumentsMatchingQuery(t,e,xl.min())},t}(),Sg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Id(Sl),this.Fn=new og(function(t){return fh(t)},ph),this.$n=xl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new bg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Tg(t,e,n,r){return new Sg(t,e,n,r)}function Eg(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Xo.Jh)(this,function(s){switch(s.label){case 0:return n=bl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new bg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Zd(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Og(t,e){var n=bl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=op.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);_l(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function xg(t){var e=bl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Pg(t,e){var n=bl(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return _l(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}});var a=Fd();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(kg(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(xl.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(c)}return op.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function kg(t,e,n,r,i){var o=Zd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Fd();return n.forEach(function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(xl.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):pl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Ag(t,e){var n=bl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Ig(t,e){var n=bl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?op.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new _p(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function Mg(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Xo.Jh)(this,function(a){switch(a.label){case 0:r=bl(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!lp(s=a.sent()))throw s;return pl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Dg(t,e,n){var r=bl(t),i=xl.min(),o=Zd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=bl(t),i=r.Fn.get(n);return void 0!==i?op.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,qh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:xl.min(),n?o:Zd())}).next(function(t){return{documents:t,Bn:o}})})}function Rg(t,e){var n=bl(t),r=bl(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Ng(t){var e=bl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=bl(t),i=Fd(),o=Sp(n),s=lg(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Hf.readTimeIndex,range:a},function(t,e){var n=wp(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Tp(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Lg(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){return[2,(e=bl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=lg(t),n=xl.min();return e.$t({index:Hf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Tp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Fg(t,e,n,r){return(0,Xo.mG)(this,void 0,void 0,function(){var i,o,s,a,c,u,l,h,d,f;return(0,Xo.Jh)(this,function(p){switch(p.label){case 0:for(i=bl(t),o=Zd(),s=Fd(),a=Vd(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Ig(i,function(t){return qh(Dh(Ml.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return kg(t,d,s,xl.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function jg(t,e,n){return void 0===n&&(n=Zd()),(0,Xo.mG)(this,void 0,void 0,function(){var r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return[4,Ig(t,qh(Ap(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=bl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=cf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(Ll.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Ug=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return op.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:cf(n.createTime)}),op.resolve()},t.prototype.getNamedQuery=function(t,e){return op.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ap(t.bundledQuery),readTime:cf(t.readTime)}}(e)),op.resolve()},t}(),qg=function(){function t(){this.Wn=new Rd(Vg.Gn),this.zn=new Rd(Vg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Vg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Vg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new $l(new Ml([])),r=new Vg(n,t),i=new Vg(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new $l(new Ml([])),n=new Vg(e,t),r=new Vg(e,t+1),i=Zd();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Vg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Vg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return $l.comparator(t.key,e.key)||Sl(t.ns,e.ns)},t.Hn=function(t,e){return Sl(t.ns,e.ns)||$l.comparator(t.key,e.key)},t}(),Bg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Rd(Vg.Gn)}return t.prototype.checkEmpty=function(t){return op.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new yp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new Vg(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return op.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return op.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return op.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return op.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return op.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Vg(e,0),i=new Vg(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),op.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Rd(Sl);return e.forEach(function(t){var e=new Vg(t,0),i=new Vg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),op.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;$l.isDocumentKey(i)||(i=i.child(""));var o=new Vg(new $l(i),0),s=new Rd(Sl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),op.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;_l(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return op.forEach(e.mutations,function(i){var o=new Vg(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Vg(e,0),r=this.rs.firstAfterOrEqual(n);return op.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return op.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Zg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Id($l.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return op.resolve(n?n.document.clone():lh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Fd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():lh.newInvalidDocument(t))}),op.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Fd(),i=new $l(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||zh(e,c)&&(r=r.insert(c.key,c.clone()))}return op.resolve(r)},t.prototype.fs=function(t,e){return op.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Gg(this)},t.prototype.getSize=function(t){return op.resolve(this.size)},t}(),Gg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Xo.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),op.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(sg),zg=function(){function t(t){this.persistence=t,this.ds=new og(function(t){return fh(t)},ph),this.lastRemoteSnapshotVersion=xl.min(),this.highestTargetId=0,this.ws=0,this._s=new qg,this.targetCount=0,this.ys=$p.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),op.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return op.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return op.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),op.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),op.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new $p(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,op.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),op.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,op.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),op.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return op.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return op.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),op.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),op.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),op.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return op.resolve(n)},t.prototype.containsKey=function(t,e){return op.resolve(this._s.containsKey(e))},t}(),Hg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new ul(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new zg(this),this.Ut=new Rp,this.Ue=function(t,e){return new Zg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new bp(e),this.Ke=new Ug(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Bg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;pl("MemoryPersistence","Starting transaction:",t);var i=new $g(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return op.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),$g=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Xo.ZT)(e,t),e}(rp),Qg=function(){function t(t){this.persistence=t,this.As=new qg,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw vl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),op.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),op.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),op.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return op.forEach(this.vs,function(r){var i=$l.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return op.or([function(){return op.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Kg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Wg(t,e){return"firestore_clients_"+t+"_"+e}function Jg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Yg(t,e){return"firestore_targets_"+t+"_"+e}Kg.UNAUTHENTICATED=new Kg(null),Kg.GOOGLE_CREDENTIALS=new Kg("google-credentials-uid"),Kg.FIRST_PARTY=new Kg("first-party-uid"),Kg.MOCK_USER=new Kg("mock-user");var Xg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new hl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(gl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new hl(i.error.code,i.error.message)),o?new t(e,i.state,r):(gl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),em=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=zd(),s=0;i&&s<r.activeTargetIds.length;++s)i=Hl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(gl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),nm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(gl("SharedClientState","Failed to parse online state: "+e),null)},t}(),rm=function(){function t(){this.activeTargetIds=zd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),im=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Id(Sl),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Wg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new rm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,c,u,l=this;return(0,Xo.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Wg(this.persistenceKey,r)))&&(o=em.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),c=0,u=this.$s;c<u.length;c++)this.ks(u[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Yg(this.persistenceKey,t));if(n){var r=tm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Yg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return pl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){pl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){pl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(pl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void gl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Xo.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Xo.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=ul.o;if(null!=t)try{var n=JSON.parse(t);_l("number"==typeof n),e=n}catch(t){gl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ul.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Xg(this.currentUser,t,e,n),i=Jg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Jg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Yg(this.persistenceKey,t),i=new tm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return em.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Xg.Vs(new Kg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return tm.Vs(r,e)},t.prototype.js=function(t){return nm.Vs(t)},t.prototype.ii=function(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(pl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=zd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),om=function(){function t(){this.li=new rm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new rm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),sm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),am=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){pl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){pl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),cm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},um=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),lm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Xo.ZT)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new cl;s.listenOnce(il.COMPLETE,function(){try{switch(s.getLastErrorCode()){case rl.NO_ERROR:var e=s.getResponseJson();pl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case rl.TIMEOUT:pl("Connection",'RPC "'+t+'" timed out'),o(new hl(ll.DEADLINE_EXCEEDED,"Request time out"));break;case rl.HTTP_ERROR:var n=s.getStatus();if(pl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ll).indexOf(e)>=0?e:ll.UNKNOWN}(r.status);o(new hl(a,r.message))}else o(new hl(ll.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new hl(ll.UNAVAILABLE,"Connection failed."));break;default:vl()}}finally{pl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Yu,i=Ha(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new sl({})),this.ki(o.initMessageHeaders,e),(0,ts.uI)()||(0,ts.b$)()||(0,ts.d)()||(0,ts.w1)()||(0,ts.Mn)()||(0,ts.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");pl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,u=!1,l=new um({Ei:function(t){u?pl("Connection","Not sending because WebChannel is closed:",t):(c||(pl("Connection","Opening WebChannel transport."),a.open(),c=!0),pl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,al.EventType.OPEN,function(){u||pl("Connection","WebChannel transport opened.")}),h(a,al.EventType.CLOSE,function(){u||(u=!0,pl("Connection","WebChannel transport closed"),l.Vi())}),h(a,al.EventType.ERROR,function(t){u||(u=!0,ml("Connection","WebChannel transport errored:",t),l.Vi(new hl(ll.UNAVAILABLE,"The operation could not be completed")))}),h(a,al.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];_l(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){pl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Td[t];if(void 0!==e)return Ad(e)}(i),s=r.message;void 0===o&&(o=ll.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new hl(o,s)),a.close()}else pl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,ol.STAT_EVENT,function(t){10===t.stat?pl("Connection","Detected buffering proxy"):11===t.stat&&pl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);pl("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return pl("RestConnection","Received: ",t),t},function(e){throw ml("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+cm[t]},t}());function hm(){return"undefined"!=typeof window?window:null}function dm(){return"undefined"!=typeof document?document:null}function fm(t){return new rf(t,!0)}var pm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&pl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),gm=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new pm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ll.RESOURCE_EXHAUSTED?(gl(e.toString()),gl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===ll.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new hl(ll.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Xo.mG)(t,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return pl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(pl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),mm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Xo.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:vl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(_l(void 0===e||"string"==typeof e),Ll.fromBase64String(e||"")):(_l(void 0===e||e instanceof Uint8Array),Ll.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ll.UNKNOWN:Ad(t.code);return new hl(e,t.message||"")}(a);n=new Wd(r,i,o,s||null)}else if("documentChange"in e){i=df(t,(r=e.documentChange).document.name),o=cf(r.document.updateTime);var a=new ch({mapValue:{fields:r.document.fields}}),c=(s=lh.newFoundDocument(i,o,a),r.targetIds||[]);n=new Qd(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=df(t,(r=e.documentDelete).document),o=r.readTime?cf(r.readTime):xl.min(),a=lh.newNoDocument(i,o),n=new Qd([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=df(t,(r=e.documentRemove).document),n=new Qd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return vl();var u=e.filter;i=new Pd(r=u.count||0),n=new Kd(o=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return xl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xl.min():e.readTime?cf(e.readTime):xl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=gf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=gh(r)?{documents:wf(t,r)}:{query:Cf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=sf(t,e.resumeToken):e.snapshotVersion.compareTo(xl.min())>0&&(n.readTime=of(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=gf(this.R),e.removeTarget=t,this.cr(e)},e}(gm),ym=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Xo.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(_l(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(_l(void 0!==e),t.map(function(t){return function(t,e){var n=cf(t.updateTime?t.updateTime:e);return n.isEqual(xl.min())&&(n=cf(e)),new ld(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=cf(t.commitTime);return this.listener.Tr(n,e)}return _l(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=gf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return _f(e.R,t)})};this.cr(n)},e}(gm),vm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Xo.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new hl(ll.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ll.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new hl(ll.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ll.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new hl(ll.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),_m=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(gl(e),this.Vr=!1):pl("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),bm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Xo.mG)(o,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){switch(t.label){case 0:return km(this)?(pl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return(e=bl(t)).Or.add(4),[4,Cm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,wm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new _m(n,r)};function wm(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e,n;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:if(!km(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Cm(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e,n;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Sm(t,e){var n=bl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Pm(n)?xm(n):Gm(n).er()&&Em(n,e))}function Tm(t,e){var n=bl(t),r=Gm(n);n.$r.delete(e),r.er()&&Om(n,e),0===n.$r.size&&(r.er()?r.ir():km(n)&&n.Br.set("Unknown"))}function Em(t,e){t.qr.U(e.targetId),Gm(t).mr(e)}function Om(t,e){t.qr.U(e),Gm(t).yr(e)}function xm(t){t.qr=new Yd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Gm(t).start(),t.Br.Sr()}function Pm(t){return km(t)&&!Gm(t).tr()&&t.$r.size>0}function km(t){return 0===bl(t).Or.size}function Am(t){t.qr=void 0}function Im(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){return t.$r.forEach(function(e,n){Em(t,e)}),[2]})})}function Mm(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(n){return Am(t),Pm(t)?(t.Br.Nr(e),xm(t)):t.Br.set("Unknown"),[2]})})}function Dm(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Xo.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Wd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Xo.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),pl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Rm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Qd?t.qr.X(e):e instanceof Kd?t.qr.rt(e):t.qr.et(e),n.isEqual(xl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,xg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Ll.EMPTY_BYTE_STRING,n.snapshotVersion)),Om(t,e);var r=new _p(n.target,e,1,n.sequenceNumber);Em(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return pl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Rm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Rm(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r=this;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:if(!lp(e))throw e;return t.Or.add(1),[4,Cm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return xg(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Xo.mG)(r,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return pl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,wm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Nm(t,e){return e().catch(function(n){return Rm(t,n,e)})}function Lm(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Xo.Jh)(this,function(s){switch(s.label){case 0:e=bl(t),n=zm(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return km(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ag(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=zm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Rm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Fm(e)&&jm(e),[2]}})})}function Fm(t){return km(t)&&!zm(t).tr()&&t.Fr.length>0}function jm(t){zm(t).start()}function Um(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){return zm(t).Ar(),[2]})})}function qm(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Xo.Jh)(this,function(i){for(e=zm(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Vm(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=vp.from(r,e,n),[4,Nm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Lm(t)];case 2:return o.sent(),[2]}})})}function Bm(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return e&&zm(t).pr?[4,function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return kd(r=e.code)&&r!==ll.ABORTED?(n=t.Fr.shift(),zm(t).sr(),[4,Nm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Lm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Fm(t)&&jm(t),[2]}})})}function Zm(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return n=bl(t),e?(n.Or.delete(2),[4,wm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Cm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Gm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=bl(t);return r.br(),new mm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Im.bind(null,t),Ri:Mm.bind(null,t),_r:Dm.bind(null,t)}),t.Mr.push(function(n){return(0,Xo.mG)(e,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Pm(t)?xm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Am(t),e.label=3;case 3:return[2]}})})})),t.Ur}function zm(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=bl(t);return r.br(),new ym(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Um.bind(null,t),Ri:Bm.bind(null,t),Ir:qm.bind(null,t),Tr:Vm.bind(null,t)}),t.Mr.push(function(n){return(0,Xo.mG)(e,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Lm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(pl("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Hm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ip,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hl(ll.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function $m(t,e){if(gl("AsyncQueue",e+": "+t),lp(t))return new hl(ll.UNAVAILABLE,e+": "+t);throw t}var Qm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||$l.comparator(e.key,n.key)}:function(t,e){return $l.comparator(t.key,e.key)},this.keyedMap=Ud(),this.sortedSet=new Id(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Km=function(){function t(){this.Qr=new Id($l.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):vl():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Wm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Qm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Jm=function(){this.Wr=void 0,this.listeners=[]},Ym=function(){this.queries=new og(function(t){return Zh(t)},Bh),this.onlineState="Unknown",this.Gr=new Set};function Xm(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,c;return(0,Xo.Jh)(this,function(u){switch(u.label){case 0:if(n=bl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Jm),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=$m(a,"Initialization of query '"+Gh(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ry(n),[2]}})})}function ty(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Xo.Jh)(this,function(a){return n=bl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ey(t,e){for(var n=bl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(s)&&(r=!0);a.Wr=s}}r&&ry(n)}function ny(t,e,n){var r=bl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function ry(t){t.Gr.forEach(function(t){t.next()})}var iy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Wm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Wm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),oy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),sy=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return df(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?vf(this.R,t.document,!1):lh.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return cf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new sy(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Zd()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return[4,Fg(this.localStore,new sy(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,jg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new _g(Object.assign({},this.progress),t))]}})})}}();var ay=function(t){this.key=t},cy=function(t){this.key=t},uy=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Zd(),this.mutatedKeys=Zd(),this.lo=Hh(t),this.fo=new Qm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Km,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=Rh(this.query)&&i.size===this.query.limit?i.last():null,u=Nh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=zh(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Rh(this.query)||Nh(this.query))for(;s.size>this.query.limit;){var l=Rh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==o.length||c?{snapshot:new Wm(this.query,t.fo,i,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Km,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Zd(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new cy(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ay(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Zd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Wm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ly=function(t,e,n){this.query=t,this.targetId=e,this.view=n},hy=function(t){this.key=t,this.bo=!1},dy=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new og(function(t){return Zh(t)},Bh),this.Vo=new Map,this.So=new Set,this.Do=new Id($l.comparator),this.Co=new Map,this.No=new qg,this.xo={},this.ko=new Map,this.Fo=$p.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function fy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Xo.Jh)(this,function(a){switch(a.label){case 0:return n=By(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Ig(n.localStore,qh(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,py(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Sm(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function py(t,e,n,r){return(0,Xo.mG)(this,void 0,void 0,function(){var i,o,s,a,c,u;return(0,Xo.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Xo.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Xo.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Dg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(xy(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Dg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new uy(e,i.Bn),s=o._o(i.documents),a=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a),xy(t,n,c.To),u=new ly(e,n,o),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function gy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return n=bl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Bh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Mg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Tm(n.remoteStore,r.targetId),Ey(n,r.targetId)}).catch(Yp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ey(n,r.targetId),[4,Mg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function my(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Xo.Jh)(this,function(a){switch(a.label){case 0:r=Zy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=bl(t),i=Ol.now(),o=e.reduce(function(t,e){return t.add(e.key)},Zd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=md(u,n.get(u.key));null!=l&&s.push(new bd(u.key,l,uh(l.value.mapValue),hd.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Id(Sl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ay(r,i.changes)];case 3:return a.sent(),[4,Lm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=$m(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function yy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:n=bl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Pg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(_l(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?_l(r.bo):t.removedDocuments.size>0&&(_l(r.bo),r.bo=!1))}),[4,Ay(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Yp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function vy(t,e,n){var r=bl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=bl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&ry(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _y(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i,o,s,a,c;return(0,Xo.Jh)(this,function(u){switch(u.label){case 0:return(r=bl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Id($l.comparator)).insert(o,lh.newNoDocument(o,xl.min())),a=Zd().add(o),c=new Hd(xl.min(),new Map,new Rd(Sl),s,a),[4,yy(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),ky(r),[3,4];case 2:return[4,Mg(r.localStore,e,!1).then(function(){return Ey(r,e,n)}).catch(Yp)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function by(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:n=bl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Og(n.localStore,e)];case 2:return i=o.sent(),Ty(n,r,null),Sy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ay(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function wy(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:r=bl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=bl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return _l(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Ty(r,e,n),Sy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ay(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Cy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Xo.Jh)(this,function(a){switch(a.label){case 0:km((n=bl(t)).remoteStore)||pl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=bl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=$m(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Sy(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Ty(t,e,n){var r=bl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ey(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Oy(t,e)})}function Oy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Tm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ky(t))}function xy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ay?(t.No.addReference(o.key,e),Py(t,o)):o instanceof cy?(pl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Oy(t,o.key)):vl()}}function Py(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(pl("SyncEngine","New document in limbo: "+n),t.So.add(r),ky(t))}function ky(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new $l(Ml.fromString(e)),r=t.Fo.next();t.Co.set(r,new hy(n)),t.Do=t.Do.insert(n,r),Sm(t.remoteStore,new _p(qh(Dh(n.path)),r,2,ul.o))}}function Ay(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Xo.Jh)(this,function(a){switch(a.label){case 0:return r=bl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=wg.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,c,u;return(0,Xo.Jh)(this,function(l){switch(l.label){case 0:n=bl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return op.forEach(e,function(e){return op.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return op.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!lp(r=l.sent()))throw r;return pl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.kn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(a,u));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Iy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return(n=bl(t)).currentUser.isEqual(e)?[3,3]:(pl("SyncEngine","User change. New user:",e.toKey()),[4,Eg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new hl(ll.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ay(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function My(t,e){var n=bl(t),r=n.Co.get(e);if(r&&r.bo)return Zd().add(r.key);var i=Zd(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Po.get(a[s]);i=i.unionWith(c.view.wo)}return i}function Dy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return[4,Dg((n=bl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&xy(n,e.targetId,i.To),i)]}})})}function Ry(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){return[2,Ng((e=bl(t)).localStore).then(function(t){return Ay(e,t)})]})})}function Ny(t,e,n,r){return(0,Xo.mG)(this,void 0,void 0,function(){var i,o;return(0,Xo.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=bl(t),r=bl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):op.resolve(null)})})}((i=bl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Lm(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ty(i,e,r||null),Sy(i,e),function(t,e){bl(bl(t)._n).Gt(e)}(i.localStore,e)):vl(),s.label=4;case 4:return[4,Ay(i,o)];case 5:return s.sent(),[3,7];case 6:pl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Ly(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,c;return(0,Xo.Jh)(this,function(u){switch(u.label){case 0:return By(n=bl(t)),Zy(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Fy(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,Zm(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)Sm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return Ey(n,e),Mg(n.localStore,e,!0)}),Tm(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,Fy(n,a)];case 5:return u.sent(),function(t){var e=bl(t);e.Co.forEach(function(t,n){Tm(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Id($l.comparator)}(n),n.$o=!1,[4,Zm(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function Fy(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,c,u,l,h,d,f,p;return(0,Xo.Jh)(this,function(g){switch(g.label){case 0:n=bl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(c=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,Ig(n.localStore,qh(u[0]))]:[3,7]):[3,13];case 2:c=g.sent(),l=0,h=u,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Dy(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Rg(n.localStore,a)];case 8:return p=g.sent(),[4,Ig(n.localStore,p)];case 9:return c=g.sent(),[4,py(n,jy(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function jy(t){return Mh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Uy(t){var e=bl(t);return bl(bl(e.localStore).persistence).fn()}function qy(t,e,n,r){return(0,Xo.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Xo.Jh)(this,function(a){switch(a.label){case 0:return(i=bl(t)).$o?(pl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ng(i.localStore)];case 3:return o=a.sent(),s=Hd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ay(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Mg(i.localStore,e,!0)];case 6:return a.sent(),Ey(i,e,r),[3,8];case 7:vl(),a.label=8;case 8:return[2]}})})}function Vy(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i,o,s,a,c,u,l,h;return(0,Xo.Jh)(this,function(d){switch(d.label){case 0:if(!(r=By(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(pl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Rg(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Ig(r.localStore,a)];case 3:return c=d.sent(),[4,py(r,jy(a),c.targetId,!1)];case 4:d.sent(),Sm(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Mg(r.localStore,t,!1).then(function(){Tm(r.remoteStore,t),Ey(r,t)}).catch(Yp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function By(t){var e=bl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=My.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_y.bind(null,e),e.vo._r=ey.bind(null,e.eventManager),e.vo.Mo=ny.bind(null,e.eventManager),e}function Zy(t){var e=bl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=by.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,e),e}var Gy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return this.R=fm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Tg(this.persistence,new Cg,t.initialUser,this.R)},t.prototype.qo=function(t){return new Hg(Qg.bs,this.R)},t.prototype.Bo=function(t){return new om},t.prototype.terminate=function(){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Xo.ZT)(e,t),e.prototype.initialize=function(e){return(0,Xo.mG)(this,void 0,void 0,function(){var n=this;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Lg(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Zy(this.Qo.syncEngine)];case 4:return r.sent(),[4,Lm(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return Tg(this.persistence,new Cg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new eg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=vg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Up.withCacheSize(this.cacheSizeBytes):Up.DEFAULT;return new gg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,hm(),dm(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new om},e}(Gy),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Xo.ZT)(e,t),e.prototype.initialize=function(e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof im?(this.sharedClientState.syncEngine={ui:Ny.bind(null,n),ai:qy.bind(null,n),hi:Vy.bind(null,n),fn:Uy.bind(null,n),ci:Ry.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Xo.mG)(r,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return[4,Ly(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=hm();if(!im.yt(e))throw new hl(ll.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new im(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(zy),$y=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n=this;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return vy(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Iy.bind(null,this.syncEngine),[4,Zm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Ym},t.prototype.createDatastore=function(t){var e=fm(t.databaseInfo.databaseId),n=new lm(t.databaseInfo);return function(t,e,n){return new vm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return vy(s.syncEngine,t,0)},o=am.yt()?new am:new sm,new bm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new dy(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return e=bl(t),pl("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Cm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Qy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Ky=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ip,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new oy(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new hl(ll.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Xo.Jh)(this,function(c){switch(c.label){case 0:return n=bl(t),r=gf(n.R)+"/documents",i={documents:e.map(function(t){return hf(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){_l(!!e.found);var n=df(t,e.found.name),r=cf(e.found.updateTime),i=new ch({mapValue:{fields:e.found.fields}});return lh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){_l(!!e.missing),_l(!!e.readTime);var n=df(t,e.missing),r=cf(e.readTime);return lh.newNoDocument(n,r)}(t,e):vl()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());_l(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Od(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=$l.fromPath(n);e.mutations.push(new xd(r,e.precondition(r)))}),[4,function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return n=bl(t),r=gf(n.R)+"/documents",i={writes:e.map(function(t){return _f(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw vl();e=xl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new hl(ll.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?hd.updateTime(e):hd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xl.min()))throw new hl(ll.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hd.updateTime(e)}return hd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Wy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new pm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Xo.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Xo.Jh)(this,function(r){return t=new Ky(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Gl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!kd(e)}return!1},t}(),Jy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Kg.UNAUTHENTICATED,this.clientId=Cl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Xo.mG)(r,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return pl("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new hl(ll.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ip;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Xo.mG)(t,void 0,void 0,function(){var t,n;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=$m(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Yy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),pl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Xo.mG)(i,void 0,void 0,function(){return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Eg(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Xy(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,tv(t)];case 1:return n=i.sent(),pl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Xo.mG)(this,void 0,void 0,function(){var n,r;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return(n=bl(t)).asyncQueue.verifyOperationInProgress(),pl("RemoteStore","RemoteStore received new credentials"),r=km(n),n.Or.add(3),[4,Cm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,wm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function tv(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(pl("FirestoreClient","Using default OfflineComponentProvider"),[4,Yy(t,new Gy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ev(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(pl("FirestoreClient","Using default OnlineComponentProvider"),[4,Xy(t,new $y)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function nv(t){return tv(t).then(function(t){return t.persistence})}function rv(t){return tv(t).then(function(t){return t.localStore})}function iv(t){return ev(t).then(function(t){return t.remoteStore})}function ov(t){return ev(t).then(function(t){return t.syncEngine})}function sv(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e,n;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return[4,ev(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=fy.bind(null,e.syncEngine),n.onUnlisten=gy.bind(null,e.syncEngine),n)]}})})}function av(t,e,n){var r=this;void 0===n&&(n={});var i=new ip;return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(r,void 0,void 0,function(){var r;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Qy({next:function(o){e.enqueueAndForget(function(){return ty(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new hl(ll.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new hl(ll.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new iy(Dh(n.path),o,{includeMetadataChanges:!0,so:!0});return Xm(t,s)},[4,sv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function cv(t,e,n){var r=this;void 0===n&&(n={});var i=new ip;return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(r,void 0,void 0,function(){var r;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Qy({next:function(n){e.enqueueAndForget(function(){return ty(t,s)}),n.fromCache&&"server"===r.source?i.reject(new hl(ll.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new iy(n,o,{includeMetadataChanges:!0,so:!0});return Xm(t,s)},[4,sv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var uv=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},lv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),hv=new Map,dv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},fv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Kg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),pv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),gv=function(){function t(t){var e=this;this.currentUser=Kg.UNAUTHENTICATED,this.oc=new ip,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){pl("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(pl("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(pl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_l("string"==typeof n.accessToken),new dv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Xo.mG)(n,void 0,void 0,function(){return(0,Xo.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return _l(null===t||"string"==typeof t),new Kg(t)},t}(),mv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Kg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),yv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new mv(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Kg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function vv(t,e,n){if(!n)throw new hl(ll.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _v(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new hl(ll.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function bv(t,e,n,r){if(!0===e&&!0===r)throw new hl(ll.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function wv(t){if(!$l.isDocumentKey(t))throw new hl(ll.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Cv(t){if($l.isDocumentKey(t))throw new hl(ll.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Sv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":vl()}function Tv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new hl(ll.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sv(t);throw new hl(ll.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ev(t,e){if(e<=0)throw new hl(ll.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ov=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new hl(ll.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hl(ll.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),xv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1,t instanceof lv?(this._databaseId=t,this._credentials=new fv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new hl(ll.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lv(t.options.projectId)}(t),this._credentials=new gv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new hl(ll.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new hl(ll.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new fv;switch(t.type){case"gapi":var e=t.client;return _l(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new yv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new hl(ll.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=hv.get(this))&&(pl("ComponentProvider","Removing Datastore"),hv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Pv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Av(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),kv=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Av=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Dh(r))||this)._path=r,i.type="collection",i}return(0,Xo.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Pv(this.firestore,null,new $l(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(kv);function Iv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,ts.m9)(t),vv("collection","path",e),t instanceof xv)return Cv(n=Ml.fromString.apply(Ml,(0,Xo.ev)([e],r))),new Av(t,null,n);if(!(t instanceof Pv||t instanceof Av))throw new hl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cv(n=Ml.fromString.apply(Ml,(0,Xo.ev)([t.path],r)).child(Ml.fromString(e))),new Av(t.firestore,null,n)}function Mv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,ts.m9)(t),1===arguments.length&&(e=Cl.u()),vv("doc","path",e),t instanceof xv)return wv(n=Ml.fromString.apply(Ml,(0,Xo.ev)([e],r))),new Pv(t,null,new $l(n));if(!(t instanceof Pv||t instanceof Av))throw new hl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wv(n=t._path.child(Ml.fromString.apply(Ml,(0,Xo.ev)([e],r)))),new Pv(t.firestore,t instanceof Av?t.converter:null,new $l(n))}function Dv(t,e){return t=(0,ts.m9)(t),e=(0,ts.m9)(e),(t instanceof Pv||t instanceof Av)&&(e instanceof Pv||e instanceof Av)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Rv(t,e){return t=(0,ts.m9)(t),e=(0,ts.m9)(e),t instanceof kv&&e instanceof kv&&t.firestore===e.firestore&&Bh(t._query,e._query)&&t.converter===e.converter}var Nv=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new pm(this,"async_queue_retry"),this.Ic=function(){var e=dm();e&&pl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=dm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new ip;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!lp(t=n.sent()))throw t;return pl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,gl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Hm.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&vl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Xo.mG)(this,void 0,void 0,function(){var t;return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Lv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ip,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Nv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Xo.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Uv(this),this._firestoreClient.terminate()},e}(xv);function jv(t){return t._firestoreClient||Uv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Uv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new uv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Jy(t._credentials,t._queue,r)}function qv(t,e,n){var r=this,i=new ip;return t.asyncQueue.enqueue(function(){return(0,Xo.mG)(r,void 0,void 0,function(){var r;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Yy(t,n)];case 1:return o.sent(),[4,Xy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ll.FAILED_PRECONDITION||t.code===ll.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Vv(t){if(t._initialized||t._terminated)throw new hl(ll.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Bv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new hl(ll.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Zv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ll.fromBase64String(e))}catch(e){throw new hl(ll.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ll.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Gv=function(t){this._methodName=t},zv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new hl(ll.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new hl(ll.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Sl(this._lat,t._lat)||Sl(this._long,t._long)},t}(),Hv=/^__.*__$/,$v=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new bd(t,this.data,this.fieldMask,e,this.fieldTransforms):new _d(t,this.data,e,this.fieldTransforms)},t}(),Qv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new bd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Kv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vl()}}var Wv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return m_(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Kv(this.Nc)&&Hv.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Jv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||fm(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Wv({Nc:t,methodName:e,qc:n,path:Rl.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Yv(t){var e=t._freezeSettings(),n=fm(t._databaseId);return new Jv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);d_("Data must be an object, but it was:",s,r);var a,c,u=l_(r,s);if(o.merge)a=new Nl(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=f_(e,d[h],n);if(!s.contains(f))throw new hl(ll.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");y_(l,f)||l.push(f)}a=new Nl(l),c=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=s.fieldTransforms;return new $v(new ch(u),a,c)}var t_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Gv);function e_(t,e,n){return new Wv({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var n_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new ud(t.path,new ed)},e.prototype.isEqual=function(t){return t instanceof e},e}(Gv),r_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Xo.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=e_(this,t,!0),n=this.Kc.map(function(t){return u_(t,e)}),r=new nd(n);return new ud(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gv),i_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Xo.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=e_(this,t,!0),n=this.Kc.map(function(t){return u_(t,e)}),r=new id(n);return new ud(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gv),o_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Xo.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new sd(t.R,Wh(t.R,this.Qc));return new ud(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Gv);function s_(t,e,n,r){var i=t.Uc(1,e,n);d_("Data must be an object, but it was:",i,r);var o=[],s=ch.empty();kl(r,function(t,r){var a=g_(e,t,n);r=(0,ts.m9)(r);var c=i.Oc(a);if(r instanceof t_)o.push(a);else{var u=u_(r,c);null!=u&&(o.push(a),s.set(a,u))}});var a=new Nl(o);return new Qv(s,a,i.fieldTransforms)}function a_(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[f_(e,r,n)],c=[i];if(o.length%2!=0)throw new hl(ll.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(f_(e,o[u])),c.push(o[u+1]);for(var l=[],h=ch.empty(),d=a.length-1;d>=0;--d)if(!y_(l,a[d])){var f=a[d],p=c[d];p=(0,ts.m9)(p);var g=s.Oc(f);if(p instanceof t_)l.push(f);else{var m=u_(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new Nl(l);return new Qv(h,y,s.fieldTransforms)}function c_(t,e,n,r){return void 0===r&&(r=!1),u_(n,t.Uc(r?4:3,e))}function u_(t,e){if(h_(t=(0,ts.m9)(t)))return d_("Unsupported field value:",e,t),l_(t,e);if(t instanceof Gv)return function(t,e){if(!Kv(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=u_(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,ts.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ol.fromDate(t);return{timestampValue:of(e.R,n)}}if(t instanceof Ol)return n=new Ol(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:of(e.R,n)};if(t instanceof zv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zv)return{bytesValue:sf(e.R,t._byteString)};if(t instanceof Pv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:uf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Sv(t))}(t,e)}function l_(t,e){var n={};return Al(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kl(t,function(t,r){var i=u_(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function h_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ol||t instanceof zv||t instanceof Zv||t instanceof Pv||t instanceof Gv)}function d_(t,e,n){if(!h_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Sv(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function f_(t,e,n){if((e=(0,ts.m9)(e))instanceof Bv)return e._internalPath;if("string"==typeof e)return g_(t,e);throw m_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var p_=new RegExp("[~\\*/\\[\\]]");function g_(t,e,n){if(e.search(p_)>=0)throw m_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Bv.bind.apply(Bv,(0,Xo.ev)([void 0],e.split(".")))))._internalPath}catch(mb){throw m_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function m_(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new hl(ll.INVALID_ARGUMENT,(a+=". ")+t+c)}function y_(t,e){return t.some(function(t){return t.isEqual(e)})}var v_=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Pv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new __(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(b_("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),__=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(v_);function b_(t,e){return"string"==typeof e?g_(t,e):e instanceof Bv?e._internalPath:e._delegate._internalPath}var w_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),C_=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Xo.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new S_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(b_("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(v_),S_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(C_),T_=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new w_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new S_(n._firestore,n._userDataWriter,r.key,r,new w_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hl(ll.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new S_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new w_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new S_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new w_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:E_(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function E_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vl()}}function O_(t,e){return t instanceof C_&&e instanceof C_?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof T_&&e instanceof T_&&t._firestore===e._firestore&&Rv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function x_(t){if(Nh(t)&&0===t.explicitOrderBy.length)throw new hl(ll.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var P_=function(){};function k_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var A_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Xo.ZT)(e,t),e.prototype._apply=function(t){var e=Yv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new hl(ll.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){F_(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(L_(r,t,l[u]));a={arrayValue:{values:c}}}else a=L_(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||F_(s,o),a=c_(n,"where",s,"in"===o||"not-in"===o);var h=mh.create(i,o,a);return function(t,e){if(e.g()){var n=Fh(t);if(null!==n&&!n.isEqual(e.field))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Lh(t);null!==r&&j_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new hl(ll.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new kv(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(P_),I_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Xo.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xh(e,n);return function(t,e){if(null===Lh(t)){var n=Fh(t);null!==n&&j_(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new kv(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ih(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(P_),M_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Xo.ZT)(e,t),e.prototype._apply=function(t){return new kv(t.firestore,t.converter,Vh(t._query,this.Hc,this.Jc))},e}(P_),D_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Xo.ZT)(e,t),e.prototype._apply=function(t){var e=N_(t,this.type,this.Yc,this.Xc);return new kv(t.firestore,t.converter,function(t,e){return new Ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(P_),R_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Xo.ZT)(e,t),e.prototype._apply=function(t){var e=N_(t,this.type,this.Yc,this.Xc);return new kv(t.firestore,t.converter,function(t,e){return new Ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(P_);function N_(t,e,n,r){if(n[0]=(0,ts.m9)(n[0]),n[0]instanceof v_)return function(t,e,n,r,i){if(!r)throw new hl(ll.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Uh(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push(eh(e,r.key));else{var u=r.data.field(c.field);if(Vl(u))throw new hl(ll.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Eh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Yv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new hl(ll.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.isKeyField()){if("string"!=typeof u)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!jh(t)&&-1!==u.indexOf("/"))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Ml.fromString(u));if(!$l.isDocumentKey(l))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new $l(l);a.push(eh(e,h))}else{var d=c_(n,r,u);a.push(d)}}return new Eh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function L_(t,e,n){if("string"==typeof(n=(0,ts.m9)(n))){if(""===n)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jh(e)&&-1!==n.indexOf("/"))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ml.fromString(n));if(!$l.isDocumentKey(r))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return eh(t,new $l(r))}if(n instanceof Pv)return eh(t,n._key);throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sv(n)+".")}function F_(t,e){if(!Array.isArray(t)||0===t.length)throw new hl(ll.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new hl(ll.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function j_(t,e,n){if(!n.isEqual(e))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var U_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ql(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ul(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ql(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw vl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return kl(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new zv(Ul(t.latitude),Ul(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Bl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Zl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=jl(t);return new Ol(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ml.fromString(t);_l(Rf(n));var r=new lv(n.get(1),n.get(3)),i=new $l(n.popFirst(5));return r.isEqual(e)||gl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function q_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var V_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Xo.ZT)(e,t),e.prototype.convertBytes=function(t){return new Zv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pv(this.firestore,null,e)},e}(U_),B_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Yv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Z_(t,this._firestore),i=q_(r.converter,e,n),o=Xv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,hd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Z_(t,this._firestore);return o="string"==typeof(e=(0,ts.m9)(e))||e instanceof Bv?a_(this._dataReader,"WriteBatch.update",s._key,e,n,r):s_(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,hd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Z_(t,this._firestore);return this._mutations=this._mutations.concat(new Od(e._key,hd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new hl(ll.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Z_(t,e){if((t=(0,ts.m9)(t)).firestore!==e)throw new hl(ll.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var G_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Xo.ZT)(e,t),e.prototype.convertBytes=function(t){return new Zv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pv(this.firestore,null,e)},e}(U_);function z_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Tv(t,Pv);var o=Tv(t.firestore,Fv),s=Yv(o);return $_(o,[("string"==typeof(e=(0,ts.m9)(e))||e instanceof Bv?a_(s,"updateDoc",t._key,e,n,r):s_(s,"updateDoc",t._key,e)).toMutation(t._key,hd.exists(!0))])}function H_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,ts.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Lv(i[a])||(s=i[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Lv(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Pv)u=Tv(t.firestore,Fv),l=Dh(t._key.path),c={next:function(e){i[a]&&i[a](Q_(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Tv(t,kv);u=Tv(f.firestore,Fv),l=f._query;var p=new G_(u);c={next:function(t){i[a]&&i[a](new T_(u,p,f,t))},error:i[a+1],complete:i[a+2]},x_(t._query)}return function(t,e,n,r){var i=this,o=new Qy(r),s=new iy(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(i,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return e=Xm,[4,sv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(i,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return e=ty,[4,sv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(jv(u),l,h,c)}function $_(t,e){return function(t,e){var n=this,r=new ip;return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(n,void 0,void 0,function(){var n;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return n=my,[4,ov(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(jv(t),e)}function Q_(t,e,n){var r=n.docs.get(e._key),i=new G_(t);return new C_(t,i,e._key,r,new w_(n.hasPendingWrites,n.fromCache),e.converter)}var K_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Xo.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Z_(e,this._firestore),i=new G_(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new C_(n._firestore,i,r._key,t._document,new w_(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Yv(t)}return t.prototype.get=function(t){var e=this,n=Z_(t,this._firestore),r=new V_(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return vl();var i=t[0];if(i.isFoundDocument())return new v_(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new v_(e._firestore,r,n._key,null,n.converter);throw vl()})},t.prototype.set=function(t,e,n){var r=Z_(t,this._firestore),i=q_(r.converter,e,n),o=Xv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Z_(t,this._firestore);return o="string"==typeof(e=(0,ts.m9)(e))||e instanceof Bv?a_(this._dataReader,"Transaction.update",s._key,e,n,r):s_(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Z_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function W_(){if("undefined"==typeof Uint8Array)throw new hl(ll.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function J_(){if("undefined"==typeof atob)throw new hl(ll.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Y_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return J_(),new t(Zv.fromBase64String(e))},t.fromUint8Array=function(e){return W_(),new t(Zv.fromUint8Array(e))},t.prototype.toBase64=function(){return J_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return W_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),X_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Vv(t=Tv(t,Fv));var n=jv(t),r=t._freezeSettings(),i=new $y;return qv(n,i,new zy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Vv(t=Tv(t,Fv));var e=jv(t),n=t._freezeSettings(),r=new $y;return qv(e,r,new Hy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new hl(ll.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ip;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Xo.mG)(e,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Xo.mG)(this,void 0,void 0,function(){return(0,Xo.Jh)(this,function(e){switch(e.label){case 0:return ap.yt()?[4,ap.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(vg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),tb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof lv||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ml("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Tv(t,xv))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&ml("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Kg.MOCK_USER;else{s=(0,ts.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new hl(ll.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Kg(c)}t._credentials=new pv(new dv(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Xo.mG)(e,void 0,void 0,function(){var e,n;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return[4,nv(t)];case 1:return e=r.sent(),[4,iv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=bl(t);return e.Or.delete(0),wm(e)}(n))]}})})})}(jv(Tv(this._delegate,Fv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Xo.mG)(e,void 0,void 0,function(){var e,n;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return[4,nv(t)];case 1:return e=r.sent(),[4,iv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Xo.mG)(this,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return(e=bl(t)).Or.add(0),[4,Cm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(jv(Tv(this._delegate,Fv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&bv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ip;return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(e,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(r){switch(r.label){case 0:return e=Cy,[4,ov(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(jv(Tv(this._delegate,Fv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Qy(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(n,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){bl(t).Gr.add(e),e.next()},[4,sv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(n,void 0,void 0,function(){var e;return(0,Xo.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){bl(t).Gr.delete(e)},[4,sv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(jv(t=Tv(t,Fv)),Lv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new hl(ll.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new pb(this,Iv(this._delegate,t))}catch(t){throw sb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ob(this,Mv(this._delegate,t))}catch(t){throw sb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new hb(this,function(t,e){if(t=Tv(t,xv),vv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new hl(ll.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new kv(t,null,function(t){return new Ih(Ml.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw sb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ip;return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(n,void 0,void 0,function(){var n;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return ev(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Wy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(jv(t),function(n){return e(new K_(t,n))})}(this._delegate,function(n){return t(new nb(e,n))})},t.prototype.batch=function(){var t=this;return jv(this._delegate),new rb(new B_(this._delegate,function(e){return $_(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new hl(ll.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new hl(ll.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Xo.ZT)(e,t),e.prototype.convertBytes=function(t){return new Y_(new Zv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ob.eu(e,this.firestore,null)},e}(U_),nb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new eb(t)}return t.prototype.get=function(t){var e=this,n=gb(t);return this._delegate.get(n).then(function(t){return new ub(e._firestore,new C_(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=gb(t);return n?(_v("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Xo.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=gb(t);return this._delegate.delete(e),this},t}(),rb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=gb(t);return n?(_v("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Xo.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=gb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ib=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new S_(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new eb(e),n),i.set(n,o)),o},t}();ib.su=new WeakMap;var ob=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new eb(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new hl(ll.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Pv(n._delegate,r,new $l(e)))},t.eu=function(e,n,r){return new t(n,new Pv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new pb(this.firestore,Iv(this._delegate,t))}catch(t){throw sb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,ts.m9)(t))instanceof Pv&&Dv(this._delegate,t)},t.prototype.set=function(t,e){e=_v("DocumentReference.set",e);try{return function(t,e,n){t=Tv(t,Pv);var r=Tv(t.firestore,Fv),i=q_(t.converter,e,n);return $_(r,[Xv(Yv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,hd.none())])}(this._delegate,t,e)}catch(t){throw sb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?z_(this._delegate,t):z_.apply(void 0,(0,Xo.ev)([this._delegate,t,e],n))}catch(t){throw sb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return $_(Tv((t=this._delegate).firestore,Fv),[new Od(t._key,hd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ab(e),i=cb(e,function(e){return new ub(t.firestore,new C_(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return H_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Tv(t,Pv);var e=Tv(t.firestore,Fv),n=jv(e),r=new G_(e);return function(t,e){var n=this,r=new ip;return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(n,void 0,void 0,function(){var n;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i;return(0,Xo.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=bl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new hl(ll.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=$m(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,rv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new C_(e,r,t._key,n,new w_(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Tv(t,Pv);var e=Tv(t.firestore,Fv);return av(jv(e),t._key,{source:"server"}).then(function(n){return Q_(e,t,n)})}(this._delegate):function(t){t=Tv(t,Pv);var e=Tv(t.firestore,Fv);return av(jv(e),t._key).then(function(n){return Q_(e,t,n)})}(this._delegate)).then(function(t){return new ub(e.firestore,new C_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ib.nu(this.firestore,e):null))},t}();function sb(t,e,n){return t.message=t.message.replace(e,n),t}function ab(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Lv(r))return r}return{}}function cb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Lv(t[0])?t[0]:Lv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ub=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ob(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return O_(this._delegate,t._delegate)},t}(),lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Xo.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(ub),hb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new eb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,k_(this._delegate,function(t,e,n){var r=e,i=b_("where",t);return new A_(i,r,n)}(e,n,r)))}catch(e){throw sb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,k_(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=b_("orderBy",t);return new I_(r,n)}(e,n)))}catch(e){throw sb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,k_(this._delegate,function(t){return Ev("limit",t),new M_("limit",t,"F")}(e)))}catch(e){throw sb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,k_(this._delegate,function(t){return Ev("limitToLast",t),new M_("limitToLast",t,"L")}(e)))}catch(e){throw sb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new D_("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw sb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new D_("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw sb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new R_("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw sb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new R_("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw sb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Rv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Tv(t,kv);var e=Tv(t.firestore,Fv),n=jv(e),r=new G_(e);return function(t,e){var n=this,r=new ip;return t.asyncQueue.enqueueAndForget(function(){return(0,Xo.mG)(n,void 0,void 0,function(){var n;return(0,Xo.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Xo.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Xo.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Dg(t,e,!0)];case 1:return a=c.sent(),r=new uy(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=$m(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,rv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new T_(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Tv(t,kv);var e=Tv(t.firestore,Fv),n=jv(e),r=new G_(e);return cv(n,t._query,{source:"server"}).then(function(n){return new T_(e,r,t,n)})}(this._delegate):function(t){t=Tv(t,kv);var e=Tv(t.firestore,Fv),n=jv(e),r=new G_(e);return x_(t._query),cv(n,t._query).then(function(n){return new T_(e,r,t,n)})}(this._delegate)).then(function(t){return new fb(e.firestore,new T_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ab(e),i=cb(e,function(e){return new fb(t.firestore,new T_(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return H_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ib.nu(this.firestore,e):null))},t}(),db=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new lb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),fb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new hb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new lb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new db(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new lb(n._firestore,r))})},t.prototype.isEqual=function(t){return O_(this._delegate,t._delegate)},t}(),pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Xo.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ob(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ob(this.firestore,void 0===t?Mv(this._delegate):Mv(this._delegate,t))}catch(t){throw sb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Tv(t.firestore,Fv),r=Mv(t),i=q_(t.converter,e);return $_(n,[Xv(Yv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,hd.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new ob(e.firestore,t)})},e.prototype.isEqual=function(t){return Dv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ib.nu(this.firestore,t):null))},e}(hb);function gb(t){return Tv(t,Pv)}var mb,yb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Bv.bind.apply(Bv,(0,Xo.ev)([void 0],t)))}return t.documentId=function(){return new t(Rl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,ts.m9)(t))instanceof Bv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),vb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new n_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new t_("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new r_("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new i_("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new o_("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),_b=n(6034),bb={Firestore:tb,GeoPoint:zv,Timestamp:Ol,Blob:Y_,Transaction:nb,WriteBatch:rb,DocumentReference:ob,DocumentSnapshot:ub,Query:hb,QueryDocumentSnapshot:lb,QuerySnapshot:fb,CollectionReference:pb,FieldPath:yb,FieldValue:vb,setLogLevel:function(t){dl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new _b.wA("firestore",function(t){return function(t,e){return new tb(t,new Fv(t,e),new X_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},bb)))})(mb=Yo.Z),mb.registerVersion("@firebase/firestore","2.4.0");const wb=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Cb(t=null){return e=>e.lift(new Sb(t))}class Sb{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Tb(t,this.defaultValue))}}class Tb extends Mt.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Eb(t=Pb){return e=>e.lift(new Ob(t))}class Ob{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new xb(t,this.errorFactory))}}class xb extends Mt.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(mb){t=mb}this.destination.error(t)}}}function Pb(){return new wb}var kb=n(4487);function Ab(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gt((e,n)=>t(e,n,r)):kb.y,Fe(1),n?Cb(e):Eb(()=>new wb))}n(9673);const Ib=new r.OlP("angularfire2.auth.use-emulator");function Mb(t,e){return function(t,e=Lt.z){return new St.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Db(t,e){return Mb(t,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function Rb(t,e){return Db(t,e).pipe(Yt(void 0),Xt(),(0,Ot.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Nb(t,e,n){return Rb(t,n).pipe($o((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Lb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Dt(),(0,Ot.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function Lb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Fb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class jb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Rb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ot.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Yt(void 0),Xt(),Gt(([t,e])=>e.length>0||!t),(0,Ot.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($o((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fb(t);return Nb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Db(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ne.D)(this.query.get(t)).pipe((0,se.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Ub(this.ref.doc(t),this.afs)}}class Ub{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=zb(n,e);return new jb(r,i,this.afs)}snapshotChanges(){return Mb(this.ref,this.afs.schedulers.outsideAngular).pipe(Yt(void 0),Xt(),(0,Ot.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ne.D)(this.ref.get(t)).pipe((0,se.QV)(this.afs.schedulers.insideAngular))}}class qb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Rb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Gt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Rb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($o((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fb(t);return Nb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Db(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ne.D)(this.query.get(t)).pipe((0,se.QV)(this.afs.schedulers.insideAngular))}}const Vb=new r.OlP("angularfire2.enableFirestorePersistence"),Bb=new r.OlP("angularfire2.firestore.persistenceSettings"),Zb=new r.OlP("angularfire2.firestore.settings"),Gb=new r.OlP("angularfire2.firestore.use-emulator");function zb(t,e=(t=>t)){return{query:e(t),ref:t}}let Hb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this.schedulers=new Wo.HU(o),this.keepUnstableUntilFirst=(0,Wo.ss)(this.schedulers);const u=(0,Wo.on)(t,o,e);!Jo.Z.auth&&c&&(0,Wo.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Wo.sI)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=o.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!j(i)){const e=()=>{try{return(0,ne.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(mb){return"undefined"!=typeof console&&console.warn(mb),(0,Ct.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,Ct.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=zb(n,e),o=this.schedulers.ngZone.run(()=>r);return new jb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new qb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Ub(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Wo.Dh),r.LFG(Wo.xv,8),r.LFG(Vb,8),r.LFG(Zb,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Bb,8),r.LFG(Gb,8),r.LFG(Ib,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Wo.Dh),r.LFG(Wo.xv,8),r.LFG(Vb,8),r.LFG(Zb,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Bb,8),r.LFG(Gb,8),r.LFG(Ib,8))},token:t,providedIn:"any"}),t})(),$b=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Vb,useValue:!0},{provide:Bb,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Hb]}),t})();class Qb extends Mt.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Kb extends Mt.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Wb=n(7444);function Jb(t,e,n,r,i=new Kb(t,n,r)){if(!i.closed)return e instanceof St.y?e.subscribe(i):(0,Wb.s)(e)(i)}var Yb=n(6693);const Xb={};class tw{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ew(t,this.resultSelector))}}class ew extends Qb{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Xb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Jb(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Xb?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var nw=n(2441);function rw(t){return function(e){const n=new iw(t),r=e.lift(n);return n.caught=r}}class iw{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ow(t,this.selector,this.caught))}}class ow extends Ft.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ft.IY(this);this.add(r);const i=(0,Ft.ft)(n,r);i!==r&&this.add(i)}}}var sw=n(9773);function aw(t,e){return(0,sw.zg)(t,e,1)}function cw(t){return function(e){return 0===t?(0,Le.c)():e.lift(new uw(t))}}class uw{constructor(t){if(this.total=t,this.total<0)throw new Ne}call(t,e){return e.subscribe(new lw(t,this.total))}}class lw extends Mt.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var hw=n(3342),dw=n(1307);class fw{constructor(t){this.callback=t}call(t,e){return e.subscribe(new pw(t,this.callback))}}class pw extends Mt.L{constructor(t,e){super(t),this.add(new It.w(e))}}class gw{constructor(t,e){this.id=t,this.url=e}}class mw extends gw{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yw extends gw{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vw extends gw{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _w extends gw{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bw extends gw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ww extends gw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cw extends gw{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sw extends gw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tw extends gw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ew{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ow{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xw{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kw{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aw{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iw{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mw="primary";class Dw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Rw(t){return new Dw(t)}function Nw(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Lw(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Fw(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!jw(t[i],e[i]))return!1;return!0}function jw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Uw(t){return Array.prototype.concat.apply([],t)}function qw(t){return t.length>0?t[t.length-1]:null}function Vw(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Bw(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,ne.D)(Promise.resolve(t)):(0,Ct.of)(t)}const Zw={exact:function t(e,n,r){if(!Yw(e.segments,n.segments))return!1;if(!Qw(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Hw},Gw={exact:function(t,e){return Fw(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jw(t[n],e[n]))},ignored:()=>!0};function zw(t,e,n){return Zw[n.paths](t.root,e.root,n.matrixParams)&&Gw[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Hw(t,e,n){return $w(t,e,e.segments,n)}function $w(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Yw(i,n)&&!e.hasChildren()&&!!Qw(i,n,r)}if(t.segments.length===n.length){if(!Yw(t.segments,n))return!1;if(!Qw(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Hw(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Yw(t.segments,i)&&!!Qw(t.segments,i,r)&&!!t.children.primary&&$w(t.children.primary,e,o,r)}}function Qw(t,e,n){return e.every((e,r)=>Gw[n](t[r].parameters,e.parameters))}class Kw{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rw(this.queryParams)),this._queryParamMap}toString(){return eC.serialize(this)}}class Ww{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Vw(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nC(this)}}class Jw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Rw(this.parameters)),this._parameterMap}toString(){return uC(this)}}function Yw(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Xw{}class tC{parse(t){const e=new pC(t);return new Kw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${rC(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${oC(e)}=${oC(t)}`).join("&"):`${oC(e)}=${oC(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const eC=new tC;function nC(t){return t.segments.map(t=>uC(t)).join("/")}function rC(t,e){if(!t.hasChildren())return nC(t);if(e){const e=t.children.primary?rC(t.children.primary,!1):"",n=[];return Vw(t.children,(t,e)=>{e!==Mw&&n.push(`${e}:${rC(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Vw(t.children,(t,r)=>{r===Mw&&(n=n.concat(e(t,r)))}),Vw(t.children,(t,r)=>{r!==Mw&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Mw?[rC(t.children.primary,!1)]:[`${n}:${rC(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${nC(t)}/${e[0]}`:`${nC(t)}/(${e.join("//")})`}}function iC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oC(t){return iC(t).replace(/%3B/gi,";")}function sC(t){return iC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function aC(t){return decodeURIComponent(t)}function cC(t){return aC(t.replace(/\+/g,"%20"))}function uC(t){return`${sC(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${sC(t)}=${sC(e[t])}`).join("")}`;var e}const lC=/^[^\/()?;=#]+/;function hC(t){const e=t.match(lC);return e?e[0]:""}const dC=/^[^=?&#]+/,fC=/^[^?&#]+/;class pC{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ww([],{}):new Ww([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ww(t,e)),n}parseSegment(){const t=hC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Jw(aC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hC(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=hC(this.remaining);t&&(n=t,this.capture(n))}t[aC(e)]=aC(n)}parseQueryParam(t){const e=function(t){const e=t.match(dC);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(fC);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=cC(e),i=cC(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hC(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Mw);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ww([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mC(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=mC(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yC(t,this._root).map(t=>t.value)}}function mC(t,e){if(t===e.value)return e;for(const n of e.children){const e=mC(t,n);if(e)return e}return null}function yC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yC(t,n);if(r.length)return r.unshift(e),r}return[]}class vC{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _C(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class bC extends gC{constructor(t,e){super(t),this.snapshot=e,OC(this,t)}toString(){return this.snapshot.toString()}}function wC(t,e){const n=function(t,e){const n=new TC([],{},{},"",{},Mw,e,null,t.root,-1,{});return new EC("",new vC(n,[]))}(t,e),r=new yn([new Jw("",{})]),i=new yn({}),o=new yn({}),s=new yn({}),a=new yn(""),c=new CC(r,i,s,a,o,Mw,e,n.root);return c.snapshot=n.root,new bC(new vC(c,[]),n)}class CC{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(t=>Rw(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(t=>Rw(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SC(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class TC{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rw(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rw(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class EC extends gC{constructor(t,e){super(e),this.url=t,OC(this,e)}toString(){return xC(this._root)}}function OC(t,e){e.value._routerState=t,e.children.forEach(e=>OC(t,e))}function xC(t){const e=t.children.length>0?` { ${t.children.map(xC).join(", ")} } `:"";return`${t.value}${e}`}function PC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Fw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Fw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function kC(t,e){return Fw(t.params,e.params)&&function(t,e){return Yw(t,e)&&t.every((t,n)=>Fw(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||kC(t.parent,e.parent))}function AC(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return AC(t,e,r);return AC(t,e)})}(t,e,n);return new vC(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return IC(e,t),t}}const n=new CC(new yn((r=e.value).url),new yn(r.params),new yn(r.queryParams),new yn(r.fragment),new yn(r.data),r.outlet,r.component,r),i=e.children.map(e=>AC(t,e));return new vC(n,i)}var r}function IC(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)IC(t.children[n],e.children[n])}function MC(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function DC(t){return"object"==typeof t&&null!=t&&t.outlets}function RC(t,e,n,r,i){let o={};return r&&Vw(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Kw(n.root===t?e:NC(n.root,t,e),o,i)}function NC(t,e,n){const r={};return Vw(t.children,(t,i)=>{r[i]=t===e?n:NC(t,e,n)}),new Ww(t.segments,r)}class LC{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&MC(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(DC);if(r&&r!==qw(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class FC{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function jC(t,e,n){if(t||(t=new Ww([],{})),0===t.segments.length&&t.hasChildren())return UC(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(DC(s))break;const a=`${s}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZC(a,c,e))return o;r+=2}else{if(!ZC(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ww(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ww(t.segments.slice(r.pathIndex),t.children),UC(e,0,i)}return r.match&&0===i.length?new Ww(t.segments,{}):r.match&&!t.hasChildren()?qC(t,e,n):r.match?UC(t,0,i):qC(t,e,n)}function UC(t,e,n){if(0===n.length)return new Ww(t.segments,{});{const r=function(t){return DC(t[0])?t[0].outlets:{[Mw]:t}}(n),i={};return Vw(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=jC(t.children[r],e,n))}),Vw(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ww(t.segments,i)}}function qC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(DC(o)){const t=VC(o.outlets);return new Ww(r,t)}if(0===i&&MC(n[0])){r.push(new Jw(t.segments[e].path,BC(n[0]))),i++;continue}const s=DC(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&MC(a)?(r.push(new Jw(s,BC(a))),i+=2):(r.push(new Jw(s,{})),i++)}return new Ww(r,{})}function VC(t){const e={};return Vw(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=qC(new Ww([],{}),0,t))}),e}function BC(t){const e={};return Vw(t,(t,n)=>e[n]=`${t}`),e}function ZC(t,e,n){return t==n.path&&Fw(e,n.parameters)}class GC{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),PC(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=_C(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Vw(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=_C(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=_C(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Aw(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Pw(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(PC(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),zC(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function zC(t){PC(t.value),t.children.forEach(zC)}class HC{constructor(t,e){this.routes=t,this.module=e}}function $C(t){return"function"==typeof t}function QC(t){return t instanceof Kw}const KC=Symbol("INITIAL_VALUE");function WC(){return re(t=>function(...t){let e,n;return(0,Vt.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Tt.k)(t[0])&&(t=t[0]),(0,Yb.n)(t,n).lift(new tw(e))}(t.map(t=>t.pipe(Fe(1),Yt(KC)))).pipe($o((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==KC)return t;if(r===KC&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||QC(r))return r}return t},t)},KC),Gt(t=>t!==KC),(0,Ot.U)(t=>QC(t)?t:!0===t),Fe(1)))}let JC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[KS]},encapsulation:2}),t})();function YC(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];XC(r,tS(e,r))}}function XC(t,e){t.children&&YC(t.children,e)}function tS(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function eS(t){const e=t.children&&t.children.map(eS),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Mw&&(n.component=JC),n}function nS(t){return t.outlet||Mw}function rS(t,e){const n=t.filter(t=>nS(t)===e);return n.push(...t.filter(t=>nS(t)!==e)),n}const iS={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function oS(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},iS):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Lw)(n,t,e);if(!i)return Object.assign({},iS);const o={};Vw(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function sS(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>aS(t,e,n)&&nS(n)!==Mw)}(t,n,r)){const i=new Ww(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&nS(o)!==Mw){const n=new Ww([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[nS(o)]=n}return i}(t,e,r,new Ww(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>aS(t,e,n))}(t,n,r)){const o=new Ww(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(aS(t,n,a)&&!i[nS(a)]){const n=new Ww([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[nS(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ww(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function aS(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function cS(t,e,n,r){return!!(nS(t)===r||r!==Mw&&aS(e,n,t))&&("**"===t.path||oS(e,t,n).matched)}function uS(t,e,n){return 0===e.length&&!t.children[n]}class lS{constructor(t){this.segmentGroup=t||null}}class hS{constructor(t){this.urlTree=t}}function dS(t){return new St.y(e=>e.error(new lS(t)))}function fS(t){return new St.y(e=>e.error(new hS(t)))}function pS(t){return new St.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class gS{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=sS(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ww(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Mw).pipe((0,Ot.U)(t=>this.createUrlTree(mS(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rw(t=>{if(t instanceof hS)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lS)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Mw).pipe((0,Ot.U)(e=>this.createUrlTree(mS(e),t.queryParams,t.fragment))).pipe(rw(t=>{if(t instanceof lS)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ww([],{[Mw]:t}):t;return new Kw(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Ot.U)(t=>new Ww([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,ne.D)(r).pipe(aw(r=>{const i=n.children[r],o=rS(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Ot.U)(t=>({segment:t,outlet:r})))}),$o((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gt((e,n)=>t(e,n,r)):kb.y,cw(1),n?Cb(e):Eb(()=>new wb))}())}expandSegment(t,e,n,r,i,o){return(0,ne.D)(n).pipe(aw(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(rw(t=>{if(t instanceof lS)return(0,Ct.of)(null);throw t}))),Ab(t=>!!t),rw((t,n)=>{if(t instanceof wb||"EmptyError"===t.name){if(uS(e,r,i))return(0,Ct.of)(new Ww([],{}));throw new lS(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return cS(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):dS(e):dS(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?fS(i):this.lineralizeSegments(n,i).pipe((0,sw.zg)(n=>{const i=new Ww(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=oS(e,r,i);if(!s)return dS(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?fS(l):this.lineralizeSegments(r,l).pipe((0,sw.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Ct.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Ot.U)(t=>(n._loadedConfig=t,new Ww(r,{})))):(0,Ct.of)(new Ww(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=oS(e,n,r);if(!o)return dS(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,sw.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:u}=sS(e,s,c,o),l=new Ww(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,Ot.U)(t=>new Ww(s,t)));if(0===o.length&&0===u.length)return(0,Ct.of)(new Ww(s,{}));const h=nS(n)===i;return this.expandSegment(r,l,o,u,h?Mw:i,!0).pipe((0,Ot.U)(t=>new Ww(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,Ct.of)(new HC(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ct.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,sw.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Ot.U)(t=>(e._loadedConfig=t,t))):function(t){return new St.y(e=>e.error(Nw(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,Ct.of)(new HC([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,Ct.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&$C(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!$C(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Bw(o)});return(0,Ct.of)(i).pipe(WC(),(0,hw.b)(t=>{if(!QC(t))return;const e=Nw(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Ot.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Ct.of)(n);if(r.numberOfChildren>1||!r.children.primary)return pS(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Kw(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Vw(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Vw(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ww(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function mS(t){const e={};for(const n of Object.keys(t.children)){const r=mS(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ww(t.segments.concat(e.segments),e.children)}return t}(new Ww(t.segments,e))}class yS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vS{constructor(t,e){this.component=t,this.route=e}}function _S(t,e,n){const r=t._root;return wS(r,e?e._root:null,n,[r.value])}function bS(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function wS(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_C(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Yw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yw(t.url,e.url)||!Fw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kC(t,e)||!Fw(t.queryParams,e.queryParams);case"paramsChange":default:return!kC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yS(r)):(o.data=s.data,o._resolvedData=s._resolvedData),wS(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vS(a.outlet.component,s))}else s&&CS(e,a,i),i.canActivateChecks.push(new yS(r)),wS(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Vw(o,(t,e)=>CS(t,n.getContext(e),i)),i}function CS(t,e,n){const r=_C(t),i=t.value;Vw(r,(t,r)=>{CS(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new vS(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class SS{}function TS(t){return new St.y(e=>e.error(t))}class ES{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=sS(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Mw);if(null===e)return null;const n=new TC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mw,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vC(n,e),i=new EC(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=SC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=rS(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=xS(n);return r.sort((t,e)=>t.value.outlet===Mw?-1:e.value.outlet===Mw?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return uS(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!cS(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?qw(n).parameters:{};i=new TC(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,AS(t),nS(t),t.component,t,PS(e),kS(e)+n.length,IS(t))}else{const r=oS(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new TC(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,AS(t),nS(t),t.component,t,PS(e),kS(e)+o.length,IS(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=sS(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new vC(i,t)]}if(0===a.length&&0===u.length)return[new vC(i,[])];const l=nS(t)===r,h=this.processSegment(a,c,u,l?Mw:r);return null===h?null:[new vC(i,h)]}}function OS(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xS(t){const e=[],n=new Set;for(const r of t){if(!OS(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=xS(r.children);e.push(new vC(r.value,t))}return e.filter(t=>!n.has(t))}function PS(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kS(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function AS(t){return t.data||{}}function IS(t){return t.resolve||{}}function MS(t){return re(e=>{const n=t(e);return n?(0,ne.D)(n).pipe((0,Ot.U)(()=>e)):(0,Ct.of)(e)})}class DS extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const RS=new r.OlP("ROUTES");class NS{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Ot.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new HC(Uw(i.injector.get(RS,void 0,r.XFs.Self|r.XFs.Optional)).map(eS),i)}),rw(t=>{throw e._loader$=void 0,t}));return e._loader$=new nw.c(n,()=>new wt.xQ).pipe((0,dw.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,ne.D)(this.loader.load(t)):Bw(t()).pipe((0,sw.zg)(t=>t instanceof r.YKP?(0,Ct.of)(t):(0,ne.D)(this.compiler.compileModuleAsync(t))))}}class LS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new FS,this.attachRef=null}}class FS{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new LS,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class jS{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function US(t){throw t}function qS(t,e,n){return e.parse("/")}function VS(t,e){return(0,Ct.of)(null)}const BS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let GS=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wt.xQ,this.errorHandler=US,this.malformedUriErrorHandler=qS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:VS,afterPreactivation:VS},this.urlHandlingStrategy=new jS,this.routeReuseStrategy=new DS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const u=o.get(r.R0b);this.isNgZoneEnabled=u instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Kw(new Ww([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new NS(s,a,t=>this.triggerEvent(new Ew(t)),t=>this.triggerEvent(new Ow(t))),this.routerState=wC(this.currentUrlTree,this.rootComponentType),this.transitions=new yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(Gt(t=>0!==t.id),(0,Ot.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),re(t=>{let n=!1,r=!1;return(0,Ct.of)(t).pipe((0,hw.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),re(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,Ct.of)(t).pipe(re(t=>{const n=this.transitions.getValue();return e.next(new mw(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Le.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,re(t=>function(t,e,n,r,i){return new gS(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,Ot.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,hw.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,sw.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new ES(t,e,n,r,i,o).recognize();return null===s?TS(new SS):(0,Ct.of)(s)}catch(mb){return TS(mb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Ot.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,hw.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new bw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new mw(n,this.serializeUrl(r),i,o);e.next(a);const c=wC(r,this.rootComponentType).snapshot;return(0,Ct.of)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Le.E}),MS(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,hw.b)(t=>{const e=new ww(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Ot.U)(t=>Object.assign(Object.assign({},t),{guards:_S(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,sw.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Ct.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,ne.D)(t).pipe((0,sw.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Ct.of)(!0);const s=o.map(o=>{const s=bS(o,e,i);let a;if(function(t){return t&&$C(t.canDeactivate)}(s))a=Bw(s.canDeactivate(t,e,n,r));else{if(!$C(s))throw new Error("Invalid CanDeactivate guard");a=Bw(s(t,e,n,r))}return a.pipe(Ab())});return(0,Ct.of)(s).pipe(WC())}(t.component,t.route,n,e,r)),Ab(t=>!0!==t,!0))}(s,r,i,t).pipe((0,sw.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,ne.D)(e).pipe(aw(e=>Jt(function(t,e){return null!==t&&e&&e(new xw(t)),(0,Ct.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new kw(t)),(0,Ct.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ko(()=>{const i=e.guards.map(i=>{const o=bS(i,e.node,n);let s;if(function(t){return t&&$C(t.canActivateChild)}(o))s=Bw(o.canActivateChild(r,t));else{if(!$C(o))throw new Error("Invalid CanActivateChild guard");s=Bw(o(r,t))}return s.pipe(Ab())});return(0,Ct.of)(i).pipe(WC())}));return(0,Ct.of)(i).pipe(WC())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ct.of)(!0);const i=r.map(r=>ko(()=>{const i=bS(r,e,n);let o;if(function(t){return t&&$C(t.canActivate)}(i))o=Bw(i.canActivate(e,t));else{if(!$C(i))throw new Error("Invalid CanActivate guard");o=Bw(i(e,t))}return o.pipe(Ab())}));return(0,Ct.of)(i).pipe(WC())}(t,e.route,n))),Ab(t=>!0!==t,!0))}(r,o,t,e):(0,Ct.of)(n)),(0,Ot.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,hw.b)(t=>{if(QC(t.guardsResult)){const e=Nw(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Cw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Gt(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),MS(t=>{if(t.guards.canActivateChecks.length)return(0,Ct.of)(t).pipe((0,hw.b)(t=>{const e=new Sw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),re(t=>{let e=!1;return(0,Ct.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,sw.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Ct.of)(t);let o=0;return(0,ne.D)(i).pipe(aw(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,Ct.of)({});const o={};return(0,ne.D)(i).pipe((0,sw.zg)(i=>function(t,e,n,r){const i=bS(t,e,r);return Bw(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,hw.b)(t=>{o[i]=t}))),cw(1),(0,sw.zg)(()=>Object.keys(o).length===i.length?(0,Ct.of)(o):Le.E))}(t._resolve,t,e,r).pipe((0,Ot.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),SC(t,n).resolve),null)))}(t.route,e,n,r)),(0,hw.b)(()=>o++),cw(1),(0,sw.zg)(e=>o===i.length?(0,Ct.of)(t):Le.E))})),(0,hw.b)({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,hw.b)(t=>{const e=new Tw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),MS(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Ot.U)(t=>{const e=function(t,e,n){const r=AC(t,e._root,n?n._root:void 0);return new bC(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,hw.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Ot.U)(t=>(new GC(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,hw.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null},t=>t.lift(new fw(i))),rw(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=QC(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new vw(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new _w(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Uh){t.reject(Uh)}}var i;return Le.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){YC(t),this.config=t.map(eS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return RC(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new LC(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Vw(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new LC(n,e,r)}(n);if(o.toRoot())return RC(e.root,new Ww([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new FC(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new FC(t,t===e.root,0)}const r=MC(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new FC(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?UC(s.segmentGroup,s.index,o.commands):jC(s.segmentGroup,s.index,o.commands);return RC(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,null!=c?c:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=QC(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(mb){e=this.malformedUriErrorHandler(mb,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},BS):!1===e?Object.assign({},ZS):e,QC(t))return zw(this.currentUrlTree,t,n);const r=this.parseUrl(t);return zw(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new yw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c="imperative"!==e&&"imperative"===(null==a?void 0:a.source),u=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(c&&u)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{l=t,h=e});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new vw(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(Xw),r.LFG(FS),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),zS=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new wt.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:$S(this.skipLocationChange),replaceUrl:$S(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$S(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(GS),r.Y36(CC),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})(),HS=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new wt.xQ,this.subscription=t.events.subscribe(t=>{t instanceof yw&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:$S(this.skipLocationChange),replaceUrl:$S(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$S(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(GS),r.Y36(CC),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function $S(t){return""===t||!!t}let QS=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof yw&&this.update()})}ngAfterContentInit(){(0,Ct.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ct.of)(null)).pipe((0,Wt.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,ne.D)(e).pipe((0,Wt.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(GS),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(zS,8),r.Y36(HS,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,zS,5),r.Suo(n,HS,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.links=t),r.iGM(t=r.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})(),KS=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Mw,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new WS(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(FS),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class WS{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===CC?this.route:t===FS?this.childContexts:this.parent.get(t,e)}}class JS{}class YS{preload(t,e){return(0,Ct.of)(null)}}let XS=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new NS(e,n,e=>t.triggerEvent(new Ew(e)),e=>t.triggerEvent(new Ow(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gt(t=>t instanceof yw),aw(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,ne.D)(n).pipe((0,Wt.J)(),(0,Ot.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,Ct.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,sw.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(GS),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(JS))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),tT=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yw&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Iw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Iw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(GS),r.LFG(U),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const eT=new r.OlP("ROUTER_CONFIGURATION"),nT=new r.OlP("ROUTER_FORROOT_GUARD"),rT=[w,{provide:Xw,useClass:tC},{provide:GS,useFactory:function(t,e,n,r,i,o,s,a={},c,u){const l=new GS(null,t,e,n,r,i,o,Uw(s));return c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Xw,FS,w,r.zs3,r.v3s,r.Sil,RS,eT,[class{},new r.FiY],[class{},new r.FiY]]},FS,{provide:CC,useFactory:function(t){return t.routerState.root},deps:[GS]},{provide:r.v3s,useClass:r.EAV},XS,YS,class{preload(t,e){return e().pipe(rw(()=>(0,Ct.of)(null)))}},{provide:eT,useValue:{enableTracing:!1}}];function iT(){return new r.PXZ("Router",GS)}let oT=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[rT,uT(e),{provide:nT,useFactory:cT,deps:[[GS,new r.FiY,new r.tp0]]},{provide:eT,useValue:n||{}},{provide:m,useFactory:aT,deps:[a,[new r.tBr(v),new r.FiY],eT]},{provide:tT,useFactory:sT,deps:[GS,U,eT]},{provide:JS,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:YS},{provide:r.PXZ,multi:!0,useFactory:iT},[lT,{provide:r.ip1,multi:!0,useFactory:hT,deps:[lT]},{provide:fT,useFactory:dT,deps:[lT]},{provide:r.tb,multi:!0,useExisting:fT}]]}}static forChild(e){return{ngModule:t,providers:[uT(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(nT,8),r.LFG(GS,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function sT(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new tT(t,e,n)}function aT(t,e,n={}){return n.useHash?new b(t,e):new _(t,e)}function cT(t){return"guarded"}function uT(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:RS,multi:!0,useValue:t}]}let lT=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new wt.xQ}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(GS),r=this.injector.get(eT);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Ct.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(eT),n=this.injector.get(XS),i=this.injector.get(tT),o=this.injector.get(GS),s=this.injector.get(r.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function hT(t){return t.appInitializer.bind(t)}function dT(t){return t.bootstrapListener.bind(t)}const fT=new r.OlP("Router Initializer");let pT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[],imports:[[L,oT,zo]]}),t})(),gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L,pT,zo,$b]]}),t})(),mT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L,oT,$b]]}),t})(),yT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L,oT,$b]]}),t})(),vT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L,pT,$b]]}),t})();n(1555);const _T=new r.OlP("NgValueAccessor"),bT=["*"];let wT=(()=>{class t{constructor(t,e,n){this.el=t,this.zone=e,this.platformId=n,this.afterChange=new r.vpe,this.beforeChange=new r.vpe,this.breakpoint=new r.vpe,this.destroy=new r.vpe,this.init=new r.vpe,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!j(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const t=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===t?this.unslick():(this._addedSlides.forEach(t=>{this.slides.push(t),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",t.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(t=>{const e=this.slides.indexOf(t);this.slides=this.slides.filter(e=>e!==t),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",e)})}),this._removedSlides=[]):t>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(t,e)=>{this.zone.run(()=>{this.init.emit({event:t,slick:e})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(t,e,n)=>{this.zone.run(()=>{this.afterChange.emit({event:t,slick:e,currentSlide:n,first:0===n,last:e.$slides.length===n+e.options.slidesToScroll}),this.currentIndex=n})}),this.$instance.on("beforeChange",(t,e,n,r)=>{this.zone.run(()=>{this.beforeChange.emit({event:t,slick:e,currentSlide:n,nextSlide:r}),this.currentIndex=r})}),this.$instance.on("breakpoint",(t,e,n)=>{this.zone.run(()=>{this.breakpoint.emit({event:t,slick:e,breakpoint:n})})}),this.$instance.on("destroy",(t,e)=>{this.zone.run(()=>{this.destroy.emit({event:t,slick:e}),this.initialized=!1})})})}addSlide(t){this._addedSlides.push(t)}removeSlide(t){this._removedSlides.push(t)}slickGoTo(t){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",t)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(t){if(this.initialized){const e=t.config;if(e.previousValue!==e.currentValue&&void 0!==e.currentValue){const t=e.currentValue.refresh,n=Object.assign({},e.currentValue);delete n.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",n,t)})}}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[r._Bn([{provide:_T,useExisting:(0,r.Gpc)(()=>t),multi:!0}]),r.TTD],ngContentSelectors:bT,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},encapsulation:2}),t})(),CT=(()=>{class t{constructor(t,e,n){this.el=t,this.platformId=e,this.carousel=n}ngOnInit(){F(this.platformId)&&this.carousel.addSlide(this)}ngOnDestroy(){F(this.platformId)&&this.carousel.removeSlide(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Lbi),r.Y36(wT,1))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngxSlickItem",""]]}),t})(),ST=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),TT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L,pT,oT,ST,$b]]}),t})();function ET(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function OT(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){ET(o,r,i,s,a,"next",t)}function a(t){ET(o,r,i,s,a,"throw",t)}s(void 0)})}}let xT=(()=>{class t{constructor(t){this.afs=t,this.services=""}ngOnInit(){var t=this;return OT(function*(){yield t.getServices()})()}getServices(){var t=this;return OT(function*(){let e=yield t.afs.collection("services").get().toPromise();if(e){let n=e.docs[0].data();t.services=n.data}})()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Hb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-services"]],decls:6,vars:1,consts:[[2,"padding","0 25px 0"],[1,"banner"],[1,"about_us",3,"innerHTML"]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"h5"),r._uU(4,"Services"),r.qZA(),r.qZA(),r._UZ(5,"div",2),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("innerHTML",e.services,r.oJD))},styles:["section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{background-color:#eee;background-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fservices_banner.jpeg?alt=media&token=5b30da8d-389f-485d-9a1a-30df4a532f9a);background-position:50%;background-repeat:no-repeat;background-size:cover;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;height:100vh;max-height:500px;margin-bottom:20px;padding-left:0;padding-right:0;position:relative}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:42px;line-height:42px;padding:25px 50px;color:#fff;background:#ffffff80;width:100%;margin:0}section[_ngcontent-%COMP%]   .about_us[_ngcontent-%COMP%]{font-size:18px;line-height:28px;width:95%;margin:auto;padding-bottom:40px;font-weight:400}section[_ngcontent-%COMP%]   .about_us[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:19px;font-weight:500;color:#000;margin:20px 0}section[_ngcontent-%COMP%]   .about_us[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{list-style-position:inside}section[_ngcontent-%COMP%]   .about_us[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px}"]}),t})(),PT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-product"]],decls:83,vars:0,consts:[["mat-dialog-close","",1,"close_container"],[1,"fa","fa-times"],[1,"product_container"],[1,"download"],["href","https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2FGroup%20Personal%20Accident%20Insurance%20Policy.pdf?alt=media&token=c168a420-84b6-4d2d-9fee-b40726b76dbf","target","_blank","download","product.pdf"],[1,"fas","fa-download"],[1,"product_details"],[1,"add_benifits"],[2,"text-align","left"],[1,"documents"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"i",1),r.qZA(),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"a",4),r._UZ(5,"i",5),r.qZA(),r.qZA(),r.TgZ(6,"div",6),r.TgZ(7,"h2"),r._uU(8,"GROUP PERSONAL ACCIDENT INSURANCE"),r.qZA(),r.TgZ(9,"ul"),r.TgZ(10,"p"),r._uU(11,"The policy compensates individual against:"),r.qZA(),r.TgZ(12,"li"),r._uU(13,"Accidental Death"),r.qZA(),r.TgZ(14,"li"),r._uU(15,"Permanent Total Disablement"),r.qZA(),r.TgZ(16,"li"),r._uU(17,"Permanent Partial Disablement"),r.qZA(),r.TgZ(18,"li"),r._uU(19,"Temporary Total Disablement"),r.qZA(),r.TgZ(20,"li"),r._uU(21,"Weekly Benefit maximum upto Rs. 5000 upto 100 weeks"),r.qZA(),r.TgZ(22,"li"),r._uU(23,"Worldwide coverage"),r.qZA(),r.TgZ(24,"li"),r._uU(25,"24 x 7 coverage or can be limited to working hours"),r.qZA(),r.qZA(),r._UZ(26,"br"),r.TgZ(27,"ul",7),r.TgZ(28,"p"),r.TgZ(29,"strong"),r._uU(30,"Additional Benefits"),r.qZA(),r.qZA(),r.TgZ(31,"li"),r._uU(32,"Medical Expenses :Reimbursement of Medical expenses arising directly and solely out of accident. Reimbursable amount shall be 20% of capital sum insured or 40% of admissible claim amount or actual expenses whichever is lower (payable only when the claim is admissible under basic cover)."),r.qZA(),r.TgZ(33,"li"),r._uU(34,"Expenses for carriage of dead body :-Expenses incurred for carriage of dead body of the insured to the place of residence at 2% of capital sum insured subject to a maximum of Rs. 2500."),r.qZA(),r.TgZ(35,"li"),r._uU(36,"Children Education fund -10% of capital sum insured per dependent child subject to a maximum of Rs. 5000 up to maximum two dependent children"),r.qZA(),r.TgZ(37,"li"),r._uU(38,"Cremation / Funeral Charges :-The policy reimburses up to 2% of Capital Sum Insured or Rs. 2500/- whichever is less."),r.qZA(),r.TgZ(39,"li"),r._uU(40,"Modification of residential accommodation and own vehicle :- Permanent Total Disability arising from an accident could sometimes demand a change in lifestyle. In order to meet these requirements Insured might have to invest or modify existing vehicle or invest in making some changes in the house. Reimbursement of 10% of the Principal Sum up to a maximum of Rs.50,000 towards this (payable only when the claim is admissible under basic cover)."),r.qZA(),r.TgZ(41,"li"),r._uU(42,"Ambulance Hiring Charges :-The policy will be reimbursed upto Rs.1,000 for ambulance hiring charges in theevent of an accident."),r.qZA(),r.TgZ(43,"li"),r._uU(44,"Family Transportation: When as a result of an accident, the principal insured is confined in a hospital outside 100 kms of his residence, we will reimburse the actual transportation expenses incurred by the immediate family member, to reach the insured person up to a maximum of Rs. 25,000"),r.qZA(),r.qZA(),r._UZ(45,"br"),r.TgZ(46,"h2",8),r._uU(47,"DOCUMENTS FOR CLAIM UNDER GPA POLICY"),r.qZA(),r.TgZ(48,"ul",9),r.TgZ(49,"li"),r.TgZ(50,"span"),r._uU(51,"Accidental Death:"),r.qZA(),r.TgZ(52,"ul"),r.TgZ(53,"li"),r._uU(54,"Claim form duly filled up by the Claimant & signed and stamped by the Insured"),r.qZA(),r.TgZ(55,"li"),r._uU(56,"True copy of FIR (First Information Report), panchnama, any other inquest report"),r.qZA(),r.TgZ(57,"li"),r._uU(58,"True copy of Post Mortem Report"),r.qZA(),r.TgZ(59,"li"),r._uU(60,"Original Death Certificate"),r.qZA(),r.TgZ(61,"li"),r._uU(62,"Letter from the HR as an employee certificate stating details of employee with Date of Joining"),r.qZA(),r.TgZ(63,"li"),r._uU(64,"True copy of Viscera Report if applicable"),r.qZA(),r.TgZ(65,"li"),r._uU(66,"Copy of driving license( verified with original ) if the person was driving"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"li"),r.TgZ(68,"span"),r._uU(69,"Permanent Total Disability:"),r.qZA(),r.TgZ(70,"ul"),r.TgZ(71,"li"),r._uU(72,"Claim form duly filled up by the insured/Claimant & signed and stamped by the Insured"),r.qZA(),r.TgZ(73,"li"),r._uU(74,"Hospitalization Bills/Papers (indoor case papers)"),r.qZA(),r.TgZ(75,"li"),r._uU(76,"Disability Certificate from a Civil Surgeon/Senior Surgeon from a reputed hospital"),r.qZA(),r.TgZ(77,"li"),r._uU(78,"Letter from the HR as an employee certificate stating details of employee with Date of Joining"),r.qZA(),r.TgZ(79,"li"),r._uU(80,"Police intimation (whether Panchanama or FIR) to know that the case has been reported to the Police"),r.qZA(),r.TgZ(81,"li"),r._uU(82,"Copy of driving license copy ( verified with original ) if the person was driving was driving at the time of accident."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[Go],styles:[".close_container[_ngcontent-%COMP%]{position:absolute;top:calc(5% - 14px);right:calc(17.5% - 14px);padding:10px 13px;background:var(--primary-color);border-radius:50%;font-size:20px;cursor:pointer;color:#fff;box-shadow:1px 1px 6px 1px #00000040}.product_container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;position:relative}.product_container[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]{position:fixed;bottom:5%;left:calc(17.5%);width:100%;padding:20px 40px;z-index:10;background:#fff;width:65%;display:flex;justify-content:flex-end;box-shadow:-2px -2px 8px 0 #00000040;font-size:22px}.product_container[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;border:none;outline:none;color:inherit;text-decoration:none}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]{padding:40px 30px}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style-position:inside}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   ul.add_benifits[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   ul.documents[_ngcontent-%COMP%]{list-style:none;padding-bottom:90px}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:15px;line-height:1.5;padding-left:20px}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;text-decoration:underline;margin-bottom:10px}.product_container[_ngcontent-%COMP%]   .product_details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;list-style-position:inside}"]}),t})();function kT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li"),r.TgZ(1,"a",4),r.NdJ("click",function(){return r.CHM(t),r.oxw().showProduct()}),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t)}}let AT=(()=>{class t{constructor(t){this.dialog=t,this.products=["Hull & Machinery Insurance","Business Interruption","Third Party Liability","Management & Professional Liability","Workers\u2019 Compensation","Supply Chain Interruption","High Production Costs","Material Damage","Business Interruption","Commercial General Liability","Product Recall","Marine Cargo/Sales Turnover Policy","Professional Indemnity Cover","Employer's Liability Cover","Property Damage","Business Interruption","Machinery Breakdown","Marine Cargo/ Stock Through Insurance","Sabotage And Terrorism/Political Risks","Construction All Risk","Erection All Risk","Advanced Loss Of Profit","Contractors Plant & Machinery Insurance","Tailor Made Contingency Covers","Directors\u2019 And Officer\u2019s Insurance","Crime Insurance","Computer & Cyber Fraud","Professional Indemnity Insurance","Errors & Omission","Package Insurance","Title Insurance","Cyber Extortion","Crime And Data Breach","Errors And Omissions","General Liability","Employers Liability","Trade Credit Risk","Fine Art Insurance","Diamond And Jewellery Insurance","Specie Insurance","Terrorism Insurance","Professional Indemnity","Public Liability","Directors & Officers Liability","Political & Credit Risk","Environmental Impairment Liability","Contractors Plant & Machinery","Liability Insurance","Offshore / Onshore Constructions","Physical And Material Damage","Seepage And Pollution","Control Of Well / Operators Extra Expenses","Environmental Damage Insurance","General Third-Party Liability","Public Liability Act Insurance","Directors And Officers Insurance","Clinical Trial","Employer\u2019s Liability Cover","Standalone Third-Party Liability","Removal Of Wreck And Pollution","Stand Alone Terrorism","Motor Insurance","Mediclaim & Critical Insurance","Term Life Insurance","Householder\u2019s Insurance","Shopkeeper\u2019s Insurance","Protection & Indemnity Insurance","War Risk Cover","Equipment Breakdown","Builders All Risk","Cancellation Of An Event","Third Party Bodily Injury And Property Damage","Property Insurance","Freight Forwarders Liability"]}ngOnInit(){}showProduct(){this.dialog.open(PT,{width:"65%",height:"90%",disableClose:!0,panelClass:"custom-dialog-container"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zo))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-products"]],decls:8,vars:1,consts:[[2,"padding","0 25px 0"],[1,"banner"],[1,"products"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"h5"),r._uU(4,"Products"),r.qZA(),r.qZA(),r.TgZ(5,"div",2),r.TgZ(6,"ul"),r.YNc(7,kT,3,1,"li",3),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("ngForOf",e.products))},directives:[A],styles:["section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{background-color:#eee;background-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Findustries_banner.jpeg?alt=media&token=9c860a80-d896-4b0e-a644-88b57bada84a);background-position:50%;background-repeat:no-repeat;background-size:cover;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;height:100vh;max-height:500px;margin-bottom:20px;padding-left:0;padding-right:0;position:relative}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:42px;line-height:42px;padding:25px 50px;color:#fff;background:#ffffff80;width:100%;margin:0}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{width:96%;margin:auto auto 30px}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;list-style:none;list-style-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fsectors%2Farrow.png?alt=media&token=4253cc25-9cfa-482a-95ae-f884a8c719e5);list-style-position:inside}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(33.333% - 20px);margin-right:30px;padding:10px 0;border-bottom:1px solid #a0a0a0;transition:all .3s ease 0s;cursor:pointer}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:0}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#f9a51c}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px;color:#777;font-weight:400;line-height:26px;text-align:left;text-decoration:none;transition:all .3s ease 0s;cursor:pointer}@media (max-width: 996px){section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(50% - 15px)}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(1n), section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:30px!important}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0!important}}@media (max-width: 768px){section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(1n), section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(2n), section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:0!important}}"]}),t})(),IT=(()=>{class t{constructor(t){this.data=t}ngOnInit(){console.log(this.data)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(jo))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-leadership-team-profile"]],decls:16,vars:4,consts:[[1,"profile_container"],["mat-dialog-close","",1,"close_container"],[1,"fa","fa-times"],[1,"image_container"],[1,"img_container"],["alt","",3,"src"],[1,"follow_container"],[1,"fab","fa-twitter"],[1,"profile_details"],[1,"description"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"i",2),r.qZA(),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r._UZ(5,"img",5),r.qZA(),r.TgZ(6,"div",6),r._UZ(7,"i",7),r._uU(8," Follow on twitter "),r.qZA(),r.qZA(),r.TgZ(9,"div",8),r.TgZ(10,"h5"),r._uU(11),r.qZA(),r.TgZ(12,"h6"),r._uU(13),r.qZA(),r.TgZ(14,"div",9),r._uU(15),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("src",null==e.data.image?null:e.data.image.fileUrl,r.LSH),r.xp6(6),r.Oqu(e.data.name),r.xp6(2),r.Oqu(e.data.designation),r.xp6(2),r.hij(" ",e.data.description," "))},directives:[Go],styles:[".profile_container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.profile_container[_ngcontent-%COMP%]   .close_container[_ngcontent-%COMP%]{position:absolute;top:calc(10% - 14px);right:calc(20% - 14px);padding:10px 13px;background:var(--primary-color);border-radius:50%;font-size:20px;cursor:pointer;color:#fff;box-shadow:1px 1px 6px 1px #00000040}.profile_container[_ngcontent-%COMP%]   .image_container[_ngcontent-%COMP%]{width:40%;height:100%;background:#000}.profile_container[_ngcontent-%COMP%]   .image_container[_ngcontent-%COMP%]   .img_container[_ngcontent-%COMP%]{width:92%;margin:4% auto}.profile_container[_ngcontent-%COMP%]   .image_container[_ngcontent-%COMP%]   .img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.profile_container[_ngcontent-%COMP%]   .image_container[_ngcontent-%COMP%]   .follow_container[_ngcontent-%COMP%]{color:#fff;width:-moz-fit-content;width:fit-content;background:#545454;padding:10px 25px;border-radius:50px;margin:50px auto auto;cursor:pointer;font-size:18px;font-weight:500}.profile_container[_ngcontent-%COMP%]   .profile_details[_ngcontent-%COMP%]{width:60%;height:100%;background:#fff;padding:30px}.profile_container[_ngcontent-%COMP%]   .profile_details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:30px;font-weight:700;letter-spacing:.2px;line-height:1.1;margin-bottom:6px}.profile_container[_ngcontent-%COMP%]   .profile_details[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:15.5px;letter-spacing:.25px;font-weight:400;line-height:1.1;margin-bottom:0}.profile_container[_ngcontent-%COMP%]   .profile_details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:10px;margin-top:50px;font-size:14px;font-weight:400;line-height:1.4;max-height:calc(100% - 120px);overflow-y:auto}"]}),t})();function MT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",4),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showMemberDetails(e)}),r.TgZ(1,"div",5),r._UZ(2,"img",6),r.TgZ(3,"div",7),r.TgZ(4,"div",8),r._UZ(5,"i",9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",10),r.TgZ(7,"p",11),r._uU(8),r.qZA(),r.TgZ(9,"p",12),r._uU(10),r.qZA(),r.TgZ(11,"div",13),r.TgZ(12,"ul"),r.TgZ(13,"li"),r._UZ(14,"i",14),r.qZA(),r.TgZ(15,"li"),r._UZ(16,"i",15),r.qZA(),r.TgZ(17,"li"),r._UZ(18,"i",16),r.qZA(),r.TgZ(19,"li"),r._UZ(20,"i",17),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Q6J("src",null==t.image?null:t.image.fileUrl,r.LSH),r.xp6(6),r.Oqu(t.name),r.xp6(2),r.Oqu(t.designation)}}let DT=(()=>{class t{constructor(t,e){this.dialog=t,this.afs=e,this.leadershipTeam=[{name:"Edward Gilmore",designation:"Founder and CEO",image:"https://res2.weblium.site/res/5d8a4cab41a27e002608256a/5d8cbe3c92ab87002626d409_optimized.webp"},{name:"Lucy Kims",designation:"Member Experience Manager",image:"https://res2.weblium.site/res/5d8a4cab41a27e002608256a/5d8cbe36122259002633ffed_optimized.webp"},{name:"Dan Wilson",designation:"Senior Community Manager",image:"https://res2.weblium.site/res/5d8a4cab41a27e002608256a/5d8cbe3a337247002601d4b4_optimized.webp"},{name:"Jack Finnert",designation:"Chief Administrator",image:"https://res2.weblium.site/res/5d8a4cab41a27e002608256a/5d8cbe95dff27b00280a6dde_optimized.webp"}]}ngOnInit(){var t=this;return OT(function*(){yield t.getLeadershipTeam()})()}getLeadershipTeam(){var t=this;return OT(function*(){let e=yield t.afs.collection("leadershipTeam").get().toPromise();t.leadershipTeam=[];for(let n in e.docs){let{name:r,designation:i,description:o,image:s,facebookLink:a,twitterLink:c,instagramLink:u,youtubeLink:l}=e.docs[n].data();s=s&&"{"==s.charAt(0)?JSON.parse(s):{},t.leadershipTeam.push({id:e.docs[n].id,name:r,designation:i,description:o,image:s,profile_img:s.file,fb_link:a,insta_link:u,twitter_link:c,youtube_link:l})}console.log(t.leadershipTeam)})()}showMemberDetails(t){console.log(t),this.dialog.open(IT,{width:"60%",height:"80%",disableClose:!0,data:t,panelClass:"custom-dialog-container"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zo),r.Y36(Hb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-leadership-team"]],decls:9,vars:1,consts:[[2,"padding","0 25px 0"],[1,"banner"],[1,"leadership_team"],["class","member",3,"click",4,"ngFor","ngForOf"],[1,"member",3,"click"],[1,"mem_img"],["alt","",3,"src"],[1,"img_top"],[1,"arrow"],[1,"fa","fa-long-arrow-alt-right"],[1,"mem_details"],[1,"name"],[1,"designation"],[1,"media_links"],[1,"fab","fa-facebook-f"],[1,"fab","fa-instagram"],[1,"fab","fa-twitter"],[1,"fab","fa-youtube"]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"h5"),r._uU(4,"Leadership Team"),r.qZA(),r.qZA(),r.TgZ(5,"div",2),r.TgZ(6,"ul"),r.ynx(7),r.YNc(8,MT,21,3,"li",3),r.BQk(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Q6J("ngForOf",e.leadershipTeam))},directives:[A],styles:["section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{background-color:#eee;background-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fleadership_team_banner.jpeg?alt=media&token=ab5d8f53-0108-4c3a-8f11-8c52eb9a4e62);background-position:50%;background-repeat:no-repeat;background-size:cover;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;height:100vh;max-height:500px;margin-bottom:20px;padding-left:0;padding-right:0;position:relative}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;position:absolute;bottom:0;left:0;font-size:42px;line-height:42px;padding:25px 50px;color:#fff;background:#ffffff80;width:100%}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]{background-color:#f8f2ed;padding:50px 50px 20px;margin-bottom:30px}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;display:flex;flex-wrap:wrap}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]{width:calc(33.333% - 20px);margin-right:30px;margin-bottom:30px;padding:20px;background:#fff;cursor:pointer}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 12px 4px #00000040}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:hover   .mem_img[_ngcontent-%COMP%]   .img_top[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:0}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_img[_ngcontent-%COMP%]{width:100%;position:relative}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:325px}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_img[_ngcontent-%COMP%]   .img_top[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;color:var(--primary-color);justify-content:flex-end;align-items:flex-end;font-size:24px;padding:15px;display:none;transition:all .4s}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_img[_ngcontent-%COMP%]   .img_top[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{background:#fff;border-radius:50%;height:40px;display:flex;align-items:center;justify-content:center;width:40px;animation:rotate .2s ease-out;transition:all .2s}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_details[_ngcontent-%COMP%]   p.name[_ngcontent-%COMP%]{margin-top:30px;font-size:22px;line-height:1.4;font-weight:700;letter-spacing:0;color:#182124}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_details[_ngcontent-%COMP%]   p.designation[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;line-height:1.33;font-weight:500;letter-spacing:.064em;color:#1b1513}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_details[_ngcontent-%COMP%]   .media_links[_ngcontent-%COMP%]{width:100%;margin-top:30px}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_details[_ngcontent-%COMP%]   .media_links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-gap:15px;gap:15px;list-style:none}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]   .mem_details[_ngcontent-%COMP%]   .media_links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid var(--primary-color);border-radius:50%;color:var(--primary-color);display:flex;justify-content:center;align-items:center;cursor:pointer}@media (max-width: 996px){section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]{width:calc(50% - 15px)}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:nth-of-type(1n), section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:30px!important}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0!important}}@media (max-width: 768px){section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:nth-of-type(1n), section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:nth-of-type(2n), section[_ngcontent-%COMP%]   .leadership_team[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.member[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:0!important}}@keyframes rotate{0%{transform:rotate(-180deg);opacity:0}to{transform:rotate(0);opacity:1}}"]}),t})();const RT=function(){return["/sector"]},NT=function(t){return{id:t}};function LT(t,e){if(1&t&&(r.TgZ(0,"li",4),r._UZ(1,"img",5),r.TgZ(2,"div",6),r.TgZ(3,"div",7),r._uU(4),r.qZA(),r.TgZ(5,"div",8),r._UZ(6,"img",9),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.Q6J("routerLink",r.DdM(5,RT))("queryParams",r.VKq(6,NT,t.id)),r.xp6(1),r.Q6J("src",t.image.fileUrl,r.LSH),r.xp6(3),r.Oqu(t.name),r.xp6(2),r.Q6J("src",t.icon.fileUrl,r.LSH)}}let FT=(()=>{class t{constructor(t){this.afs=t,this.sectors=[]}ngOnInit(){var t=this;return OT(function*(){yield t.getSectors()})()}getSectors(){var t=this;return OT(function*(){let e=yield t.afs.collection("sectors").get().toPromise();t.sectors=[];for(let n in e.docs){let r=e.docs[n].data();r.image=r.image&&"{"==r.image.charAt(0)?JSON.parse(r.image):{},r.icon=r.icon&&"{"==r.icon.charAt(0)?JSON.parse(r.icon):{},r.bannerImage=r.bannerImage&&"{"==r.bannerImage.charAt(0)?JSON.parse(r.bannerImage):{},t.sectors.push(Object.assign({id:e.docs[n].id},r))}})()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Hb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-sector"]],decls:9,vars:1,consts:[[2,"padding","0 25px 0"],[1,"banner"],[1,"sectors"],[3,"routerLink","queryParams",4,"ngFor","ngForOf"],[3,"routerLink","queryParams"],["alt","",1,"sector_img",3,"src"],[1,"sector_details"],[1,"sector_name"],[1,"sector_icon"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"h5"),r._uU(4,"Sectors"),r.qZA(),r.qZA(),r.TgZ(5,"div",2),r.TgZ(6,"ul"),r.YNc(7,LT,7,8,"li",3),r.GkF(8),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("ngForOf",e.sectors))},directives:[A,zS],styles:["section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{background-color:#eee;background-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fsectors%2Fsectors_banner.jpg?alt=media&token=1130846d-c72c-41b6-8bbd-56f6e8c36d54);background-position:50%;background-repeat:no-repeat;background-size:cover;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;height:100vh;max-height:500px;margin-bottom:20px;padding-left:0;padding-right:0;position:relative}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:42px;line-height:42px;padding:25px 50px;color:#fff;background:#ffffff80;width:100%;margin:0}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]{padding:0 40px 20px}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;display:flex;flex-wrap:wrap}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(33.333% - 13.333px);margin-right:20px;margin-bottom:20px;display:flex;flex-direction:column;cursor:pointer;transition:all .6s linear}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   img.sector_img[_ngcontent-%COMP%]{filter:grayscale(0);-webkit-filter:grayscale(0)}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .sector_details[_ngcontent-%COMP%]   .sector_name[_ngcontent-%COMP%]{color:var(--secondary-color)}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img.sector_img[_ngcontent-%COMP%]{width:100%;height:250px;filter:grayscale(100%);-webkit-filter:grayscale(100%)}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .sector_details[_ngcontent-%COMP%]{padding:10px 15px;background:#243a6f;display:flex;justify-content:space-between;align-items:center}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .sector_details[_ngcontent-%COMP%]   .sector_name[_ngcontent-%COMP%]{font-size:18px;line-height:38px;color:#fff}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .sector_details[_ngcontent-%COMP%]   .sector_icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:34px;height:37px}@media (min-width: 996px){section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:0}}@media (max-width: 996px){section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(50% - 10px)}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(1n), section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:20px!important}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0!important}}@media (max-width: 768px){section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]{padding:20px 0}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(1n), section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(2n), section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3n){margin-right:0!important}section[_ngcontent-%COMP%]   .sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img.sector_img[_ngcontent-%COMP%]{height:280px}}"]}),t})();const jT=function(t){return{"background-image":t}};function UT(t,e){if(1&t&&r._UZ(0,"div",11),2&t){const t=r.oxw();r.Q6J("ngStyle",r.VKq(1,jT,"url("+(null==t.selectedSector||null==t.selectedSector.bannerImage?null:t.selectedSector.bannerImage.fileUrl)+")"))}}function qT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li"),r._UZ(1,"img",12),r.TgZ(2,"a",8),r.NdJ("click",function(){const e=r.CHM(t).$implicit,n=r.oxw();return n.selectedProduct=e,n.showProduct()}),r._uU(3),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Q6J("src",t.icon.fileUrl,r.LSH),r.xp6(2),r.Oqu(t.name)}}const VT=function(){return["/sector"]},BT=function(t){return{id:t}};function ZT(t,e){if(1&t&&(r.TgZ(0,"li"),r.TgZ(1,"a",13),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.ekj("active",t.id==(null==n.selectedSector?null:n.selectedSector.id)),r.xp6(1),r.Q6J("routerLink",r.DdM(5,VT))("queryParams",r.VKq(6,BT,t.id)),r.xp6(1),r.Oqu(t.name)}}let GT=(()=>{class t{constructor(t,e,n){this.route=t,this.dialog=e,this.afs=n,this.sectors=[],this.products=[],this.showBanner=!0,this.sectorId="",this.selectedProduct={},this.route.queryParams.subscribe(t=>{this.showBanner=!1,console.log(t.id),this.sectorId=t.id,this.getSector()})}ngOnInit(){var t=this;return OT(function*(){yield t.getSectors(),yield t.getProducts()})()}getSector(){var t=this;return OT(function*(){let e=yield t.afs.collection("sectors").doc(t.sectorId).get().toPromise();if(e){let n=e.data();n.image=n.image&&"{"==n.image.charAt(0)?JSON.parse(n.image):{},n.icon=n.icon&&"{"==n.icon.charAt(0)?JSON.parse(n.icon):{},n.bannerImage=n.bannerImage&&"{"==n.bannerImage.charAt(0)?JSON.parse(n.bannerImage):{},t.selectedSector=Object.assign(Object.assign({},n),{id:e.id}),console.log(t.selectedSector),t.showBanner=!0}})()}getSectors(){var t=this;return OT(function*(){let e=yield t.afs.collection("sectors").get().toPromise();t.sectors=[];for(let n in e.docs){let r=e.docs[n].data();t.sectors.push({id:e.docs[n].id,name:r.name})}})()}getProducts(){var t=this;return OT(function*(){let e=yield t.afs.collection("products").get().toPromise();t.products=[];for(let n in e.docs){let r=e.docs[n].data();if(r.sectorId==t.sectorId){r.icon=r.icon&&"{"==r.icon.charAt(0)?JSON.parse(r.icon):{};let i=yield t.afs.doc(r.sector).get().toPromise(),o=i.data(),s=i.id;console.log(o.name),t.products.push(Object.assign(Object.assign({id:e.docs[n].id},r),{sector:o.name,sector_id:s}))}}})()}showProduct(){this.dialog.open(PT,{width:"65%",height:"90%",disableClose:!0,panelClass:"custom-dialog-container"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(CC),r.Y36(Zo),r.Y36(Hb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-sector"]],decls:24,vars:5,consts:[[2,"padding","0 25px 0"],["class","banner",3,"ngStyle",4,"ngIf"],[1,"sector_container"],[1,"sector"],[1,"sector_details"],[1,"key_products"],[4,"ngFor","ngForOf"],["src","https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fsectors%2Faerospace-key2.png?alt=media&token=a73edfa0-0d7d-4a26-8651-3d0c4754abee","alt",""],[3,"click"],[1,"sectors_list"],[3,"active",4,"ngFor","ngForOf"],[1,"banner",3,"ngStyle"],["alt","",3,"src"],[3,"routerLink","queryParams"]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.YNc(2,UT,1,3,"div",1),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"h5"),r._uU(7),r.qZA(),r.TgZ(8,"p"),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"div",5),r.TgZ(11,"h6"),r._uU(12,"Key Products Include:"),r.qZA(),r.TgZ(13,"ul"),r.YNc(14,qT,4,2,"li",6),r.TgZ(15,"li"),r._UZ(16,"img",7),r.TgZ(17,"a",8),r.NdJ("click",function(){return e.showProduct()}),r._uU(18,"Business Interruption"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",9),r.TgZ(20,"h5"),r._uU(21,"Sectors"),r.qZA(),r.TgZ(22,"ul"),r.YNc(23,ZT,3,8,"li",10),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngIf",e.showBanner),r.xp6(5),r.Oqu(null==e.selectedSector?null:e.selectedSector.name),r.xp6(2),r.Oqu(null==e.selectedSector?null:e.selectedSector.description),r.xp6(5),r.Q6J("ngForOf",e.products),r.xp6(9),r.Q6J("ngForOf",e.sectors))},directives:[M,A,N,HS],styles:["section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{background-color:#eee;background-position:50%;background-repeat:no-repeat;background-size:cover;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;height:100vh;max-height:380px;margin-bottom:20px;padding-left:0;padding-right:0}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]{width:92%;margin:auto;display:flex;padding:25px 0 30px}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]{width:75%;padding-right:40px}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]   .sector_details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--primary-color);font-size:32px;font-weight:500;padding:0 0 2%;text-transform:capitalize;line-height:1.1}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]   .sector_details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#777;font-weight:400;line-height:26px;padding:0 0 15px;text-align:justify}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]   .key_products[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;color:#777;font-weight:600;text-transform:capitalize;padding-top:1%;padding-bottom:15px}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]   .key_products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]   .key_products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;border-bottom:1px dashed #243a6f;font-size:15px;color:#243a6f;font-weight:400;text-transform:capitalize;padding:10px 0;list-style:none;display:flex;align-items:center;grid-gap:20px;gap:20px;cursor:pointer}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]   .key_products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50px}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]{width:25%}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:100%;color:var(--primary-color);font-size:22px;font-weight:600;text-transform:uppercase;margin-left:2px;padding-bottom:10px;display:inline-block;margin-bottom:15px;border-bottom:3px solid var(--primary-color)}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;list-style-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fsectors%2Farrow.png?alt=media&token=4253cc25-9cfa-482a-95ae-f884a8c719e5);list-style-position:inside}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #a0a0a0;transition:all .3s ease 0s}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--secondary-color)}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px;color:#777;font-weight:400;line-height:26px;text-align:left;text-decoration:none;transition:all .3s ease 0s;cursor:pointer}@media (max-width: 768px){section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]{flex-direction:column}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sector[_ngcontent-%COMP%]{width:100%;padding-right:0;padding-bottom:30px}section[_ngcontent-%COMP%]   .sector_container[_ngcontent-%COMP%]   .sectors_list[_ngcontent-%COMP%]{width:100%}}"]}),t})(),zT=(()=>{class t{constructor(t){this.afs=t,this.aboutUs=""}ngOnInit(){var t=this;return OT(function*(){yield t.getAboutUs()})()}getAboutUs(){var t=this;return OT(function*(){let e=yield t.afs.collection("aboutUs").get().toPromise();if(e){let n=e.docs[0].data();t.aboutUs=n.data}})()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Hb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-about-us"]],decls:6,vars:1,consts:[[2,"padding","0 25px 0"],[1,"banner"],[1,"about_us",3,"innerHTML"]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"h5"),r._uU(4,"About Us"),r.qZA(),r.qZA(),r._UZ(5,"div",2),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("innerHTML",e.aboutUs,r.oJD))},styles:["section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{background-color:#eee;background-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fabout_us_banner.jpg?alt=media&token=66fda6f3-842f-40c0-8f0c-f6d362822c76);background-position:50%;background-repeat:no-repeat;background-size:cover;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;height:100vh;max-height:500px;margin-bottom:20px;padding-left:0;padding-right:0;position:relative}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:42px;line-height:42px;padding:25px 50px;color:#fff;background:#ffffff80;width:100%;margin:0}section[_ngcontent-%COMP%]   .about_us[_ngcontent-%COMP%]{font-size:19px;line-height:28px;width:95%;margin:auto;padding-bottom:40px}"]}),t})();function HT(t,e){if(1&t&&(r.TgZ(0,"div",6),r._UZ(1,"img",7),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.s9C("src",t.img,r.LSH)}}const $T=function(){return["/sector"]},QT=function(t){return{id:t}};function KT(t,e){if(1&t&&(r.TgZ(0,"li"),r.TgZ(1,"div",8),r._UZ(2,"img",9),r.TgZ(3,"h5"),r._uU(4),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("routerLink",r.DdM(4,$T))("queryParams",r.VKq(5,QT,t.id)),r.xp6(1),r.Q6J("src",t.icon.fileUrl,r.LSH),r.xp6(2),r.Oqu(t.name)}}const WT=[{path:"",redirectTo:"landing",pathMatch:"full"},{path:"landing",component:(()=>{class t{constructor(t){this.afs=t,this.slides=[{img:"https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fcarousel%2Flanding_carousel_8.jpg?alt=media&token=091460ba-5204-4a18-93bd-8c33975b00e4"},{img:"https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fcarousel%2Flanding_carousel_10.jpg?alt=media&token=091460ba-5204-4a18-93bd-8c33975b00e4"}],this.slideConfig={slidesToShow:1,slidesToScroll:1,dots:!0,infinite:!0,autoplay:!0},this.sectors=[]}ngOnInit(){var t=this;return OT(function*(){yield t.getSectors()})()}getSectors(){var t=this;return OT(function*(){let e=yield t.afs.collection("sectors").get().toPromise();t.sectors=[];for(let n in e.docs){let r=e.docs[n].data(),i=e.docs[n].id;r.icon=r.icon&&"{"==r.icon.charAt(0)?JSON.parse(r.icon):{},t.sectors.push({id:i,name:r.name,icon:r.icon})}})()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Hb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-landing"]],decls:14,vars:3,consts:[[2,"padding","0 25px 0"],[1,"carousel",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf"],[1,"products"],[4,"ngFor","ngForOf"],["ngxSlickItem","",1,"slide"],["alt","","width","100%",3,"src"],[1,"product",3,"routerLink","queryParams"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.TgZ(2,"ngx-slick-carousel",1,2),r.YNc(4,HT,2,1,"div",3),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"h2"),r.TgZ(7,"strong"),r._uU(8,"Sectors"),r.qZA(),r._uU(9," we serve"),r.qZA(),r.TgZ(10,"p"),r._uU(11,"We excel in our work so that you excel in yours."),r.qZA(),r.TgZ(12,"ul"),r.YNc(13,KT,5,7,"li",5),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("config",e.slideConfig),r.xp6(2),r.Q6J("ngForOf",e.slides),r.xp6(9),r.Q6J("ngForOf",e.sectors))},directives:[wT,A,CT,zS],styles:["section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{background-color:#eee;background-image:url(https://firebasestorage.googleapis.com/v0/b/securisk-iwms.appspot.com/o/rfq%2FWhatsApp%20Image%202022-12-01%20at%207.17.42%20PM.jpeg?alt=media&token=b1a708bb-83cd-4d25-b4b3-096a403a6453);background-repeat:no-repeat;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;height:100vh;max-height:600px;margin-bottom:20px;padding-left:0;padding-right:0}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{background-position:50%;background-size:cover}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{width:100%;padding:60px 0;background-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Flanding-bg.jpg?alt=media&token=457b157c-397a-4d70-8e96-e588141ae318);margin-top:125px}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:38px;font-weight:500;color:#fff;text-align:center;line-height:1.2}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#fff;text-align:center;line-height:1.2}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;width:92%;margin:30px auto}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:16.666%;padding:15px;box-sizing:border-box;position:relative;cursor:pointer}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{background:#fff;flex-direction:column;display:flex;grid-gap:20px;gap:20px;align-items:center;padding:0 10px}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]:hover{background:var(--primary-color)}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:brightness(1)}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(.3);width:44px;height:68px;padding:20px 0 0}section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-color);cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}  ngx-slick-carousel{width:100%;max-height:600px}  .slick-track{height:inherit}  .slick-slide img{height:600px;object-fit:cover}@media (max-width: 996px){section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:25%}}@media (max-width: 768px){section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:33.3333%}}@media (max-width: 576px){section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50%}}"]}),t})()},{path:"about-us",component:zT},{path:"sectors",component:FT},{path:"sector",component:GT},{path:"leadership-team",component:DT},{path:"products",component:AT},{path:"services",component:xT}];let JT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[oT.forRoot(WT,{useHash:!0})],oT]}),t})(),YT=(()=>{class t{onRightClick(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","appDisableRightClick",""]],hostBindings:function(t,e){1&t&&r.NdJ("contextmenu",function(t){return e.onRightClick(t)})}}),t})(),XT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-logo"]],decls:19,vars:0,consts:[[1,"logo_container"],["src","assets/securisk_logo_small.png","alt",""],[1,"waviy"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[2,"--i","4"],[2,"--i","5"],[2,"--i","6"],[2,"--i","7"],[2,"--i","8"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"img",1),r.TgZ(2,"div",2),r.TgZ(3,"span",3),r._uU(4,"S"),r.qZA(),r.TgZ(5,"span",4),r._uU(6,"E"),r.qZA(),r.TgZ(7,"span",5),r._uU(8,"C"),r.qZA(),r.TgZ(9,"span",6),r._uU(10,"U"),r.qZA(),r.TgZ(11,"span",7),r._uU(12,"R"),r.qZA(),r.TgZ(13,"span",8),r._uU(14,"I"),r.qZA(),r.TgZ(15,"span",9),r._uU(16,"S"),r.qZA(),r.TgZ(17,"span",10),r._uU(18,"K"),r.qZA(),r.qZA(),r.qZA())},styles:[".logo_container[_ngcontent-%COMP%]{display:flex;grid-gap:15px;gap:15px;align-items:center}.logo_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px}.logo_container[_ngcontent-%COMP%]   .waviy[_ngcontent-%COMP%]{position:relative;letter-spacing:-2px}.logo_container[_ngcontent-%COMP%]   .waviy[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{mix-blend-mode:difference;transition:1.5s ease-in-out;position:relative;display:inline-block;font-size:28px;line-height:28px;font-weight:400;color:#fff;text-transform:uppercase;animation:flip 4s infinite;animation-delay:calc(.2s * var(--i));font-family:Saira,sans-serif}@keyframes flip{0%,80%{transform:rotateY(1turn)}}"]}),t})();const tE=function(){return["/about-us"]},eE=function(){return["/leadership-team"]},nE=function(){return["/sectors"]},rE=function(){return["/products"]},iE=function(){return["/services"]};function oE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ul",8),r.TgZ(1,"li",9),r._uU(2,"About Us"),r.qZA(),r.TgZ(3,"li",10),r._uU(4,"Leadership Team"),r.qZA(),r.TgZ(5,"li",10),r._uU(6,"Sectors"),r.qZA(),r.TgZ(7,"li",11),r._uU(8,"Products"),r.qZA(),r.TgZ(9,"li",12),r._uU(10,"Services"),r.qZA(),r.TgZ(11,"li",13),r.NdJ("click",function(){return r.CHM(t),r.oxw().goToContact()}),r._uU(12,"Contact"),r.qZA(),r.qZA()}2&t&&(r.xp6(1),r.Q6J("routerLink",r.DdM(5,tE)),r.xp6(2),r.Q6J("routerLink",r.DdM(6,eE)),r.xp6(2),r.Q6J("routerLink",r.DdM(7,nE)),r.xp6(2),r.Q6J("routerLink",r.DdM(8,rE)),r.xp6(2),r.Q6J("routerLink",r.DdM(9,iE)))}function sE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ul",14),r.TgZ(1,"li",9),r._uU(2,"About Us"),r.qZA(),r.TgZ(3,"li",10),r._uU(4,"Leadership Team"),r.qZA(),r.TgZ(5,"li",10),r._uU(6,"Sectors"),r.qZA(),r.TgZ(7,"li",11),r._uU(8,"Products"),r.qZA(),r.TgZ(9,"li",12),r._uU(10,"Services"),r.qZA(),r.TgZ(11,"li",13),r.NdJ("click",function(){return r.CHM(t),r.oxw().goToContact()}),r._uU(12,"Contact"),r.qZA(),r.qZA()}2&t&&(r.xp6(1),r.Q6J("routerLink",r.DdM(5,tE)),r.xp6(2),r.Q6J("routerLink",r.DdM(6,eE)),r.xp6(2),r.Q6J("routerLink",r.DdM(7,nE)),r.xp6(2),r.Q6J("routerLink",r.DdM(8,rE)),r.xp6(2),r.Q6J("routerLink",r.DdM(9,iE)))}const aE=function(){return["/landing"]};let cE=(()=>{class t{constructor(){this.isMenuOpened=!1}ngOnInit(){}goToContact(){window.scroll({top:1e6})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-header"]],decls:11,vars:9,consts:[[1,"header_container"],[1,"logo",3,"routerLink"],[1,"nav_container"],["class","navs mobile_none",4,"ngIf"],[1,"menu"],[3,"ngClass","click"],[1,"mobile_menu_container","desktop_none"],["class","navs",4,"ngIf"],[1,"navs","mobile_none"],["routerLinkActive","active",2,"--i","1",3,"routerLink"],["routerLinkActive","active",2,"--i","2",3,"routerLink"],["routerLinkActive","active",2,"--i","3",3,"routerLink"],["routerLinkActive","active",2,"--i","4",3,"routerLink"],[2,"--i","5",3,"click"],[1,"navs"]],template:function(t,e){1&t&&(r.TgZ(0,"header"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r._UZ(3,"app-logo"),r.qZA(),r.TgZ(4,"div",2),r.YNc(5,oE,13,10,"ul",3),r.TgZ(6,"div",4),r.TgZ(7,"i",5),r.NdJ("click",function(){return e.isMenuOpened=!e.isMenuOpened}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r.TgZ(9,"div",2),r.YNc(10,sE,13,10,"ul",7),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("routerLink",r.DdM(8,aE)),r.xp6(2),r.Udp("flex",e.isMenuOpened?"1":"none"),r.xp6(1),r.Q6J("ngIf",e.isMenuOpened),r.xp6(2),r.Q6J("ngClass",e.isMenuOpened?"fa fa-times":"fa fa-bars"),r.xp6(2),r.Udp("flex",e.isMenuOpened?"1":"none"),r.xp6(1),r.Q6J("ngIf",e.isMenuOpened))},directives:[zS,XT,M,P,QS],styles:['header[_ngcontent-%COMP%]{width:100%;padding:15px 40px}header[_ngcontent-%COMP%]   .header_container[_ngcontent-%COMP%]{display:flex;grid-gap:50px;gap:50px;align-items:center;justify-content:space-between}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:160px}header[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]{background:#fff;display:flex;align-items:center}header[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]   .navs[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;grid-gap:35px;gap:35px;list-style:none;padding:20px 30px;flex:1}header[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]   .navs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;font-size:14px;font-weight:400;color:#000!important;cursor:pointer;animation:translate .6s cubic-bezier(.215,.61,.355,1);animation-delay:calc(.05s * var(--i))}header[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]   .navs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after, header[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]   .navs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{content:"";width:100%;height:1px;background:#000;position:absolute;bottom:-2px;left:0}header[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px 25px;font-size:22px;cursor:pointer}.mobile_none[_ngcontent-%COMP%]{display:flex}.desktop_none[_ngcontent-%COMP%]{display:none}@keyframes translate{0%{transform:perspective(500px) translate3d(0,15.67382827px,0);opacity:.8}to{transform:none;opacity:1}}@media (max-width: 900px){.mobile_none[_ngcontent-%COMP%]{display:none!important}.desktop_none[_ngcontent-%COMP%]{display:block!important}header[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]{flex:1!important;justify-content:flex-end}header[_ngcontent-%COMP%]   .mobile_menu_container[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]{flex:1}header[_ngcontent-%COMP%]   .mobile_menu_container[_ngcontent-%COMP%]   .nav_container[_ngcontent-%COMP%]   .navs[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}@media (max-width: 400px){header[_ngcontent-%COMP%]{padding:15px}header[_ngcontent-%COMP%]   .header_container[_ngcontent-%COMP%]{grid-gap:0;gap:0}}']}),t})();function uE(t,e){if(1&t&&(r.TgZ(0,"div",20),r.TgZ(1,"h4"),r._uU(2),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.TgZ(5,"p"),r._uU(6," TEL: "),r.TgZ(7,"a",16),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"ul",21),r.TgZ(10,"li"),r.TgZ(11,"a",22),r._UZ(12,"i",23),r.qZA(),r.qZA(),r.TgZ(13,"li"),r.TgZ(14,"a",16),r._UZ(15,"i",24),r.qZA(),r.qZA(),r.TgZ(16,"li"),r.TgZ(17,"a",16),r._UZ(18,"i",25),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.hij("",t.address_type," Office"),r.xp6(2),r.Oqu(t.address),r.xp6(3),r.MGl("href","tel:",t.mobile,"",r.LSH),r.xp6(1),r.Oqu(t.mobile),r.xp6(3),r.MGl("href","https://wa.me/",t.whatsappNumber,"",r.LSH),r.xp6(3),r.s9C("href",t.maps_link,r.LSH),r.xp6(3),r.MGl("href","mailto:",t.email,"",r.LSH)}}const lE=function(){return["/landing"]};let hE=(()=>{class t{constructor(t){this.afs=t,this.footerData={},this.addresses=[]}ngOnInit(){var t=this;return OT(function*(){yield t.getFooter(),yield t.getAddress()})()}getFooter(){var t=this;return OT(function*(){let e=(yield t.afs.collection("footer").get().toPromise()).docs[0].data();t.footerData=e,console.log(t.footerData)})()}getAddress(){var t=this;return OT(function*(){const e=yield t.afs.collection("Address").get().toPromise();console.log(e.docs[0].data());let n=[];for(let t in e.docs){let r=e.docs[t].data();n.push({id:e.docs[t].id,branch_name:r.location,address:r.address,address_type:r.addressType,email:r.email,mobile:r.mobile,whatsappNumber:r.whatsappNumber,maps_link:r.mapsLink})}t.addresses=n.sort((t,e)=>{let n=t.address_type.toLowerCase(),r=e.address_type.toLowerCase();return n<r?1:n>r?-1:0}),console.log(t.addresses)})()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Hb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-footer"]],decls:54,vars:9,consts:[[1,"logo",3,"routerLink"],[1,"top_container"],["class","address",4,"ngFor","ngForOf"],[1,"chat_container"],["autocomplete","off"],["type","text","placeholder","First Name"],["type","text","placeholder","Last Name"],["type","text","placeholder","Email"],["type","text","placeholder","Phone"],["id","","rows","5","placeholder","Type here..."],[1,"bottom_container"],[1,"quick_links"],["href",""],[1,"btm_flex"],[1,"copyright",3,"innerHTML"],[1,"media"],[3,"href"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-youtube"],[1,"address"],[1,"add_links"],["target","_blank",3,"href"],[1,"fab","fa-whatsapp"],[1,"fas","fa-map-marked-alt"],[1,"fas","fa-envelope"]],template:function(t,e){1&t&&(r.TgZ(0,"footer"),r.TgZ(1,"div",0),r._UZ(2,"app-logo"),r.qZA(),r.TgZ(3,"div",1),r.YNc(4,uE,19,7,"div",2),r.TgZ(5,"div",3),r.TgZ(6,"h4"),r._uU(7,"Let's Chat"),r.qZA(),r.TgZ(8,"form",4),r.TgZ(9,"div"),r._UZ(10,"input",5),r._UZ(11,"input",6),r.qZA(),r.TgZ(12,"div"),r._UZ(13,"input",7),r._UZ(14,"input",8),r.qZA(),r.TgZ(15,"div"),r._UZ(16,"textarea",9),r.qZA(),r.TgZ(17,"button"),r._uU(18,"OK"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",10),r.TgZ(20,"div",11),r.TgZ(21,"a",12),r._uU(22,"Terms & Conditions"),r.qZA(),r._uU(23," | "),r.TgZ(24,"a",12),r._uU(25,"Disclaimer"),r.qZA(),r._uU(26," | "),r.TgZ(27,"a",12),r._uU(28,"Privacy & Security"),r.qZA(),r._uU(29," | "),r.TgZ(30,"a",12),r._uU(31,"Website Disclosure"),r.qZA(),r._uU(32," | "),r.TgZ(33,"a",12),r._uU(34,"Cookies"),r.qZA(),r._uU(35," | "),r.TgZ(36,"a",12),r._uU(37,"Customer Grievance Redressal"),r.qZA(),r._uU(38," | "),r.TgZ(39,"a",12),r._uU(40,"Code of Conduct"),r.qZA(),r.qZA(),r.TgZ(41,"div",13),r._UZ(42,"div",14),r.TgZ(43,"div",15),r.TgZ(44,"ul"),r.TgZ(45,"li"),r.TgZ(46,"a",16),r._UZ(47,"i",17),r.qZA(),r.qZA(),r.TgZ(48,"li"),r.TgZ(49,"a",16),r._UZ(50,"i",18),r.qZA(),r.qZA(),r.TgZ(51,"li"),r.TgZ(52,"a",16),r._UZ(53,"i",19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Q6J("routerLink",r.DdM(8,lE)),r.xp6(2),r.Udp("--span",e.addresses.length+1),r.xp6(1),r.Q6J("ngForOf",e.addresses),r.xp6(38),r.Q6J("innerHTML",e.footerData.data,r.oJD),r.xp6(4),r.Q6J("href",e.footerData.facebookLink,r.LSH),r.xp6(3),r.Q6J("href",e.footerData.twitterLink,r.LSH),r.xp6(3),r.Q6J("href",e.footerData.youtubeLink,r.LSH))},directives:[zS,XT,A],styles:["footer[_ngcontent-%COMP%]{width:100%;background:#fff;padding:20px 50px;border-top:2px solid #c7c3bf}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]{width:100%;display:flex;padding-bottom:50px;flex-wrap:wrap;justify-content:center}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .comp_details[_ngcontent-%COMP%]{width:25%;padding-right:20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{width:calc(100% / var(--span));padding-right:20px;margin-top:20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]{width:calc(100% / var(--span));margin-top:20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;margin-bottom:10px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px;width:calc(50% - 5px);flex:1;outline:none;background:#0000;border:none;border-bottom:1px solid #31302f;color:#31302f}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#31302f}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border-bottom:none}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;margin-top:20px;border:2px solid #31302f;padding:10px 10px 10px 15px;color:#31302f;outline:none}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#31302f}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;display:block;margin-top:20px;width:100px;height:36px;border:none;outline:none;background:#31302f;border-radius:inherit;color:#fff;cursor:pointer}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]{padding-top:20px;border-top:1px solid #c7c3bf}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   .quick_links[_ngcontent-%COMP%]{padding-bottom:20px;display:flex;flex-wrap:wrap;justify-content:space-around;grid-gap:30px;gap:30px}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   .quick_links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;text-decoration:none;font-size:15px;cursor:pointer;font-weight:400}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px;line-height:1.2}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.2;letter-spacing:0;margin-bottom:25px;font-size:15px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#323232;text-decoration:underline;letter-spacing:.3px;cursor:pointer}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .add_links[_ngcontent-%COMP%]{display:flex;grid-gap:20px;gap:20px;list-style:none;font-size:20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .add_links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .add_links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:20px;height:20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .prod_list[_ngcontent-%COMP%]{list-style:none}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .prod_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .prod_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .prod_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .prod_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:default}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   .btm_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;grid-gap:20px;gap:20px}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;letter-spacing:0;line-height:1.4}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;grid-gap:40px;gap:40px}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:22px;cursor:pointer}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:22px;height:22px;color:#000}@media (max-width: 996px){footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]{flex-wrap:wrap}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .comp_details[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:50%;margin:0 0 20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{width:50%}}@media (max-width: 576px){footer[_ngcontent-%COMP%]{padding:60px 40px 20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]{flex-wrap:wrap}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .comp_details[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{width:100%;margin:0 0 20px}footer[_ngcontent-%COMP%]   .top_container[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   .btm_flex[_ngcontent-%COMP%]{flex-direction:column;grid-gap:20px;gap:20px;align-items:center}footer[_ngcontent-%COMP%]   .bottom_container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}}"]}),t})();const dE=["cookiesTmpl"];function fE(t,e){1&t&&(r.TgZ(0,"div",4),r.TgZ(1,"p"),r._uU(2,"We use the cookies for optimizing the performance of this site and give you the best user experience. By using the site, you accept our use of cookies."),r.qZA(),r.TgZ(3,"div",5),r.TgZ(4,"button",6),r._uU(5,"Okay"),r.qZA(),r.TgZ(6,"button",6),r._uU(7,"Manage Cookies"),r.qZA(),r.qZA(),r.qZA())}let pE=(()=>{class t{constructor(t){this.dialog=t,this.title="securisk"}ngAfterViewInit(){this.showCookies()}onRightClick(t){t.preventDefault()}showCookies(){this.dialog.open(this.cookiesTmpl,{disableClose:!0,width:"400px",height:"200px",panelClass:"custom-dialog-container"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zo))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&r.Gf(dE,5),2&t){let t;r.iGM(t=r.CRH())&&(e.cookiesTmpl=t.first)}},hostBindings:function(t,e){1&t&&r.NdJ("contextmenu",function(t){return e.onRightClick(t)})},decls:9,vars:0,consts:[["appDisableRightClick","",1,"landing_page"],[1,"header"],[1,"footer"],["cookiesTmpl",""],[1,"cookies_container"],[1,"buttons"],["mat-dialog-close",""]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"section"),r.TgZ(2,"div",1),r._UZ(3,"app-header"),r.qZA(),r._UZ(4,"router-outlet"),r.qZA(),r.TgZ(5,"div",2),r._UZ(6,"app-footer"),r.qZA(),r.qZA(),r.YNc(7,fE,8,0,"ng-template",null,3,r.W1O))},directives:[YT,cE,KS,hE,Go],styles:[".landing_page[_ngcontent-%COMP%]{width:100%;position:relative}.landing_page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 10px;background:#fff;position:sticky;top:0;z-index:10;box-shadow:2px 2px 12px #00000040}  .cookies_container{padding:25px;display:flex;flex-direction:column;justify-content:space-between;height:100%}  .cookies_container p{line-height:1.5;letter-spacing:.2px;font-size:15px}  .cookies_container .buttons{display:flex;justify-content:space-around}  .cookies_container .buttons button{border:none;padding:10px 30px;background:var(--primary-color);color:#fff;font-size:15px;font-weight:500;outline:none;border-radius:5px;cursor:pointer}@media (max-width: 768px){.landing_page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50%}}"]}),t})();const gE={apiKey:"AIzaSyCBsiS1C4z0nHx0un6SfMcunQqUI1d5k5o",authDomain:"securisk-3715f.firebaseapp.com",projectId:"securisk-3715f",storageBucket:"securisk-3715f.appspot.com",messagingSenderId:"329934647110",appId:"1:329934647110:web:d4ba155927e4bda957ff47",measurementId:"G-TREJ4HTPT4"};let mE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[pE]}),t.\u0275inj=r.cJS({providers:[{provide:m,useClass:b}],imports:[[yt,JT,TT,vT,yT,mT,gT,Ho,pT,To,zo,Wo.hO.initializeApp(gE)]]}),t})();(0,r.G48)(),gt().bootstrapModule(mE).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>c,CR:()=>u,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}}},t=>{"use strict";t(t.s=8830)}]);